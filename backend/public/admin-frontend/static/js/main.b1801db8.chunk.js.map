{"version":3,"sources":["util/http/http-resource.ts","util/http/cast-member-http.ts","components/DefaultForm/index.tsx","components/FormButtons/index.tsx","pages/CastMembers/Form/index.tsx","components/Table/DebouncedTableSearch/index.js","components/Table/index.tsx","util/models/index.ts","components/DeleteDialog/index.tsx","hooks/useDeleteCollection.ts","store/filter/index.ts","util/vendor/yup.ts","hooks/useFilter.ts","components/Table/FilterResetButton/index.tsx","pages/CastMembers/Table/index.tsx","pages/CastMembers/List/index.tsx","util/http/category-http.ts","pages/Categories/Form/index.tsx","pages/Categories/Table/index.tsx","pages/Categories/List/index.tsx","pages/Dashboard/index.tsx","util/http/genre-http.ts","pages/Genres/Form/index.tsx","pages/Genres/Table/index.tsx","pages/Genres/List/index.tsx","store/upload/getters.ts","components/UploadProgress/index.tsx","pages/Uploads/Table/UploadAction.tsx","pages/Uploads/Table/UploadItem.tsx","components/Page/index.tsx","pages/Uploads/Table/index.tsx","pages/Uploads/List/index.tsx","pages/Videos/Form/schemaValidations.ts","hooks/useSnackbarFormError.ts","components/AsyncAutocomplete/index.tsx","components/GridSelected/index.tsx","components/GridSelectedItem/index.tsx","hooks/useHttpHandled.ts","hooks/useCollectionManager.ts","pages/Videos/Form/CastMemberField/index.tsx","util/model-filters/index.ts","pages/Videos/Form/CategoryField/index.tsx","pages/Videos/Form/GenreField/index.tsx","components/SnackbarUpload/UploadProgress.tsx","components/SnackbarUpload/UploadAction.tsx","components/SnackbarUpload/UploadItem.tsx","components/SnackbarUpload/index.tsx","components/Rating/index.tsx","pages/Videos/Form/RatingField/index.tsx","components/InputFile/index.tsx","components/UploadField/index.tsx","pages/Videos/Form/index.tsx","pages/Videos/Table/index.tsx","pages/Videos/List/index.tsx","routes/index.tsx","static/logo.png","components/Navbar/Drawer/index.tsx","components/Loading/LoadingContext/index.ts","components/Navbar/index.tsx","routes/AppRouter.tsx","components/Breadcrumbs/index.tsx","theme.ts","components/SnackBarProvider/index.tsx","components/Spinner/index.tsx","components/Loading/LoadingProvider/index.tsx","App.tsx","serviceWorker.ts","store/upload/sagas.ts","store/root-saga.ts","store/index.ts","index.tsx","util/http/index.ts","store/upload/index.ts","util/http/video-http.ts"],"names":["HttpResource","http","resource","cancelList","options","this","cancel","axios","CancelToken","source","config","cancelToken","token","queryParams","params","get","id","data","sendData","makeSendData","post","containsFile","getFormData","usePost","put","patch","delete","error","isCancel","serialize","booleansAsIntegers","Object","values","filter","el","File","length","castMemberHttp","httpVideo","useStyles","makeStyles","theme","gridItem","padding","spacing","DefaultForm","props","classes","GridItemProps","GridContainerProps","others","Grid","container","className","item","children","submit","margin","circularProgress","marginLeft","position","top","FormButtons","loading","handleSave","setFormType","buttonProps","color","variant","disabled","CircularProgress","size","Box","Button","type","onClick","schema","Yup","shape","name","label","required","max","Form","useForm","resolver","yupResolver","register","handleSubmit","getValues","setValue","errors","reset","watch","trigger","enqueueSnackbar","useSnackbar","history","useHistory","useParams","useState","castMember","setCastMember","formType","useContext","LoadingContext","useEffect","isSubscribed","loadCastMember","a","console","onSubmit","formData","event","update","create","setTimeout","push","castMemberId","urlRedirect","replace","xs","md","TextField","fullWidth","inputRef","undefined","helperText","message","InputLabelProps","shrink","FormControl","FormLabel","component","RadioGroup","defaultValue","aria-label","onChange","parseInt","target","value","FormControlLabel","control","Radio","FormHelperText","then","isValid","DebouncedTableSearch","handleTextChange","setState","text","debouncedOnSearch","onSearch","onKeyDown","keyCode","onHide","searchText","state","debounce","bind","debounceTime","document","addEventListener","prevProps","prevState","snapshot","e","removeEventListener","Grow","appear","in","timeout","main","ref","rootRef","searchIcon","autoFocus","InputProps","textLabels","toolbar","search","searchField","placeholder","searchPlaceholder","IconButton","clearIcon","React","PureComponent","withStyles","display","flex","palette","secondary","marginTop","marginRight","Table","forwardRef","debouncedSearchTime","columns","cloneDeep","useTheme","isSmOrDown","useMediaQuery","breakpoints","down","defaultOptions","print","download","body","noMatch","toolTip","pagination","next","previous","rowsPerPage","displayRows","downloadCsv","viewColumns","filterTable","all","title","titleAria","selectedRows","deleteAria","customSearchRender","handleSearch","hideSearch","newProps","merge","setColumnsWitdh","map","column","omit","forEach","key","width","applyLoading","responsive","originalProps","VideoFileFieldsMaps","thumb_file","banner_file","trailer_file","video_file","CastMemberTypeMap","1","2","DeleteDialog","open","handleClose","Dialog","onClose","DialogTitle","DialogContent","DialogContentText","DialogActions","useDeleteCollection","openDeleteDialog","setOpenDeleteDialog","rowsToDelete","setRowsToDelete","createActions","setSearch","setPage","setPerPage","setOrder","setReset","updateExtraFilter","Types","Creators","INITIAL_STATE","page","per_page","order","sort","dir","reducer","createReducer","SET_SEARCH","action","payload","SET_PAGE","SET_PER_PAGE","SET_ORDER","SET_RESET","UPDATE_EXTRA_FILTER","extraFilter","setLocale","mixed","notType","string","number","min","FilterManager","dispatch","tableRef","perPage","changedColumn","direction","includes","resePagination","sortDirection","cast","current","changeRowsPerPage","changePage","useFilter","location","useLocation","locationSearch","locationPathname","pathname","locationState","rowsPerPageOptions","useMemo","transform","default","isNaN","nullable","toLowerCase","createValidationSchema","stateFromUrl","URLSearchParams","substr","getStateFromUrl","cleanSearchText","useCallback","newText","formatSearchParams","useReducer","filterState","filterManager","totalRecords","setTotalRecords","useDebounce","debouncedFilterState","newLocation","oldState","nextState","isEqual","applyOrderInColumns","iconButton","overrides","MUIDataTableTooblar","icon","FilterResetButton","Tooltip","handleClick","castMemberNames","columnsDefinition","filterOptions","names","customBodyRender","tableMeta","updateValue","format","parseISO","Link","to","rowData","btnAdd","subscribed","useRef","setData","indexColumnType","findIndex","c","columnType","typeFilterValue","filterList","serverSideFilterList","getData","list","invert","meta","total","isCancelledRequest","confirmed","ids","index","join","deleteCollection","response","catch","serverSide","count","onFilterChange","columnIndex","changeExtraFilter","resetFilter","customToolbar","onSearchChange","changeSearch","onChangePage","onChangeRowsPerPage","onColumnSortChange","changeColumnSort","onRowsDelete","rowsDeleted","List","categoryHttp","description","is_active","defaultValues","category","setCategory","loadCategories","categoryId","multiline","rows","Checkbox","checked","labelPlacement","Chip","Dashboard","genreHttp","categories_id","categories","setCategories","genre","setGenre","promises","Promise","categoryResponse","genreResponse","loadData","genreId","select","SelectProps","multiple","MenuItem","filterType","split","indexColumnCategories","columnCategories","categoriesFilterValue","isFinished","obj","progress","hasError","isUploadType","files","some","file","progressContainer","progressBackground","grey","left","UploadProgress","uploadOrFile","Fade","enter","exit","successIcon","success","errorIcon","divider","height","UploadAction","useDispatch","show","setShow","debouncedShow","videoId","video","activeActions","Divider","orientation","removeUpload","minWidth","gridTitle","UploadItem","ListItem","alignItems","Typography","justify","Page","Container","paddingTop","panelSummary","backgroundColor","primary","contrastText","expendedIcon","Uploads","uploads","useSelector","upload","Card","elevation","CardContent","ExpansionPanel","style","ExpansionPanelSummary","expandIcon","ExpansionPanelDetails","Fragment","dense","fileField","filename","schemaValidations","year_launched","duration","rating","genres","test","json","JSON","parse","parentCategories","parent","every","v","cat","cast_members","opened","useSnackbarFormError","submitCount","keys","AsyncAutocomplete","AutocompleteProps","fetchOptions","freeSolo","onOpen","onInputChange","setOpen","setSearchText","debouncedSearchText","setLoading","setOptions","textFieldProps","TextFieldProps","autocompleteProps","loadingText","noOptionsText","inputValue","renderInput","endAdornment","useImperativeHandle","clear","Autocomplete","createStyles","root","borderRadius","GridSelected","rest","wrap","GridSelectedItem","onDelete","useHttpHandled","request","useCollectionManager","collection","setCollection","snackbar","addItem","find","i","unshift","removeItem","splice","CastMemberField","autocompleteHttp","castMembers","setCastMembers","autocompleteRef","clearOnEscape","getOptionLabel","option","getOptionSelected","FormControlProps","noWrap","getGenresFromCategory","genresSubtitle","fontSize","CategoryField","genreFromCategories","GenreField","setGenres","removeCategory","deleteIcon","hover","ListItemSecondaryAction","hidden","edge","movieIcon","listItem","paddingBottom","listItemText","itemHover","setItemHover","disableFocusListener","disableTouchListener","placement","button","onMouseOver","onMouseLeave","ListItemIcon","ListItemText","card","cardActionRoot","fontWeight","icons","expand","transition","transitions","shortest","expandOpen","SnackbarUpload","closeSnackbar","expanded","setExpanded","totalInProgress","countInProgress","CardActions","classNames","Collapse","justifyContent","backgroundColors","L","Rating","ratings","RatingField","row","InputFile","fileRef","setFilename","inputProps","readOnly","InputAdornment","ButtonFile","inputFileProps","InputFileProps","Array","from","openWindow","click","UploadField","accept","endIcon","fileFields","cardUpload","borderRadios","cardOpened","cardContentOpened","styles","formState","setVideo","isGreaterMd","up","uploadsRef","zipObject","createRef","castMemberRef","categoryRef","genreRef","resetForm","field","loadVideo","videoHttp","uploadFiles","log","addUpload","persist","anchorOrigin","vertical","horizontal","content","cast_member","routes","DashboardRounded","path","exact","CategoryRounded","CategoriesList","CategoriesForm","PersonRounded","CastMembersList","CastMembersForm","GenresList","GenresForm","VideocamRounded","VideosList","VideosForm","CloudUploadRounded","UploadsList","module","exports","fullList","iOS","process","browser","navigator","userAgent","listRoutes","menuRoutes","route","Drawer","toggleDrawer","drawer","role","routeName","rt","disableBackdropTransition","disableDiscovery","createContext","appBar","menuButton","typography","flexGrow","textAlign","logo","Navbar","AppBar","Toolbar","src","alt","AppRouter","breadcrumbNameMap","routerLink","dark","LinkRouter","RouterLink","Breadcrumbs","pathnames","x","last","slice","RouteParser","match","makeBreadcrumbs","background","createMuiTheme","MUIDataTable","paper","boxShadow","minHeight","iconActive","MUIDataTableHeadCell","fixedHeaderCommon","sortActive","sortAction","sortLabelRoot","MUIDataTableSelectCell","headerCell","MUIDataTableBodyCell","MUIDataTableToolbarSelect","MUIDataTableBodyRow","MUIDataTablePagination","variantSuccess","variantError","variantInfo","SnackBarProvider","snackbarProviderRef","defaultProps","autoHideDuration","maxSnack","preventDuplicate","makeLocalTheme","Spinner","LinearProgress","zIndex","LoadingProvider","countRequest","setCountRequest","decrementCountRequest","prevCountRequest","requestIds","addGlobalRequestInterceptor","headers","hasOwnProperty","responseIds","addGlobalResponseInterceptor","reject","removeGlobalRequestInterceptor","removeGlobalResponseInterceptor","Provider","App","CssBaseline","basename","Boolean","window","hostname","uploadWatcherSaga","uploadFile","actionChannel","ADD_UPLOAD","newFilesChannel","take","fileInfo","call","f","sendUpload","channel","updateProgress","setUploadError","eventChannel","emitter","partialUpdate","_method","ignoreLoading","onUploadProgress","progressEvent","lengthComputable","loaded","finally","END","rootSaga","sagaMiddleware","createSagaMiddleware","store","createStore","combineReducers","applyMiddleware","run","ReactDOM","render","getElementById","serviceWorker","ready","registration","unregister","baseURL","instances","onFulfilled","onRejected","interceptors","use","eject","findIndexUpload","$splice","REMOVE_UPLOAD","UPDATE_PROGRESS","findIndexUploadAndFile","indexFile","indexUpload","$apply","$set","calculateGlobalProgress","SET_UPLOAD_ERROR","findIndexFile","countFiles","reduce","sum"],"mappings":"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","file":"static/js/main.b1801db8.chunk.js","sourcesContent":["import {\n  AxiosInstance,\n  AxiosResponse,\n  AxiosRequestConfig,\n  CancelTokenSource,\n} from 'axios';\nimport axios from 'axios';\nimport { serialize } from 'object-to-formdata';\n\nexport default class HttpResource {\n  private cancelList: CancelTokenSource | null = null;\n\n  constructor(protected http: AxiosInstance, protected resource) {}\n\n  list<T = any>(options?: { queryParams? }): Promise<AxiosResponse<T>> {\n    if (this.cancelList) {\n      this.cancelList.cancel('list request cancelled');\n    }\n    this.cancelList = axios.CancelToken.source();\n\n    const config: AxiosRequestConfig = {\n      cancelToken: this.cancelList.token,\n    };\n\n    if (options && options.queryParams) {\n      config.params = options.queryParams;\n    }\n    return this.http.get<T>(this.resource, config);\n  }\n\n  get<T = any>(id): Promise<AxiosResponse<T>> {\n    return this.http.get<T>(`${this.resource}/${id}`);\n  }\n\n  create<T = any>(data): Promise<AxiosResponse<T>> {\n    let sendData = this.makeSendData(data);\n    return this.http.post<T>(this.resource, sendData);\n  }\n\n  update<T = any>(\n    id,\n    data,\n    options?: { http?: { usePost: boolean }; config?: AxiosRequestConfig }\n  ): Promise<AxiosResponse<T>> {\n    let sendData = data;\n    if (this.containsFile(data)) {\n      sendData = this.getFormData(data);\n    }\n    const { http, config } = (options || {}) as any;\n    return !options || !http || !http.usePost\n      ? this.http.put<T>(`${this.resource}/${id}`, sendData, config)\n      : this.http.post<T>(`${this.resource}/${id}`, sendData, config);\n  }\n\n  partialUpdate<T = any>(\n    id,\n    data,\n    options?: { http?: { usePost: boolean }; config?: AxiosRequestConfig }\n  ): Promise<AxiosResponse<T>> {\n    let sendData = data;\n    if (this.containsFile(data)) {\n      sendData = this.getFormData(data);\n    }\n    const { http, config } = (options || {}) as any;\n    return !options || !http || !http.usePost\n      ? this.http.patch<T>(`${this.resource}/${id}`, sendData, config)\n      : this.http.post<T>(`${this.resource}/${id}`, sendData, config);\n  }\n\n  delete<T = any>(id): Promise<AxiosResponse<T>> {\n    return this.http.delete<T>(`${this.resource}/${id}`);\n  }\n\n  deleteCollection<T = any>(queryParams): Promise<AxiosResponse<T>> {\n    const config: AxiosRequestConfig = {};\n    if (queryParams) {\n      config['params'] = queryParams;\n    }\n    return this.http.delete<T>(`${this.resource}`, config);\n  }\n\n  isCancelledRequest(error) {\n    return axios.isCancel(error);\n  }\n\n  private makeSendData(data) {\n    return this.containsFile(data) ? this.getFormData(data) : data;\n  }\n\n  private getFormData(data) {\n    return serialize(data, { booleansAsIntegers: true });\n  }\n\n  private containsFile(data) {\n    return Object.values(data).filter((el) => el instanceof File).length !== 0;\n  }\n}\n","import HttpResource from './http-resource';\nimport { httpVideo } from '.';\n\nconst castMemberHttp = new HttpResource(httpVideo, 'cast_members');\n\nexport default castMemberHttp;\n","import React from 'react';\nimport { Grid, makeStyles } from '@material-ui/core';\nimport { GridProps } from '@material-ui/core/Grid';\n\ninterface DefaultFormProps\n  extends React.DetailedHTMLProps<\n    React.FormHTMLAttributes<HTMLFormElement>,\n    HTMLFormElement\n  > {\n  GridItemProps?: GridProps;\n  GridContainerProps?: GridProps;\n}\n\nconst useStyles = makeStyles((theme) => ({\n  gridItem: {\n    padding: theme.spacing(1, 0),\n  },\n}));\n\nconst DefaultForm: React.FC<DefaultFormProps> = (props) => {\n  const classes = useStyles();\n\n  const { GridItemProps, GridContainerProps, ...others } = props;\n  return (\n    <form {...others}>\n      <Grid container {...GridContainerProps}>\n        <Grid className={classes.gridItem} item {...GridItemProps}>\n          {props.children}\n        </Grid>\n      </Grid>\n    </form>\n  );\n};\n\nexport default DefaultForm;\n","import React, { Dispatch, SetStateAction } from 'react';\n\nimport {\n  Box,\n  Button,\n  ButtonProps,\n  CircularProgress,\n  makeStyles,\n} from '@material-ui/core';\n\ninterface FormButtonsProps {\n  loading?: boolean;\n  handleSave: () => {};\n  setFormType: Dispatch<SetStateAction<string>>;\n}\n\nconst useStyles = makeStyles((theme) => {\n  return {\n    submit: {\n      margin: theme.spacing(1),\n    },\n    circularProgress: {\n      marginLeft: theme.spacing(1),\n      position: 'relative',\n      top: '12px',\n    },\n  };\n});\n\nconst FormButtons: React.FC<FormButtonsProps> = ({ loading, handleSave, setFormType }) => {\n  const classes = useStyles();\n  const buttonProps: ButtonProps = {\n    className: classes.submit,\n    color: 'secondary',\n    variant: 'contained',\n    disabled: loading,\n  };\n  const circularProgress = loading && (\n    <CircularProgress size={26} className={classes.circularProgress} />\n  );\n\n  return (\n    <Box>\n      <Button\n        {...buttonProps}\n        type=\"submit\"\n        onClick={() => handleSave() && setFormType('save')}\n      >\n        Salvar\n      </Button>\n      <Button\n        {...buttonProps}\n        type=\"submit\"\n        onClick={() => handleSave() && setFormType('save-and-new')}\n      >\n        Salvar e adicionar um novo\n      </Button>\n      <Button\n        {...buttonProps}\n        type=\"submit\"\n        onClick={() => handleSave() && setFormType('save-and-edit')}\n      >\n        Salvar e continuar editando\n      </Button>\n      {circularProgress}\n    </Box>\n  );\n};\n\nexport default FormButtons;\n","import { useSnackbar } from 'notistack';\nimport React, { useContext, useEffect, useState } from 'react';\nimport { useForm } from 'react-hook-form';\nimport { yupResolver } from '@hookform/resolvers';\nimport { useHistory, useParams } from 'react-router';\n\nimport * as Yup from 'yup';\nimport castMemberHttp from '../../../util/http/cast-member-http';\nimport { CastMember } from '../../../util/models';\nimport DefaultForm from '../../../components/DefaultForm';\n\nimport {\n  FormControl,\n  FormControlLabel,\n  FormHelperText,\n  FormLabel,\n  Radio,\n  RadioGroup,\n  TextField,\n} from '@material-ui/core';\nimport FormButtons from '../../../components/FormButtons';\nimport LoadingContext from '../../../components/Loading/LoadingContext';\n\nconst schema = Yup.object().shape({\n  name: Yup.string().label('Nome').required().max(255),\n  type: Yup.number().label('Tipo').required(),\n});\n\nconst Form = () => {\n  const {\n    register,\n    handleSubmit,\n    getValues,\n    setValue,\n    errors,\n    reset,\n    watch,\n    trigger,\n  } = useForm({\n    resolver: yupResolver(schema),\n  });\n\n  const { enqueueSnackbar } = useSnackbar();\n  const history = useHistory();\n  const { id }: { id: string } = useParams();\n  const [castMember, setCastMember] = useState<CastMember | null>(null);\n  const [formType, setFormType] = useState<string>('save');\n  const loading = useContext(LoadingContext);\n\n  useEffect(() => {\n    register({ name: 'type' });\n  }, [register]);\n\n  useEffect(() => {\n    if (!id) {\n      return;\n    }\n\n    let isSubscribed = true;\n    async function loadCastMember() {\n      try {\n        const { data } = await castMemberHttp.get(id);\n        if (isSubscribed) {\n          setCastMember(data.data);\n          reset(data.data);\n        }\n      } catch (error) {\n        console.error(error);\n        enqueueSnackbar('Não foi possível carregar as informações.', {\n          variant: 'error',\n        });\n      }\n    }\n\n    loadCastMember();\n\n    return () => {\n      isSubscribed = false;\n    };\n  }, [id, reset, enqueueSnackbar]);\n\n  const handleChange = (event) =>\n    setValue('type', parseInt(event.target.value));\n\n  const onSubmit = async (formData, event) => {\n    try {\n      const http = !castMember\n        ? castMemberHttp.create(formData)\n        : castMemberHttp.update(castMember.id, formData);\n      const { data } = await http;\n\n      enqueueSnackbar('Membro de elenco salvo com sucesso!', {\n        variant: 'success',\n      });\n\n      setTimeout(() => {\n        if (formType === 'save') {\n          history.push('/cast-members');\n        }\n        if (formType === 'save-and-new') {\n          history.push('/cast-members/create');\n        }\n        if (formType === 'save-and-edit') {\n          const castMemberId = data.data.id;\n          const urlRedirect = `/categories/${castMemberId}/edit`;\n          if (id) {\n            history.replace(urlRedirect);\n          } else {\n            history.push(urlRedirect);\n          }\n        }\n      }, 2000);\n    } catch (error) {\n      console.error(error);\n      enqueueSnackbar('Não foi possível salvar o membro de elenco :(', {\n        variant: 'error',\n      });\n    }\n  };\n\n  return (\n    <>\n      <h1>{!id ? 'Adicionar um novo' : 'Editar'} membro de elenco</h1>\n      <DefaultForm\n        GridItemProps={{ xs: 12, md: 6 }}\n        onSubmit={handleSubmit(onSubmit)}\n      >\n        <TextField\n          name=\"name\"\n          label=\"Nome\"\n          fullWidth\n          variant=\"outlined\"\n          disabled={loading}\n          inputRef={register}\n          error={errors.name !== undefined}\n          helperText={errors.name && errors.name.message}\n          InputLabelProps={{ shrink: true }}\n        />\n        <FormControl\n          margin=\"normal\"\n          error={errors.type !== undefined}\n          disabled={loading}\n        >\n          <FormLabel component=\"legend\">Tipo</FormLabel>\n          <RadioGroup\n            defaultValue=\"1\"\n            aria-label=\"type\"\n            name=\"type\"\n            onChange={handleChange}\n            value={watch('type') + ''}\n          >\n            <FormControlLabel value=\"1\" label=\"Diretor\" control={<Radio />} />\n            <FormControlLabel value=\"2\" label=\"Ator\" control={<Radio />} />\n          </RadioGroup>\n          {errors.type && (\n            <FormHelperText id=\"type-helper-text\">\n              {errors.type.message}\n            </FormHelperText>\n          )}\n        </FormControl>\n\n        <FormButtons\n          setFormType={setFormType}\n          loading={loading}\n          handleSave={() =>\n            trigger().then((isValid) => {\n              isValid && onSubmit(getValues(), null);\n            })\n          }\n        />\n      </DefaultForm>\n    </>\n  );\n};\n\nexport default Form;\n","import React from 'react';\nimport Grow from '@material-ui/core/Grow';\nimport TextField from '@material-ui/core/TextField';\nimport SearchIcon from '@material-ui/icons/Search';\nimport IconButton from '@material-ui/core/IconButton';\nimport ClearIcon from '@material-ui/icons/Clear';\nimport { withStyles } from '@material-ui/core/styles';\nimport { debounce } from 'lodash';\n\nconst defaultSearchStyles = (theme) => ({\n  main: {\n    display: 'flex',\n    flex: '1 0 auto',\n  },\n  searchIcon: {\n    color: theme.palette.text.secondary,\n    marginTop: '10px',\n    marginRight: '8px',\n  },\n  searchText: {\n    flex: '0.8 0',\n  },\n  clearIcon: {\n    '&:hover': {\n      color: theme.palette.error.main,\n    },\n  },\n});\n\nclass DebouncedTableSearch extends React.PureComponent {\n  constructor(props) {\n    super(props);\n    const { searchText } = this.props;\n    let value = searchText;\n\n    if (searchText && searchText.value !== undefined) {\n      value = searchText.value;\n    }\n    this.state = {\n      text: value,\n    };\n\n    this.debouncedOnSearch = debounce(\n      this.debouncedOnSearch.bind(this),\n      this.props.debounceTime,\n    );\n  }\n\n  handleTextChange = (event) => {\n    const value = event.target.value;\n    this.setState(\n      {\n        text: value,\n      },\n      () => this.debouncedOnSearch(value),\n    );\n  };\n\n  debouncedOnSearch = (value) => {\n    this.props.onSearch(value);\n  };\n\n  componentDidMount() {\n    document.addEventListener('keydown', this.onKeyDown, false);\n  }\n\n  componentDidUpdate(prevProps, prevState, snapshot) {\n    const { searchText } = this.props;\n\n    if (\n      searchText &&\n      searchText.value !== undefined &&\n      prevProps !== this.props.searchText\n    ) {\n      const value = searchText.value;\n      if (value) {\n        this.setState(\n          {\n            text: value,\n          },\n          () => this.props.onSearch(value),\n        );\n      } else {\n        try {\n          this.props.onHide();\n        } catch (e) {}\n      }\n    }\n  }\n\n  componentWillUnmount() {\n    document.removeEventListener('keydown', this.onKeyDown, false);\n  }\n\n  onKeyDown = (event) => {\n    if (event.keyCode === 27) {\n      this.props.onHide();\n    }\n  };\n\n  render() {\n    const { classes, options, onHide } = this.props;\n    let value = this.state.text;\n\n    return (\n      <Grow appear in={true} timeout={300}>\n        <div className={classes.main} ref={(el) => (this.rootRef = el)}>\n          <SearchIcon className={classes.searchIcon} />\n          <TextField\n            className={classes.searchText}\n            autoFocus={true}\n            InputProps={{\n              'data-test-id': options.textLabels.toolbar.search,\n              'aria-label': options.textLabels.toolbar.search,\n            }}\n            value={value || ''}\n            onChange={this.handleTextChange}\n            fullWidth={true}\n            inputRef={(el) => (this.searchField = el)}\n            placeholder={options.searchPlaceholder}\n          />\n          <IconButton className={classes.clearIcon} onClick={onHide}>\n            <ClearIcon />\n          </IconButton>\n        </div>\n      </Grow>\n    );\n  }\n}\n\nexport default withStyles(defaultSearchStyles, { name: 'MUIDataTableSearch' })(\n  DebouncedTableSearch,\n);\n","import React from 'react';\n\nimport MUIDataTable, {\n  MUIDataTableColumn,\n  MUIDataTableOptions,\n  MUIDataTableProps,\n} from 'mui-datatables';\nimport DebouncedTableSearch from '../Table/DebouncedTableSearch';\nimport { cloneDeep, merge, omit } from 'lodash';\nimport {\n  MuiThemeProvider,\n  Theme,\n  useMediaQuery,\n  useTheme,\n} from '@material-ui/core';\n\nexport interface TableColumn extends MUIDataTableColumn {\n  width?: string;\n}\n\nexport interface MuiDataTableRefComponent {\n  changePage: (page: number) => void;\n  changeRowsPerPage: (rowsPerPage: number) => void;\n}\n\nexport interface TableProps\n  extends MUIDataTableProps,\n    React.RefAttributes<MuiDataTableRefComponent> {\n  columns: TableColumn[];\n  loading?: boolean;\n  debouncedSearchTime?: number;\n}\n\nconst makeDefaultOptions = (debouncedSearchTime?): MUIDataTableOptions => ({\n  print: false,\n  download: false,\n  textLabels: {\n    body: {\n      noMatch: 'Nenhum registro encontrado',\n      toolTip: 'Classificar',\n    },\n    pagination: {\n      next: 'Próxima página',\n      previous: 'Página anterior',\n      rowsPerPage: 'Por página:',\n      displayRows: 'de',\n    },\n    toolbar: {\n      search: 'Busca',\n      downloadCsv: 'Download CSV',\n      print: 'Imprimir',\n      viewColumns: 'Ver Colunas',\n      filterTable: 'Filtrar Tabelas',\n    },\n    filter: {\n      all: 'Todos',\n      title: 'FILTROS',\n      reset: 'LIMPAR',\n    },\n    viewColumns: {\n      title: 'Ver Colunas',\n      titleAria: 'Ver/Esconder Colunas da Tabela',\n    },\n    selectedRows: {\n      text: 'registro(s) selecionados',\n      delete: 'Excluir',\n      deleteAria: 'Excluir registros selecionados',\n    },\n  },\n  customSearchRender: (\n    searchText: string,\n    handleSearch: any,\n    hideSearch: any,\n    options: any,\n  ) => {\n    return (\n      <DebouncedTableSearch\n        searchText={searchText}\n        onSearch={handleSearch}\n        onHide={hideSearch}\n        options={options}\n        debounceTime={debouncedSearchTime}\n      />\n    );\n  },\n});\n\nconst Table = React.forwardRef<MuiDataTableRefComponent, TableProps>(\n  (props, ref) => {\n    const theme = cloneDeep<Theme>(useTheme());\n    const isSmOrDown = useMediaQuery(theme.breakpoints.down('sm'));\n\n    const defaultOptions = makeDefaultOptions(props.debouncedSearchTime);\n\n    const newProps = merge({ options: cloneDeep(defaultOptions) }, props, {\n      columns: extractMuiDataTableColumns(props.columns),\n    });\n\n    function extractMuiDataTableColumns(\n      columns: TableColumn[],\n    ): MUIDataTableColumn[] {\n      setColumnsWitdh(columns);\n      return columns.map((column) => omit(column, 'width'));\n    }\n\n    function setColumnsWitdh(columns: TableColumn[]) {\n      columns.forEach((column, key) => {\n        if (column.width) {\n          // const overrides = theme.overrides as any;\n          // overrides.MUIDataTableHeadCell.fixedHeader[\n          //   `&:nth-child(${key + 2})`\n          // ] = {\n          //   width: column.width,\n          // };\n        }\n      });\n    }\n\n    function applyLoading() {\n      const textLabels = (newProps.options as any).textLabels;\n\n      textLabels.body.noMatch =\n        newProps.loading === true ? 'Caregando...' : textLabels.body.noMatch;\n    }\n\n    function applyResponsive() {\n      newProps.options.responsive = isSmOrDown ? 'standard' : 'simple';\n    }\n\n    function getOriginalMuiDataTableProps() {\n      return {\n        ...omit(newProps, 'loading'),\n        ref,\n      };\n    }\n\n    applyLoading();\n    applyResponsive();\n\n    const originalProps = getOriginalMuiDataTableProps();\n\n    return (\n      <MuiThemeProvider theme={theme}>\n        <MUIDataTable {...originalProps} />\n      </MuiThemeProvider>\n    );\n  },\n);\n\nexport default Table;\n","export interface ListResponse<T> {\n  data: T[];\n  links: {\n    first: string;\n    last: string;\n    prev: string | null;\n    next: string | null;\n  };\n  meta: {\n    current_page: number;\n    from: number;\n    last_page: number;\n    path: string;\n    per_page: number;\n    to: number;\n    total: number;\n  };\n}\n\ninterface Timestampable {\n  readonly created_at: string;\n  readonly updated_at: string;\n  readonly deleted_at: string | null;\n}\n\nexport interface Category extends Timestampable {\n  readonly id: string;\n  name: string;\n  description: string;\n  is_active: boolean;\n}\n\nexport interface CastMember extends Timestampable {\n  readonly id: string;\n  name: string;\n  type: number;\n}\n\nexport interface Genre extends Timestampable {\n  readonly id: string;\n  name: string;\n  is_active: number;\n  categories: Category[];\n}\n\ninterface GenreVideo extends Omit<Genre, 'categories'> {}\n\nexport const VideoFileFieldsMaps = {\n  thumb_file: 'Thumbnail',\n  banner_file: 'Banner',\n  trailer_file: 'Trailer',\n  video_file: 'Principal',\n};\n\nexport interface Video extends Timestampable {\n  readonly id: string;\n  title: string;\n  description: string;\n  year_launched: number;\n  opened: boolean;\n  rating: string;\n  duration: number;\n  genres: GenreVideo[];\n  categories: Category[];\n  cast_members: CastMember[];\n  thumb_file_url: string;\n  banner_file_url: string;\n  trailer_file_url: string;\n  video_file_url: string;\n}\n\nexport const IsActiveMap = {\n  0: 'Não',\n  1: 'Sim',\n};\n\nexport const CastMemberTypeMap = {\n  1: 'Diretor',\n  2: 'Ator',\n};\n","import React from 'react';\nimport {\n  Dialog,\n  DialogTitle,\n  DialogContent,\n  DialogContentText,\n  DialogActions,\n  Button,\n} from '@material-ui/core';\n\ninterface DeleteDialogProps {\n  open: boolean;\n  handleClose: (confirmed: boolean) => void;\n}\n\nconst DeleteDialog: React.FC<DeleteDialogProps> = (props) => {\n  const { open, handleClose } = props;\n\n  return (\n    <Dialog open={open} onClose={() => handleClose(false)}>\n      <DialogTitle>Exclusão de registros</DialogTitle>\n      <DialogContent>\n        <DialogContentText>\n          Deseja realmente excluir este(s) registro(s)?\n        </DialogContentText>\n      </DialogContent>\n      <DialogActions>\n        <Button onClick={() => handleClose(false)} color=\"secondary\">\n          Cancelar\n        </Button>\n        <Button onClick={() => handleClose(true)} color=\"primary\" autoFocus>\n          Excluir\n        </Button>\n      </DialogActions>\n    </Dialog>\n  );\n};\n\nexport default DeleteDialog;\n","import { useState, useEffect } from 'react';\n\nconst useDeleteCollection = () => {\n  const [openDeleteDialog, setOpenDeleteDialog] = useState(false);\n  const [rowsToDelete, setRowsToDelete] = useState<{\n    data: Array<{ index; dataIndex }>;\n  }>({ data: [] });\n\n  useEffect(() => {\n    if (rowsToDelete.data.length) {\n      setOpenDeleteDialog(true);\n    }\n  }, [rowsToDelete]);\n\n  return {\n    openDeleteDialog,\n    setOpenDeleteDialog,\n    rowsToDelete,\n    setRowsToDelete,\n  };\n};\n\nexport default useDeleteCollection;\n","import * as Typings from './types';\nimport { createActions, createReducer } from 'reduxsauce';\n\nexport const { Types, Creators } = createActions<\n  {\n    SET_SEARCH: string;\n    SET_PAGE: string;\n    SET_PER_PAGE: string;\n    SET_ORDER: string;\n    SET_RESET: string;\n    UPDATE_EXTRA_FILTER: string;\n  },\n  {\n    setSearch(\n      payload: Typings.SetSearchAction['payload'],\n    ): Typings.SetSearchAction;\n    setPage(payload: Typings.SetPageAction['payload']): Typings.SetPageAction;\n    setPerPage(\n      payload: Typings.SetPerPageAction['payload'],\n    ): Typings.SetPerPageAction;\n    setOrder(\n      payload: Typings.SetOrderAction['payload'],\n    ): Typings.SetOrderAction;\n    setReset(\n      payload: Typings.SetResetAction['payload'],\n    ): Typings.SetResetAction;\n    updateExtraFilter(\n      payload: Typings.UpdateExtraFilterAction['payload'],\n    ): Typings.UpdateExtraFilterAction;\n  }\n>({\n  setSearch: ['payload'],\n  setPage: ['payload'],\n  setPerPage: ['payload'],\n  setOrder: ['payload'],\n  setReset: ['payload'],\n  updateExtraFilter: ['payload'],\n});\n\nexport const INITIAL_STATE: Typings.State = {\n  search: null,\n  pagination: {\n    page: 1,\n    per_page: 10,\n  },\n  order: {\n    sort: null,\n    dir: null,\n  },\n};\n\nconst reducer = createReducer<Typings.State, Typings.Actions>(INITIAL_STATE, {\n  [Types.SET_SEARCH]: setSearch as any,\n  [Types.SET_PAGE]: setPage as any,\n  [Types.SET_PER_PAGE]: setPerPage as any,\n  [Types.SET_ORDER]: setOrder as any,\n  [Types.SET_RESET]: setReset,\n  [Types.UPDATE_EXTRA_FILTER]: updateExtraFilter as any,\n});\n\nexport default reducer;\n\nfunction setSearch(\n  state = INITIAL_STATE,\n  action: Typings.SetSearchAction,\n): Typings.State {\n  return {\n    ...state,\n    search: action.payload.search,\n    pagination: {\n      ...state.pagination,\n      page: 1,\n    },\n  };\n}\n\nfunction setPage(\n  state = INITIAL_STATE,\n  action: Typings.SetPageAction,\n): Typings.State {\n  return {\n    ...state,\n    pagination: {\n      ...state.pagination,\n      page: action.payload.page,\n    },\n  };\n}\n\nfunction setPerPage(\n  state = INITIAL_STATE,\n  action: Typings.SetPerPageAction,\n): Typings.State {\n  return {\n    ...state,\n    pagination: {\n      ...state.pagination,\n      per_page: action.payload.per_page,\n    },\n  };\n}\n\nfunction setOrder(\n  state = INITIAL_STATE,\n  action: Typings.SetOrderAction,\n): Typings.State {\n  return {\n    ...state,\n    order: {\n      sort: action.payload.sort,\n      dir: action.payload.dir,\n    },\n  };\n}\n\nfunction setReset(\n  state = INITIAL_STATE,\n  action: Typings.SetResetAction,\n): Typings.State {\n  return action.payload.state;\n}\n\nfunction updateExtraFilter(\n  state = INITIAL_STATE,\n  action: Typings.UpdateExtraFilterAction,\n) {\n  return {\n    ...state,\n    extraFilter: {\n      ...state.extraFilter,\n      ...action.payload,\n    },\n  };\n}\n","/* eslint-disable no-template-curly-in-string  */\nimport { LocaleObject, setLocale } from 'yup';\n\nconst ptBR: LocaleObject = {\n  mixed: {\n    required: '${path} é requerido',\n    notType: '${path} é inválido',\n  },\n  string: {\n    max: '${path} precisa ter no máximo ${max} caracteres.',\n  },\n  number: {\n    min: '${path} precisa ser no mínimo ${min}.',\n  },\n};\n\nsetLocale(ptBR);\n\nexport * from 'yup';\n","import {\n  useState,\n  useReducer,\n  Dispatch,\n  Reducer,\n  useEffect,\n  useMemo,\n  useCallback,\n} from 'react';\nimport reducer, { Creators } from '../store/filter';\nimport {\n  State as FilterState,\n  Actions as FilterActions,\n  State,\n} from '../store/filter/types';\nimport { MUIDataTableColumn } from 'mui-datatables';\nimport { useDebounce } from 'use-debounce';\nimport { useHistory, useLocation } from 'react-router';\nimport { isEqual } from 'lodash';\nimport * as Yup from '../util/vendor/yup';\nimport { MuiDataTableRefComponent } from '../components/Table';\nimport { ObjectSchema } from '../util/vendor/yup';\n\ninterface ExtraFilter {\n  getStateFromUrl: (queryParams: URLSearchParams) => any;\n  formatSearchParams: (debounceState: FilterState) => any;\n  createValidationSchema: () => any;\n}\n\ninterface FilterManagerOptions {\n  schema: ObjectSchema;\n  columns: MUIDataTableColumn[];\n  rowsPerPage: number;\n  tableRef: React.MutableRefObject<MuiDataTableRefComponent>;\n  dispatch: Dispatch<FilterActions>;\n  state: FilterState;\n}\n\ninterface UseFilterOptions {\n  columns: MUIDataTableColumn[];\n  rowsPerPage: number;\n  rowsPerPageOptions: number[];\n  debounceTime: number;\n  tableRef: React.MutableRefObject<MuiDataTableRefComponent>;\n  extraFilter?: ExtraFilter;\n}\n\nconst useFilter = (options: UseFilterOptions) => {\n  const history = useHistory();\n  const location = useLocation();\n  const {\n    search: locationSearch,\n    pathname: locationPathname,\n    state: locationState,\n  } = location;\n  const { rowsPerPage, rowsPerPageOptions, columns, extraFilter } = options;\n\n  const schema = useMemo(() => {\n    return Yup.object().shape<FilterState>({\n      search: Yup\n        .string()\n        .transform((value) => (!value ? undefined : value))\n        .default(''),\n      pagination: Yup.object().shape({\n        page: Yup\n          .number()\n          .transform((value) => (isNaN(value) || value < 1 ? undefined : value))\n          .default(1),\n        per_page: Yup\n          .number()\n          .transform((value) =>\n            isNaN(value) || !rowsPerPageOptions.includes(parseInt(value))\n              ? undefined\n              : value,\n          )\n          .default(rowsPerPage),\n      }),\n      order: Yup.object().shape({\n        sort: Yup\n          .string()\n          .nullable()\n          .transform((value) => {\n            const columnsName = columns\n              .filter(\n                (column) => !column.options || column.options.sort !== false,\n              )\n              .map((column) => column.name);\n            return columnsName.includes(value) ? value : undefined;\n          })\n          .default(null),\n        dir: Yup\n          .string()\n          .nullable()\n          .transform((value) =>\n            !value || !['asc', 'desc'].includes(value.toLowerCase())\n              ? undefined\n              : value,\n          )\n          .default(null),\n      }),\n      ...(extraFilter && {\n        extraFilter: extraFilter.createValidationSchema(),\n      }),\n    });\n  }, [rowsPerPageOptions, rowsPerPage, columns, extraFilter]);\n\n  const stateFromUrl = useMemo<FilterState | any>(() => {\n    const queryParams = new URLSearchParams(locationSearch.substr(1));\n    return schema.cast({\n      search: queryParams.get('search'),\n      pagination: {\n        page: queryParams.get('page'),\n        per_page: queryParams.get('per_page'),\n      },\n      order: {\n        sort: queryParams.get('sort'),\n        dir: queryParams.get('dir'),\n      },\n      ...(extraFilter && {\n        extraFilter: extraFilter.getStateFromUrl(queryParams),\n      }),\n    });\n  }, [locationSearch, schema, extraFilter]);\n\n  const cleanSearchText = useCallback((text) => {\n    let newText = text;\n    if (text && text.value !== undefined) {\n      newText = text.value;\n    }\n\n    return newText;\n  }, []);\n\n  const formatSearchParams = useCallback(\n    (state, extraFilter) => {\n      const search = cleanSearchText(state.search);\n\n      return {\n        ...(search && search !== '' && { search: search }),\n        ...(state.pagination.page !== 1 && { page: state.pagination.page }),\n        ...(state.pagination.per_page !== 15 && {\n          per_page: state.pagination.per_page,\n        }),\n        ...(state.order.sort && {\n          sort: state.order.sort,\n          dir: state.order.dir,\n        }),\n        ...(extraFilter && extraFilter.formatSearchParams(state)),\n      };\n    },\n    [cleanSearchText],\n  );\n\n  const INITIAL_STATE = stateFromUrl;\n  const [filterState, dispatch] = useReducer<\n    Reducer<FilterState, FilterActions>\n  >(reducer, INITIAL_STATE);\n\n  const filterManager = new FilterManager({\n    ...options,\n    state: filterState,\n    dispatch,\n    schema,\n  });\n  const [totalRecords, setTotalRecords] = useState<number>(0);\n  const [debouncedFilterState] = useDebounce(filterState, options.debounceTime);\n\n  useEffect(() => {\n    history.replace({\n      pathname: locationPathname,\n      search:\n        '?' +\n        new URLSearchParams(formatSearchParams(stateFromUrl, extraFilter)),\n      state: stateFromUrl,\n    });\n  }, [\n    history,\n    locationPathname,\n    formatSearchParams,\n    stateFromUrl,\n    extraFilter,\n  ]);\n\n  useEffect(() => {\n    const newLocation = {\n      pathname: locationPathname,\n      search:\n        '?' +\n        new URLSearchParams(\n          formatSearchParams(debouncedFilterState, extraFilter),\n        ),\n      state: {\n        ...debouncedFilterState,\n        search: cleanSearchText(debouncedFilterState.search),\n      },\n    };\n    const oldState = locationState;\n    const nextState = debouncedFilterState;\n    if (isEqual(oldState, nextState)) {\n      return;\n    }\n\n    history.push(newLocation);\n  }, [\n    history,\n    locationPathname,\n    locationState,\n    debouncedFilterState,\n    formatSearchParams,\n    cleanSearchText,\n    extraFilter,\n  ]);\n\n  filterManager.state = filterState;\n  filterManager.applyOrderInColumns();\n\n  return {\n    columns: filterManager.columns,\n    cleanSearchText,\n    filterManager,\n    filterState,\n    debouncedFilterState,\n    dispatch,\n    totalRecords,\n    setTotalRecords,\n  };\n};\n\nexport class FilterManager {\n  schema: ObjectSchema;\n  state: FilterState;\n  dispatch: Dispatch<FilterActions>;\n  columns: MUIDataTableColumn[];\n  rowsPerPage: number;\n  tableRef: React.MutableRefObject<MuiDataTableRefComponent>;\n\n  constructor(options: FilterManagerOptions) {\n    const { schema, columns, rowsPerPage, tableRef, dispatch, state } = options;\n    this.schema = schema;\n    this.columns = columns;\n    this.rowsPerPage = rowsPerPage;\n    this.tableRef = tableRef;\n    this.dispatch = dispatch;\n    this.state = state;\n  }\n\n  changeSearch(value) {\n    this.dispatch(Creators.setSearch({ search: value }));\n  }\n\n  changePage(page) {\n    this.dispatch(Creators.setPage({ page: page + 1 }));\n  }\n\n  changeRowsPerPage(perPage) {\n    this.dispatch(Creators.setPerPage({ per_page: perPage }));\n  }\n\n  changeColumnSort(changedColumn: string, direction: string) {\n    this.dispatch(\n      Creators.setOrder({\n        sort: changedColumn,\n        dir: direction.includes('desc') ? 'desc' : 'asc',\n      }),\n    );\n    this.resePagination();\n  }\n\n  applyOrderInColumns() {\n    this.columns = this.columns.map((column) => {\n      return column.name === this.state.order.sort\n        ? {\n            ...column,\n            options: {\n              ...column.options,\n              sortDirection: this.state.order.dir as any,\n            },\n          }\n        : column;\n    });\n  }\n\n  changeExtraFilter(data) {\n    this.dispatch(Creators.updateExtraFilter(data));\n  }\n\n  resetFilter() {\n    const INITIAL_STATE = {\n      ...this.schema.cast({}),\n      search: { value: null, update: true },\n    } as State;\n    this.dispatch(\n      Creators.setReset({\n        state: INITIAL_STATE,\n      }),\n    );\n    this.resePagination();\n  }\n\n  private resePagination() {\n    this.tableRef.current.changeRowsPerPage(this.rowsPerPage);\n    this.tableRef.current.changePage(0);\n  }\n}\n\nexport default useFilter;\n","import React from 'react';\nimport { Tooltip, IconButton, makeStyles } from '@material-ui/core';\nimport ClearAllIcon from '@material-ui/icons/ClearAll';\n\nconst useStyles = makeStyles((theme) => ({\n  iconButton: (theme as any).overrides.MUIDataTableTooblar.icon,\n}));\n\ninterface FilterResetButtonProps {\n  handleClick: () => void;\n}\n\nconst FilterResetButton: React.FC<FilterResetButtonProps> = (props) => {\n  const classes = useStyles();\n\n  return (\n    <Tooltip title=\"Limpar busca\">\n      <IconButton className={classes.iconButton} onClick={props.handleClick}>\n        <ClearAllIcon />\n      </IconButton>\n    </Tooltip>\n  );\n};\n\nexport default FilterResetButton;\n","import React, { useEffect, useCallback, useRef, useState, useContext, MutableRefObject, useMemo } from 'react';\nimport { Link } from 'react-router-dom';\n\nimport { Button, IconButton } from '@material-ui/core';\nimport EditIcon from '@material-ui/icons/Edit';\nimport { format, parseISO } from 'date-fns';\nimport { invert } from 'lodash';\nimport * as Yup from 'yup';\n\nimport DefaultTable, {\n  MuiDataTableRefComponent,\n  TableColumn,\n} from '../../../components/Table';\nimport { useSnackbar } from 'notistack';\nimport {\n  CastMember,\n  CastMemberTypeMap,\n  ListResponse,\n} from '../../../util/models';\nimport DeleteDialog from '../../../components/DeleteDialog';\nimport LoadingContext from '../../../components/Loading/LoadingContext';\nimport useDeleteCollection from '../../../hooks/useDeleteCollection';\nimport useFilter from '../../../hooks/useFilter';\nimport castMemberHttp from '../../../util/http/cast-member-http';\nimport FilterResetButton from '../../../components/Table/FilterResetButton';\n\nconst castMemberNames = Object.values(CastMemberTypeMap);\n\nconst columnsDefinition: TableColumn[] = [\n  {\n    name: 'id',\n    label: 'ID',\n    options: {\n      sort: false,\n      filter: false,\n    },\n  },\n  {\n    name: 'name',\n    label: 'Nome',\n    options: {\n      filter: false,\n    },\n  },\n  {\n    name: 'type',\n    label: 'Tipo',\n    width: '4%',\n    options: {\n      filterOptions: {\n        names: castMemberNames,\n      },\n      customBodyRender(value, tableMeta, updateValue) {\n        return CastMemberTypeMap[value] !== undefined ? (\n          <span>{CastMemberTypeMap[value]}</span>\n        ) : (\n          '-'\n        );\n      },\n    },\n  },\n  {\n    name: 'created_at',\n    label: 'Criado em',\n    width: '10%',\n    options: {\n      filter: false,\n      customBodyRender(value, tableMeta, updateValue) {\n        return <span>{format(parseISO(value), 'dd/MM/yyyy')}</span>;\n      },\n    },\n  },\n  {\n    name: 'actions',\n    label: 'Ações',\n    width: '13%',\n    options: {\n      sort: false,\n      filter: false,\n      customBodyRender: (value, tableMeta) => {\n        return (\n          <IconButton\n            color={'secondary'}\n            component={Link}\n            to={`/cast-members/${tableMeta.rowData[0]}/edit`}\n          >\n            <EditIcon />\n          </IconButton>\n        );\n      },\n    },\n  },\n];\n\nconst btnAdd = (\n  <Button\n    variant=\"outlined\"\n    color=\"primary\"\n    component={Link}\n    to=\"/cast-members/create\"\n  >\n    Adicionar\n  </Button>\n);\n\nconst debounceTime = 300;\nconst debouncedSearchTime = 300;\nconst rowsPerPage = 15;\nconst rowsPerPageOptions = [10, 25, 50];\n\nconst Table: React.FC = () => {\n  const { enqueueSnackbar } = useSnackbar();\n  const subscribed = useRef(true);\n  const [data, setData] = useState<CastMember[]>([]);\n  const loading = useContext(LoadingContext);\n  const {\n    openDeleteDialog,\n    setOpenDeleteDialog,\n    rowsToDelete,\n    setRowsToDelete,\n  } = useDeleteCollection();\n  const tableRef = useRef() as MutableRefObject<\n    MuiDataTableRefComponent\n  >;\n  const extraFilter = useMemo(\n    () => ({\n      createValidationSchema: () => {\n        return Yup.object().shape({\n          type: Yup.string()\n            .nullable()\n            .transform((value) =>\n              !value || castMemberNames.includes(value) ? undefined : value,\n            )\n            .default(null),\n        });\n      },\n      formatSearchParams: (debouncedFilterState) => {\n        return debouncedFilterState.extraFilter\n          ? {\n              ...(debouncedFilterState.extraFilter.type && {\n                type: debouncedFilterState.extraFilter.type,\n              }),\n            }\n          : undefined;\n      },\n      getStateFromUrl: (queryParams) => {\n        return {\n          type: queryParams.get('type'),\n        };\n      },\n    }),\n    [],\n  );\n\n  const {\n    columns,\n    cleanSearchText,\n    filterManager,\n    filterState,\n    debouncedFilterState,\n    totalRecords,\n    setTotalRecords,\n  } = useFilter({\n    columns: columnsDefinition,\n    debounceTime: debounceTime,\n    rowsPerPage,\n    rowsPerPageOptions,\n    tableRef,\n    extraFilter,\n  });\n\n  const searchText = cleanSearchText(debouncedFilterState.search);\n  const indexColumnType = columns.findIndex((c) => c.name === 'type');\n  const columnType = columns[indexColumnType];\n  const typeFilterValue =\n    filterState.extraFilter && (filterState.extraFilter.type as never);\n  (columnType.options as any).filterList = typeFilterValue\n    ? [typeFilterValue]\n    : [];\n\n  const serverSideFilterList = columns.map((c) => []);\n  if (typeFilterValue) {\n    serverSideFilterList[indexColumnType] = [typeFilterValue];\n  }\n\n  const getData = useCallback(\n    async ({ search, page, per_page, sort, dir, type }) => {\n      try {\n        const { data } = await castMemberHttp.list<ListResponse<CastMember>>({\n          queryParams: {\n            search,\n            page,\n            per_page,\n            sort,\n            dir,\n            ...(type && {\n              type: invert(CastMemberTypeMap)[type],\n            }),\n          },\n        });\n        if (subscribed.current) {\n          setData(data.data);\n          setTotalRecords(data.meta.total);\n          if (openDeleteDialog) {\n            setOpenDeleteDialog(false);\n          }\n        }\n      } catch (error) {\n        console.error(error);\n        if (castMemberHttp.isCancelledRequest(error)) {\n          enqueueSnackbar('Não foi possível carregar as informações.', {\n            variant: 'error',\n          });\n        }\n      }\n    },\n    [openDeleteDialog, enqueueSnackbar, setOpenDeleteDialog, setTotalRecords],\n  );\n\n  useEffect(() => {\n    subscribed.current = true;\n    getData({\n      search: searchText,\n      page: debouncedFilterState.pagination.page,\n      per_page: debouncedFilterState.pagination.per_page,\n      sort: debouncedFilterState.order.sort,\n      dir: debouncedFilterState.order.dir,\n      ...(debouncedFilterState.extraFilter &&\n        debouncedFilterState.extraFilter.type && {\n          type: debouncedFilterState.extraFilter.type,\n        }),\n    });\n    return () => {\n      subscribed.current = false;\n    };\n  }, [\n    getData,\n    searchText,\n    debouncedFilterState.pagination.page,\n    debouncedFilterState.pagination.per_page,\n    debouncedFilterState.order,\n    debouncedFilterState.extraFilter,\n  ]);\n\n  async function deleteRows(confirmed: boolean) {\n    if (!confirmed) {\n      setOpenDeleteDialog(false);\n      return;\n    }\n\n    const ids = rowsToDelete.data\n      .map((value) => data[value.index].id)\n      .join(',');\n\n    castMemberHttp\n      .deleteCollection({ ids })\n      .then((response) => {\n        enqueueSnackbar('Registros excluidos com sucesso!', {\n          variant: 'success',\n        });\n        if (\n          rowsToDelete.data.length === filterState.pagination.per_page &&\n          filterState.pagination.page > 1\n        ) {\n          const page = filterState.pagination.page - 2;\n          filterManager.changePage(page);\n        } else {\n          //getData()\n        }\n      })\n      .catch((error) => {\n        console.error(error);\n        enqueueSnackbar('Não foi possível excluir os registros', {\n          variant: 'error',\n        });\n      });\n  }\n\n  return (\n    <>\n      <DeleteDialog open={openDeleteDialog} handleClose={deleteRows} />\n      <DefaultTable\n        title={btnAdd}\n        columns={columns}\n        data={data}\n        loading={loading}\n        debouncedSearchTime={debouncedSearchTime}\n        ref={tableRef}\n        options={{\n          // serverSideFilterList,\n          serverSide: true,\n          responsive: 'standard',\n          searchText: filterState.search as any,\n          page: filterState.pagination.page - 1,\n          rowsPerPage: filterState.pagination.per_page,\n          rowsPerPageOptions,\n          count: totalRecords,\n          onFilterChange: (column: any, filterList, type) => {\n            if (type === 'reset') {\n              filterManager.resetFilter();\n              return;\n            }\n            const columnIndex = columns.findIndex((c) => c.name === column);\n            filterManager.changeExtraFilter({\n              [column]: filterList[columnIndex].length\n                ? filterList[columnIndex][0]\n                : null,\n            });\n          },\n          customToolbar: () => (\n            <FilterResetButton\n              handleClick={() => filterManager.resetFilter()}\n            />\n          ),\n          onSearchChange: (value) => filterManager.changeSearch(value),\n          onChangePage: (page) => filterManager.changePage(page),\n          onChangeRowsPerPage: (perPage) =>\n            filterManager.changeRowsPerPage(perPage),\n          onColumnSortChange: (changedColumn: string, direction: string) =>\n            filterManager.changeColumnSort(changedColumn, direction),\n          onRowsDelete: (rowsDeleted) => {\n            setRowsToDelete(rowsDeleted as any);\n            return false;\n          },\n        }}\n      />\n    </>\n  );\n};\n\nexport default Table;\n","import React from 'react';\n\nimport Table from '../Table';\n\nconst List = () => {\n  return (\n    <>\n      <h1>Listagem de membros do elencos</h1>\n      <Table />\n    </>\n  );\n};\n\nexport default List;\n","import HttpResource from './http-resource';\nimport { httpVideo } from '.';\n\nconst categoryHttp = new HttpResource(httpVideo, 'categories');\n\nexport default categoryHttp;\n","import React, { useContext, useEffect, useState } from 'react';\nimport { useHistory, useParams } from 'react-router';\n\nimport { useForm } from 'react-hook-form';\nimport { yupResolver } from '@hookform/resolvers';\nimport * as Yup from 'yup';\nimport { useSnackbar } from 'notistack';\nimport { Category } from '../../../util/models';\nimport LoadingContext from '../../../components/Loading/LoadingContext';\nimport categoryHttp from '../../../util/http/category-http';\nimport DefaultForm from '../../../components/DefaultForm';\nimport { Checkbox, FormControlLabel, TextField } from '@material-ui/core';\nimport FormButtons from '../../../components/FormButtons';\n\nconst schema = Yup.object().shape({\n  name: Yup.string().required('O nome é obrigatório'),\n  description: Yup.string().required('A descrição é obrigatório'),\n  is_active: Yup.bool(),\n});\n\nconst Form = () => {\n  const {\n    register,\n    handleSubmit,\n    getValues,\n    setValue,\n    errors,\n    reset,\n    watch,\n    trigger,\n  } = useForm({\n    resolver: yupResolver(schema),\n    defaultValues: {\n      is_active: true,\n    },\n  });\n\n  const { enqueueSnackbar } = useSnackbar();\n  const history = useHistory();\n  const { id }: { id: string } = useParams();\n  const [category, setCategory] = React.useState<Category | null>(null);\n  const [formType, setFormType] = useState('save');\n  const loading = useContext(LoadingContext);\n\n  useEffect(() => {\n    if (!id) {\n      return;\n    }\n\n    let isSubscribed = true;\n    async function loadCategories() {\n      try {\n        const { data } = await categoryHttp.get(id);\n        if (isSubscribed) {\n          setCategory(data.data);\n          reset(data.data);\n        }\n      } catch (error) {\n        console.error(error);\n        enqueueSnackbar('Não foi possível carregar as informações.', {\n          variant: 'error',\n        });\n      }\n    }\n\n    loadCategories();\n\n    return () => {\n      isSubscribed = false;\n    };\n  }, [id, reset, enqueueSnackbar]);\n\n  React.useEffect(() => {\n    register({ name: 'is_active' });\n  }, [register]);\n\n  const onSubmit = async (formData, event) => {\n    try {\n      const http = !category\n        ? categoryHttp.create(formData)\n        : categoryHttp.update(category.id, formData);\n      const { data } = await http;\n\n      enqueueSnackbar('Categoria salva com sucesso!', {\n        variant: 'success',\n      });\n\n      setTimeout(() => {\n        if (formType === 'save') {\n          history.push('/categories');\n        }\n        if (formType === 'save-and-new') {\n          history.push('/categories/create');\n        }\n        if (formType === 'save-and-edit') {\n          const categoryId = data.data.id;\n          const urlRedirect = `/categories/${categoryId}/edit`;\n          if (id) {\n            history.replace(urlRedirect);\n          } else {\n            history.push(urlRedirect);\n          }\n        }\n      }, 2000);\n    } catch (error) {\n      console.error(error);\n      enqueueSnackbar('Não foi possível salvar a categoria :(', {\n        variant: 'error',\n      });\n    }\n  };\n\n  return (\n    <>\n      <h1>{!id ? 'Adicionar uma nova' : 'Editar'} categoria</h1>\n      <DefaultForm\n        GridItemProps={{ xs: 12, md: 6 }}\n        onSubmit={handleSubmit(onSubmit)}\n      >\n        <TextField\n          name=\"name\"\n          label=\"Nome\"\n          fullWidth\n          variant=\"outlined\"\n          disabled={loading}\n          inputRef={register}\n          error={errors.name !== undefined}\n          helperText={errors.name && errors.name.message}\n          InputLabelProps={{ shrink: true }}\n        />\n        <TextField\n          name=\"description\"\n          label=\"Descrição\"\n          multiline\n          rows=\"4\"\n          fullWidth\n          variant=\"outlined\"\n          disabled={loading}\n          margin=\"normal\"\n          inputRef={register}\n          InputLabelProps={{ shrink: true }}\n        />\n        <FormControlLabel\n          disabled={loading}\n          control={\n            <Checkbox\n              name=\"is_active\"\n              onChange={() => setValue('is_active', !getValues()['is_active'])}\n              checked={watch('is_active')}\n            />\n          }\n          label=\"Ativo?\"\n          labelPlacement=\"end\"\n        />\n\n        <FormButtons\n          setFormType={setFormType}\n          loading={loading}\n          handleSave={() =>\n            trigger().then((isValid) => {\n              isValid && onSubmit(getValues(), null);\n            })\n          }\n        />\n      </DefaultForm>\n    </>\n  );\n};\n\nexport default Form;\n","import React, {\n  MutableRefObject,\n  useCallback,\n  useContext,\n  useEffect,\n  useRef,\n  useState,\n} from 'react';\nimport { Link } from 'react-router-dom';\n\nimport { Button, Chip, IconButton } from '@material-ui/core';\nimport EditIcon from '@material-ui/icons/Edit';\nimport { format, parseISO } from 'date-fns';\nimport DefaultTable, {\n  MuiDataTableRefComponent,\n  TableColumn,\n} from '../../../components/Table';\nimport { useSnackbar } from 'notistack';\nimport { Category, ListResponse } from '../../../util/models';\nimport LoadingContext from '../../../components/Loading/LoadingContext';\nimport useDeleteCollection from '../../../hooks/useDeleteCollection';\nimport useFilter from '../../../hooks/useFilter';\nimport categoryHttp from '../../../util/http/category-http';\nimport DeleteDialog from '../../../components/DeleteDialog';\nimport FilterResetButton from '../../../components/Table/FilterResetButton';\n\nconst columnsDefinition: TableColumn[] = [\n  {\n    name: 'id',\n    label: 'ID',\n    width: '30%',\n    options: {\n      sort: false,\n    },\n  },\n  {\n    name: 'name',\n    label: 'Nome',\n    width: '43%',\n  },\n  {\n    name: 'is_active',\n    label: 'Ativo?',\n    width: '5%',\n    options: {\n      filterOptions: {\n        names: ['Sim', 'Não'],\n      },\n      customBodyRender(value) {\n        return value ? (\n          <Chip label=\"Sim\" color=\"primary\" />\n        ) : (\n          <Chip label=\"Não\" color=\"secondary\" />\n        );\n      },\n    },\n  },\n  {\n    name: 'created_at',\n    label: 'Criado em',\n    width: '10%',\n    options: {\n      customBodyRender(value, tableMeta, updateValue) {\n        return <span>{format(parseISO(value), 'dd/MM/yyyy')}</span>;\n      },\n    },\n  },\n  {\n    name: 'actions',\n    label: 'Ações',\n    width: '13%',\n    options: {\n      sort: false,\n      customBodyRender: (value, tableMeta) => {\n        return (\n          <IconButton\n            color={'secondary'}\n            component={Link}\n            to={`/categories/${tableMeta.rowData[0]}/edit`}\n          >\n            <EditIcon />\n          </IconButton>\n        );\n      },\n    },\n  },\n];\n\nconst btnAdd = (\n  <Button\n    variant=\"outlined\"\n    color=\"primary\"\n    component={Link}\n    to=\"/categories/create\"\n  >\n    Adicionar\n  </Button>\n);\n\nconst debounceTime = 300;\nconst debouncedSearchTime = 300;\nconst rowsPerPage = 15;\nconst rowsPerPageOptions = [10, 25, 50];\n\nconst Table = () => {\n  const { enqueueSnackbar } = useSnackbar();\n  const subscribed = useRef(true);\n  const [data, setData] = useState<Category[]>([]);\n  const loading = useContext(LoadingContext);\n  const {\n    openDeleteDialog,\n    setOpenDeleteDialog,\n    rowsToDelete,\n    setRowsToDelete,\n  } = useDeleteCollection();\n  const tableRef = useRef() as MutableRefObject<MuiDataTableRefComponent>;\n\n  const {\n    columns,\n    cleanSearchText,\n    filterManager,\n    filterState,\n    debouncedFilterState,\n    totalRecords,\n    setTotalRecords,\n  } = useFilter({\n    columns: columnsDefinition,\n    debounceTime: debounceTime,\n    rowsPerPage,\n    rowsPerPageOptions,\n    tableRef,\n  });\n\n  const searchText = cleanSearchText(debouncedFilterState.search);\n  const getData = useCallback(\n    async ({ search, page, per_page, sort, dir }) => {\n      try {\n        const { data } = await categoryHttp.list<ListResponse<Category>>({\n          queryParams: {\n            search,\n            page,\n            per_page,\n            sort,\n            dir,\n          },\n        });\n        if (subscribed.current) {\n          setData(data.data);\n          setTotalRecords(data.meta.total);\n          if (openDeleteDialog) {\n            setOpenDeleteDialog(false);\n          }\n        }\n      } catch (error) {\n        console.error(error);\n        if (categoryHttp.isCancelledRequest(error)) {\n          return;\n        }\n        enqueueSnackbar('Não foi possível carregar as informações.', {\n          variant: 'error',\n        });\n      }\n    },\n    [enqueueSnackbar, setTotalRecords, openDeleteDialog, setOpenDeleteDialog],\n  );\n\n  useEffect(() => {\n    subscribed.current = true;\n    getData({\n      search: searchText,\n      page: debouncedFilterState.pagination.page,\n      per_page: debouncedFilterState.pagination.per_page,\n      sort: debouncedFilterState.order.sort,\n      dir: debouncedFilterState.order.dir,\n    });\n    return () => {\n      subscribed.current = false;\n    };\n  }, [\n    getData,\n    searchText,\n    debouncedFilterState.pagination.page,\n    debouncedFilterState.pagination.per_page,\n    debouncedFilterState.order,\n  ]);\n\n  function deleteRows(confirmed: boolean) {\n    if (!confirmed) {\n      setOpenDeleteDialog(false);\n      return;\n    }\n\n    const ids = rowsToDelete.data\n      .map((value) => data[value.index].id)\n      .join(',');\n\n    categoryHttp\n      .deleteCollection({ ids })\n      .then((response) => {\n        enqueueSnackbar('Registros excluidos com sucesso!', {\n          variant: 'success',\n        });\n        if (\n          rowsToDelete.data.length === filterState.pagination.per_page &&\n          filterState.pagination.page > 1\n        ) {\n          const page = filterState.pagination.page - 2;\n          filterManager.changePage(page);\n        } else {\n          getData({\n            search: searchText,\n            page: debouncedFilterState.pagination.page,\n            per_page: debouncedFilterState.pagination.per_page,\n            sort: debouncedFilterState.order.sort,\n            dir: debouncedFilterState.order.dir,\n          });\n        }\n      })\n      .catch((error) => {\n        console.error(error);\n        enqueueSnackbar('Não foi possível excluir os registros', {\n          variant: 'error',\n        });\n      });\n  }\n\n  return (\n    <>\n      <DeleteDialog open={openDeleteDialog} handleClose={deleteRows} />\n      <DefaultTable\n        title={btnAdd}\n        columns={columns}\n        data={data}\n        loading={loading}\n        debouncedSearchTime={debouncedSearchTime}\n        ref={tableRef}\n        options={{\n          // serverSideFilterList,\n          serverSide: true,\n          responsive: 'standard',\n          searchText: filterState.search as any,\n          page: filterState.pagination.page - 1,\n          rowsPerPage: filterState.pagination.per_page,\n          rowsPerPageOptions,\n          count: totalRecords,\n          onFilterChange: (column: any, filterList, type) => {\n            if (type === 'reset') {\n              filterManager.resetFilter();\n              return;\n            }\n            const columnIndex = columns.findIndex((c) => c.name === column);\n            filterManager.changeExtraFilter({\n              [column]:\n                filterList[columnIndex] && filterList[columnIndex].length\n                  ? filterList[columnIndex][0]\n                  : null,\n            });\n          },\n          customToolbar: () => (\n            <FilterResetButton\n              handleClick={() => filterManager.resetFilter()}\n            />\n          ),\n          onSearchChange: (value) => filterManager.changeSearch(value),\n          onChangePage: (page) => filterManager.changePage(page),\n          onChangeRowsPerPage: (perPage) =>\n            filterManager.changeRowsPerPage(perPage),\n          onColumnSortChange: (changedColumn, direction) =>\n            filterManager.changeColumnSort(changedColumn, direction),\n          onRowsDelete: (rowsDeleted) => {\n            setRowsToDelete(rowsDeleted);\n            return false;\n          },\n        }}\n      />\n    </>\n  );\n};\n\nexport default Table;\n","import React from 'react';\n\nimport Table from '../Table';\n\nconst List = () => {\n  return (\n    <>\n      <h1>Listagem de categorias</h1>\n      <Table />\n    </>\n  );\n};\n\nexport default List;\n","import React from 'react';\n\nconst Dashboard: React.FC = () => {\n  return <h1>Dashboard</h1>;\n};\n\nexport default Dashboard;\n","import HttpResource from './http-resource';\nimport { httpVideo } from '.';\n\nconst genreHttp = new HttpResource(httpVideo, 'genres');\n\nexport default genreHttp;\n","import { useSnackbar } from 'notistack';\nimport React, { useContext, useEffect, useState } from 'react';\nimport { useForm } from 'react-hook-form';\nimport { yupResolver } from '@hookform/resolvers';\nimport { useHistory, useParams } from 'react-router';\n\nimport * as Yup from 'yup';\nimport DefaultForm from '../../../components/DefaultForm';\nimport LoadingContext from '../../../components/Loading/LoadingContext';\nimport { Category, Genre } from '../../../util/models';\nimport categoryHttp from '../../../util/http/category-http';\nimport genreHttp from '../../../util/http/genre-http';\nimport { MenuItem, TextField } from '@material-ui/core';\nimport FormButtons from '../../../components/FormButtons';\n\nconst schema = Yup.object().shape({\n  name: Yup.string().required('O nome é obrigatório'),\n  categories_id: Yup.array().required('A categoria é obrigatório'),\n  is_active: Yup.bool(),\n});\n\nconst Form = () => {\n  const {\n    register,\n    handleSubmit,\n    getValues,\n    setValue,\n    errors,\n    reset,\n    watch,\n    trigger,\n  } = useForm({\n    resolver: yupResolver(schema),\n  });\n\n  const { enqueueSnackbar } = useSnackbar();\n  const history = useHistory();\n  const { id }: { id: string } = useParams();\n  const [formType, setFormType] = useState<string>('save');\n  const [categories, setCategories] = useState([]);\n  const [genre, setGenre] = useState<Genre | null>(null);\n  const loading = useContext(LoadingContext);\n\n  const handleChange = (event) => setValue('categories_id', event.target.value);\n\n  useEffect(() => {\n    register({ name: 'categories_id' });\n  }, [register]);\n\n  useEffect(() => {\n    let isSubscribed = true;\n\n    async function loadData() {\n      const promises = [categoryHttp.list()];\n      if (id) {\n        promises.push(genreHttp.get(id));\n      }\n\n      try {\n        const [categoryResponse, genreResponse] = await Promise.all(promises);\n        if (isSubscribed) {\n          setCategories(categoryResponse.data.data);\n\n          if (id) {\n            setGenre(genreResponse.data.data);\n            reset({\n              ...genreResponse.data.data,\n              categories_id: genreResponse.data.data.categories.map(\n                (category) => category.id,\n              ),\n            });\n          }\n        }\n      } catch (error) {\n        console.error(error);\n        enqueueSnackbar('Não foi possível carregar as informações :(', {\n          variant: 'error',\n        });\n      }\n    }\n\n    loadData();\n\n    return () => {\n      isSubscribed = false;\n    };\n  }, [id, enqueueSnackbar, reset]);\n\n  const onSubmit = async (formData, event) => {\n    try {\n      const http = !genre\n        ? genreHttp.create(formData)\n        : genreHttp.update(genre.id, formData);\n      const { data } = await http;\n\n      enqueueSnackbar('Gênero salvo com sucesso!', {\n        variant: 'success',\n      });\n\n      setTimeout(() => {\n        if (formType === 'save') {\n          history.push('/genres');\n        }\n        if (formType === 'save-and-new') {\n          history.push('/genres/create');\n        }\n        if (formType === 'save-and-edit') {\n          const genreId = data.data.id;\n          const urlRedirect = `/genres/${genreId}/edit`;\n          if (id) {\n            history.replace(urlRedirect);\n          } else {\n            history.push(urlRedirect);\n          }\n        }\n      }, 2000);\n    } catch (error) {\n      console.error(error);\n      enqueueSnackbar('Não foi possível salvar o gênero :(', {\n        variant: 'error',\n      });\n    }\n  };\n\n  return (\n    <>\n      <h1>{!id ? 'Adicionar um novo' : 'Editar'} gênero</h1>\n      <DefaultForm\n        GridItemProps={{ xs: 12, md: 6 }}\n        onSubmit={handleSubmit(onSubmit)}\n      >\n        <TextField\n          name=\"name\"\n          label=\"Nome\"\n          fullWidth\n          variant=\"outlined\"\n          disabled={loading}\n          inputRef={register}\n          error={errors.name !== undefined}\n          helperText={errors.name && errors.name.message}\n          InputLabelProps={{ shrink: true }}\n        />\n\n        <TextField\n          name=\"categories_id\"\n          label=\"Categorias\"\n          select\n          SelectProps={{\n            multiple: true,\n          }}\n          value={watch('categories_id')}\n          fullWidth\n          variant=\"outlined\"\n          margin=\"normal\"\n          onChange={handleChange}\n          disabled={loading}\n          error={errors.categories_id !== undefined}\n          helperText={errors.categories_id && errors.categories_id.message}\n          InputLabelProps={{ shrink: true }}\n        >\n          {categories.map((category: Category) => (\n            <MenuItem key={category.id} value={category.id}>\n              {category.name}\n            </MenuItem>\n          ))}\n        </TextField>\n        <FormButtons\n          setFormType={setFormType}\n          loading={loading}\n          handleSave={() =>\n            trigger().then((isValid) => {\n              isValid && onSubmit(getValues(), null);\n            })\n          }\n        />\n      </DefaultForm>\n    </>\n  );\n};\n\nexport default Form;\n","import React, {\n  MutableRefObject,\n  useContext,\n  useEffect,\n  useMemo,\n  useRef,\n  useState,\n} from 'react';\nimport { Link } from 'react-router-dom';\n\nimport { Button, Chip, IconButton } from '@material-ui/core';\nimport EditIcon from '@material-ui/icons/Edit';\nimport { format, parseISO } from 'date-fns';\nimport * as Yup from 'yup';\nimport { useSnackbar } from 'notistack';\nimport { Category, Genre, ListResponse } from '../../../util/models';\nimport LoadingContext from '../../../components/Loading/LoadingContext';\nimport useDeleteCollection from '../../../hooks/useDeleteCollection';\nimport DefaultTable, {\n  MuiDataTableRefComponent,\n  TableColumn,\n} from '../../../components/Table';\nimport useFilter from '../../../hooks/useFilter';\nimport categoryHttp from '../../../util/http/category-http';\nimport genreHttp from '../../../util/http/genre-http';\nimport DeleteDialog from '../../../components/DeleteDialog';\nimport FilterResetButton from '../../../components/Table/FilterResetButton';\n\nconst columnsDefinition: TableColumn[] = [\n  {\n    name: 'id',\n    label: 'ID',\n    width: '30%',\n    options: {\n      sort: false,\n      filter: false,\n    },\n  },\n  {\n    name: 'name',\n    label: 'Nome',\n    width: '23%',\n    options: {\n      filter: false,\n    },\n  },\n  {\n    name: 'categories',\n    label: 'Categorias',\n    options: {\n      filterType: 'multiselect',\n      filterOptions: {\n        names: [],\n      },\n      customBodyRender(value: any) {\n        return value.map((category) => category.name).join(', ');\n      },\n    },\n  },\n  {\n    name: 'is_active',\n    label: 'Ativo?',\n    width: '5%',\n    options: {\n      filter: false,\n      filterOptions: {\n        names: ['Sim', 'Não'],\n      },\n      customBodyRender(value) {\n        return value ? (\n          <Chip label=\"Sim\" color=\"primary\" />\n        ) : (\n          <Chip label=\"Não\" color=\"secondary\" />\n        );\n      },\n    },\n  },\n  {\n    name: 'created_at',\n    label: 'Criado em',\n    width: '10%',\n    options: {\n      filter: false,\n      customBodyRender(value) {\n        return <span>{format(parseISO(value), 'dd/MM/yyyy')}</span>;\n      },\n    },\n  },\n  {\n    name: 'actions',\n    label: 'Ações',\n    width: '13%',\n    options: {\n      filter: false,\n      sort: false,\n      customBodyRender: (value, tableMeta) => {\n        return (\n          <span>\n            <IconButton\n              color=\"secondary\"\n              component={Link}\n              to={`/genres/${tableMeta.rowData[0]}/edit`}\n            >\n              <EditIcon />\n            </IconButton>\n          </span>\n        );\n      },\n    },\n  },\n];\n\nconst btnAdd = (\n  <Button\n    variant=\"outlined\"\n    color=\"primary\"\n    component={Link}\n    to=\"/genres/create\"\n  >\n    Adicionar\n  </Button>\n);\n\nconst debounceTime = 300;\nconst debouncedSearchTime = 300;\nconst rowsPerPage = 15;\nconst rowsPerPageOptions = [10, 25, 50];\n\nconst Table = () => {\n  const { enqueueSnackbar } = useSnackbar();\n  const subscribed = useRef(true);\n  const [data, setData] = useState<Genre[]>([]);\n  const [, setCategories] = useState<Category[]>([]);\n  const loading = useContext(LoadingContext);\n  const {\n    openDeleteDialog,\n    setOpenDeleteDialog,\n    rowsToDelete,\n    setRowsToDelete,\n  } = useDeleteCollection();\n  const tableRef = useRef() as MutableRefObject<MuiDataTableRefComponent>;\n  const extraFilter = useMemo(\n    () => ({\n      createValidationSchema: () => {\n        return Yup.object().shape({\n          categories: Yup.mixed()\n            .nullable()\n            .transform((value) =>\n              !value || value === '' ? undefined : value.split(','),\n            )\n            .default(null),\n        });\n      },\n      formatSearchParams: (debouncedFilterState) => {\n        return debouncedFilterState.extraFilter\n          ? {\n              ...(debouncedFilterState.extraFilter.categories && {\n                categories: debouncedFilterState.extraFilter.categories.join(\n                  ',',\n                ),\n              }),\n            }\n          : undefined;\n      },\n      getStateFromUrl: (queryParams) => {\n        return {\n          categories: queryParams.get('categories'),\n        };\n      },\n    }),\n    [],\n  );\n\n  const {\n    columns,\n    cleanSearchText,\n    filterManager,\n    filterState,\n    debouncedFilterState,\n    totalRecords,\n    setTotalRecords,\n  } = useFilter({\n    columns: columnsDefinition,\n    debounceTime: debounceTime,\n    rowsPerPage,\n    rowsPerPageOptions,\n    tableRef,\n    extraFilter,\n  });\n\n  const searchText = cleanSearchText(debouncedFilterState.search);\n  const indexColumnCategories = columns.findIndex(\n    (c) => c.name === 'categories',\n  );\n  const columnCategories = columns[indexColumnCategories];\n  const categoriesFilterValue =\n    filterState.extraFilter && filterState.extraFilter.categories;\n  (columnCategories.options as any).filterList = categoriesFilterValue\n    ? categoriesFilterValue\n    : [];\n  const serverSideFilterList = columns.map((column) => []);\n  if (categoriesFilterValue) {\n    serverSideFilterList[indexColumnCategories] = categoriesFilterValue;\n  }\n\n  React.useEffect(() => {\n    let isSubscribed = true;\n    (async () => {\n      try {\n        const { data } = await categoryHttp.list({ queryParams: { all: '' } });\n        if (isSubscribed) {\n          setCategories(data.data);\n          (columnCategories.options as any).filterOptions.names = data.data.map(\n            (category) => category.name,\n          );\n        }\n      } catch (error) {\n        console.error(error);\n        enqueueSnackbar('Não foi possível carregar as informações.', {\n          variant: 'error',\n        });\n      }\n    })();\n\n    return () => {\n      isSubscribed = false;\n    };\n  }, [columnCategories.options, enqueueSnackbar]);\n\n  const getData = React.useCallback(\n    async ({ search, page, per_page, sort, dir, type }) => {\n      try {\n        const { data } = await genreHttp.list<ListResponse<Genre>>({\n          queryParams: {\n            search,\n            page,\n            per_page,\n            sort,\n            dir,\n            ...(type && {\n              categories: type,\n            }),\n          },\n        });\n        if (subscribed.current) {\n          setData(data.data);\n          setTotalRecords(data.meta.total);\n          if (openDeleteDialog) {\n            setOpenDeleteDialog(false);\n          }\n        }\n      } catch (error) {\n        console.error(error);\n        if (genreHttp.isCancelledRequest(error)) {\n          enqueueSnackbar('Não foi possível carregar as informações.', {\n            variant: 'error',\n          });\n        }\n      }\n    },\n    [enqueueSnackbar, setTotalRecords, openDeleteDialog, setOpenDeleteDialog],\n  );\n\n  useEffect(() => {\n    subscribed.current = true;\n    getData({\n      search: searchText,\n      page: debouncedFilterState.pagination.page,\n      per_page: debouncedFilterState.pagination.per_page,\n      sort: debouncedFilterState.order.sort,\n      dir: debouncedFilterState.order.dir,\n      ...(debouncedFilterState.extraFilter &&\n        debouncedFilterState.extraFilter.categories && {\n          categories: debouncedFilterState.extraFilter.categories.join(','),\n        }),\n    });\n    return () => {\n      subscribed.current = false;\n    };\n  }, [\n    getData,\n    searchText,\n    debouncedFilterState.pagination.page,\n    debouncedFilterState.pagination.per_page,\n    debouncedFilterState.order,\n    debouncedFilterState.extraFilter,\n  ]);\n\n  function deleteRows(confirmed: boolean) {\n    if (!confirmed) {\n      setOpenDeleteDialog(false);\n      return;\n    }\n\n    const ids = rowsToDelete.data\n      .map((value) => data[value.index].id)\n      .join(',');\n\n    genreHttp\n      .deleteCollection({ ids })\n      .then((response) => {\n        enqueueSnackbar('Registros excluidos com sucesso!', {\n          variant: 'success',\n        });\n        if (\n          rowsToDelete.data.length === filterState.pagination.per_page &&\n          filterState.pagination.page > 1\n        ) {\n          const page = filterState.pagination.page - 2;\n          filterManager.changePage(page);\n        } else {\n          //getData()\n        }\n      })\n      .catch((error) => {\n        console.error(error);\n        enqueueSnackbar('Não foi possível excluir os registros', {\n          variant: 'error',\n        });\n      });\n  }\n\n  return (\n    <>\n      <DeleteDialog open={openDeleteDialog} handleClose={deleteRows} />\n      <DefaultTable\n        title={btnAdd}\n        columns={columns}\n        data={data}\n        loading={loading}\n        debouncedSearchTime={debouncedSearchTime}\n        ref={tableRef}\n        options={{\n          // serverSideFilterList,\n          serverSide: true,\n          responsive: 'standard',\n          searchText: filterState.search as any,\n          page: filterState.pagination.page - 1,\n          rowsPerPage: filterState.pagination.per_page,\n          rowsPerPageOptions,\n          count: totalRecords,\n          onFilterChange: (column: any, filterList, type) => {\n            if (type === 'reset') {\n              filterManager.resetFilter();\n              return;\n            }\n            const columnIndex = columns.findIndex((c) => c.name === column);\n            filterManager.changeExtraFilter({\n              [column]:\n                filterList[columnIndex] && filterList[columnIndex].length\n                  ? filterList[columnIndex]\n                  : null,\n            });\n          },\n          customToolbar: () => (\n            <FilterResetButton\n              handleClick={() => filterManager.resetFilter()}\n            />\n          ),\n          onSearchChange: (value) => filterManager.changeSearch(value),\n          onChangePage: (page) => filterManager.changePage(page),\n          onChangeRowsPerPage: (perPage) =>\n            filterManager.changeRowsPerPage(perPage),\n          onColumnSortChange: (changedColumn, direction) =>\n            filterManager.changeColumnSort(changedColumn, direction),\n          onRowsDelete: (rowsDeleted) => {\n            setRowsToDelete(rowsDeleted);\n            return false;\n          },\n        }}\n      />\n    </>\n  );\n};\n\nexport default Table;\n","import React from 'react';\n\nimport Table from '../Table';\n\nconst List = () => {\n  return (\n    <>\n      <h1>Listagem de gêneros</h1>\n      <Table />\n    </>\n  );\n};\n\nexport default List;\n","import { Upload, FileUpload } from './types';\n\nexport function countInProgress(uploads: Upload[]) {\n  return uploads.filter((upload) => !isFinished(upload)).length;\n}\n\nexport function isFinished(obj: Upload | FileUpload) {\n  return obj.progress === 1 || hasError(obj);\n}\n\nexport function hasError(obj: Upload | FileUpload): boolean {\n  if (isUploadType(obj)) {\n    const upload = obj as Upload;\n    return upload.files.some((file) => file.error);\n  } else {\n    const file = obj as FileUpload;\n    return file.error !== undefined;\n  }\n}\n\nexport function isUploadType(obj: Upload | FileUpload) {\n  return 'video' in obj;\n}\n","import React from 'react';\nimport { makeStyles, Theme, CircularProgress, Fade } from '@material-ui/core';\nimport { grey } from '@material-ui/core/colors';\nimport { Upload, FileUpload } from '../../store/upload/types';\nimport { hasError } from '../../store/upload/getters';\n\ninterface UploadProgressProps {\n  size: number;\n  uploadOrFile: Upload | FileUpload;\n}\n\nconst useStyles = makeStyles((theme: Theme) => ({\n  progressContainer: {\n    position: 'relative',\n  },\n  progressBackground: {\n    color: grey['300'],\n  },\n  progress: {\n    position: 'absolute',\n    left: 0,\n  },\n}));\n\nconst UploadProgress: React.FC<UploadProgressProps> = (props) => {\n  const classes = useStyles();\n  const { size, uploadOrFile } = props;\n  const error = hasError(uploadOrFile);\n\n  return (\n    <Fade in={uploadOrFile.progress < 1} timeout={{ enter: 2000, exit: 2000 }}>\n      <div className={classes.progressContainer}>\n        <CircularProgress\n          variant=\"static\"\n          value={100}\n          className={classes.progressBackground}\n          size={size}\n        />\n        <CircularProgress\n          variant=\"static\"\n          value={error ? 0 : uploadOrFile.progress * 100}\n          className={classes.progress}\n          size={size}\n        />\n      </div>\n    </Fade>\n  );\n};\n\nexport default UploadProgress;\n","import React, { useState, useEffect } from 'react';\nimport {\n  makeStyles,\n  Theme,\n  Fade,\n  Divider,\n  IconButton,\n} from '@material-ui/core';\nimport CheckCircleIcon from '@material-ui/icons/CheckCircle';\nimport ErrorIcon from '@material-ui/icons/Error';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport EditIcon from '@material-ui/icons/Edit';\nimport { Link } from 'react-router-dom';\nimport { Upload, FileUpload } from '../../../store/upload/types';\nimport { useDispatch } from 'react-redux';\nimport { Creators } from '../../../store/upload';\nimport {\n  hasError,\n  isFinished,\n  isUploadType,\n} from '../../../store/upload/getters';\nimport { useDebounce } from 'use-debounce';\n\nconst useStyles = makeStyles((theme: Theme) => {\n  return {\n    successIcon: {\n      color: theme.palette.success.main,\n      marginLeft: theme.spacing(1),\n    },\n    errorIcon: {\n      color: theme.palette.error.main,\n      marginLeft: theme.spacing(1),\n    },\n    divider: {\n      height: '20px',\n      marginLeft: theme.spacing(1),\n      marginRight: theme.spacing(1),\n    },\n  };\n});\n\ninterface UploadActionProps {\n  uploadOrFile: Upload | FileUpload;\n}\n\nconst UploadAction: React.FC<UploadActionProps> = (props) => {\n  const classes = useStyles();\n  const { uploadOrFile } = props;\n  const dispatch = useDispatch();\n  const error = hasError(uploadOrFile);\n  const [show, setShow] = useState(false);\n  const [debouncedShow] = useDebounce(show, 1500);\n  const videoId = (uploadOrFile as any).video\n    ? (uploadOrFile as any).video.id\n    : '';\n  const activeActions = isUploadType(uploadOrFile);\n\n  useEffect(() => {\n    setShow(isFinished(uploadOrFile));\n  }, [uploadOrFile]);\n\n  return debouncedShow ? (\n    <Fade in={true} timeout={{ enter: 1000 }}>\n      <>\n        {uploadOrFile.progress === 1 && !error && (\n          <CheckCircleIcon className={classes.successIcon} />\n        )}\n        {error && <ErrorIcon className={classes.errorIcon} />}\n        {activeActions && (\n          <>\n            <Divider className={classes.divider} orientation=\"vertical\" />\n            <IconButton\n              onClick={() => dispatch(Creators.removeUpload({ id: videoId }))}\n            >\n              <DeleteIcon color=\"primary\" />\n            </IconButton>\n            <IconButton component={Link} to={`/videos/${videoId}/edit`}>\n              <EditIcon color=\"primary\" />\n            </IconButton>\n          </>\n        )}\n      </>\n    </Fade>\n  ) : null;\n};\n\nexport default UploadAction;\n","import React from 'react';\nimport {\n  makeStyles,\n  Theme,\n  ListItem,\n  Grid,\n  Typography,\n} from '@material-ui/core';\nimport MovieIcon from '@material-ui/icons/Movie';\nimport ImageIcon from '@material-ui/icons/Image';\nimport UploadProgress from '../../../components/UploadProgress';\nimport UploadAction from './UploadAction';\nimport { Upload, FileUpload } from '../../../store/upload/types';\n\nconst useStyles = makeStyles((theme: Theme) => {\n  return {\n    icon: {\n      color: theme.palette.error.main,\n      minWidth: '40px',\n    },\n    gridTitle: {\n      display: 'flex',\n      color: '#999999',\n    },\n  };\n});\n\ninterface UploadItemProps {\n  uploadOrFile: Upload | FileUpload;\n}\n\nconst UploadItem: React.FC<UploadItemProps> = (props) => {\n  const classes = useStyles();\n  const { uploadOrFile } = props;\n\n  function makeIcon() {\n    if (true) {\n      return <MovieIcon className={classes.icon} />;\n    }\n    return <ImageIcon className={classes.icon} />;\n  }\n\n  return (\n    <ListItem>\n      <Grid container alignItems=\"center\">\n        <Grid className={classes.gridTitle} item xs={12} md={9}>\n          {makeIcon()}\n          <Typography color=\"inherit\">{props.children}</Typography>\n        </Grid>\n        <Grid item xs={12} md={3}>\n          <Grid\n            container\n            direction=\"row\"\n            alignItems=\"center\"\n            justify=\"flex-end\"\n          >\n            <UploadProgress size={48} uploadOrFile={uploadOrFile} />\n            <UploadAction uploadOrFile={uploadOrFile} />\n          </Grid>\n        </Grid>\n      </Grid>\n    </ListItem>\n  );\n};\n\nexport default UploadItem;\n","import React from 'react';\nimport { Container, Typography, makeStyles, Box } from '@material-ui/core';\n\ntype PageProps = {\n  title: string;\n};\n\nconst useStyles = makeStyles({\n  title: {\n    color: '#999999',\n  },\n});\n\nconst Page: React.FC<PageProps> = (props) => {\n  const classes = useStyles();\n\n  return (\n    <div>\n      <Container>\n        <Typography className={classes.title} component=\"h1\" variant=\"h5\">\n          {props.title}\n        </Typography>\n        <Box paddingTop={1}>{props.children}</Box>\n      </Container>\n    </div>\n  );\n};\n\nexport default Page;\n","import React from 'react';\nimport {\n  makeStyles,\n  Theme,\n  Card,\n  CardContent,\n  ExpansionPanel,\n  ExpansionPanelSummary,\n  Typography,\n  ExpansionPanelDetails,\n  Grid,\n  List,\n  Divider,\n} from '@material-ui/core';\nimport UploadItem from './UploadItem';\nimport Page from '../../../components/Page';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport { useSelector } from 'react-redux';\nimport { UploadModule, Upload } from '../../../store/upload/types';\nimport { VideoFileFieldsMaps } from '../../../util/models';\n\nconst useStyles = makeStyles((theme: Theme) => {\n  return {\n    panelSummary: {\n      backgroundColor: theme.palette.primary.main,\n      color: theme.palette.primary.contrastText,\n    },\n    expendedIcon: {\n      color: theme.palette.primary.contrastText,\n    },\n  };\n});\n\nconst Uploads = () => {\n  const classes = useStyles();\n  const uploads = useSelector<UploadModule, Upload[]>(\n    (state) => state.upload.uploads,\n  );\n\n  return (\n    <Page title=\"Uploads\">\n      {uploads.map((upload, key) => (\n        <Card elevation={5} key={key}>\n          <CardContent>\n            <UploadItem uploadOrFile={upload}>{upload.video.title}</UploadItem>\n            <ExpansionPanel style={{ margin: 0 }}>\n              <ExpansionPanelSummary\n                className={classes.panelSummary}\n                expandIcon={<ExpandMoreIcon className={classes.expendedIcon} />}\n              >\n                <Typography>Ver detalhes</Typography>\n              </ExpansionPanelSummary>\n              <ExpansionPanelDetails style={{ padding: '0px' }}>\n                <Grid item xs={12}>\n                  {upload.files.map((file, key) => (\n                    <React.Fragment key={key}>\n                      <List dense={true} style={{ padding: '0px' }}>\n                        <Divider />\n                        <UploadItem uploadOrFile={file}>\n                          {`${VideoFileFieldsMaps[file.fileField]} - ${\n                            file.filename\n                          }`}\n                        </UploadItem>\n                      </List>\n                    </React.Fragment>\n                  ))}\n                </Grid>\n              </ExpansionPanelDetails>\n            </ExpansionPanel>\n          </CardContent>\n        </Card>\n      ))}\n    </Page>\n  );\n};\n\nexport default Uploads;\n","import React from 'react';\n\nimport Table from '../Table';\n\nconst List = () => {\n  return (\n    <>\n      <h1>Listagem de uploads</h1>\n      <Table />\n    </>\n  );\n};\n\nexport default List;\n","import * as Yup from 'yup';\n\n// import {\n//   SUPPORTED_FORMATS_IMAGES,\n//   SUPPORTED_FORMATS_VIDEOS,\n// } from '~/util/models';\n//\n// const thumbFile = Yup.string().required();\n// const bannerFile = Yup.string().required();\n// const trailerFile = Yup.string().required();\n// const videoFile = Yup.string().required();\n\nexport const schemaValidations = Yup.object().shape({\n  title: Yup.string().max(255).required('O título é obrigatório'),\n  description: Yup.string().required('A descrição é obrigatório'),\n  year_launched: Yup.string()\n    .min(2)\n    .max(4)\n    .required('O ano de lançamento é obrigatório'),\n  duration: Yup.string().min(2).max(3).required('A duração é obrigatório'),\n  rating: Yup.string().required('A classificação é obrigatório'),\n  genres: Yup.string()\n    .test(\n      'notEmpty',\n      'O gênero é obrigatório',\n      async (value: any) => value && value.length > 2, // retornar 2 colchete como string\n    )\n    .test({\n      name: 'emptyCategory',\n      message:\n        'Cada gênero escolhido precisa ter pelo menos uma categoria selecionada',\n      test(value) {\n        const json = JSON.parse(value);\n        const parentCategories = JSON.parse(this.parent.categories);\n        return json.every(\n          (v) =>\n            v.categories.filter((cat) =>\n              parentCategories.map((c) => c.id).includes(cat.id),\n            ).length !== 0,\n        );\n      },\n    })\n    .required('O gênero é obrigatório'),\n  categories: Yup.string()\n    .test(\n      'notEmpty',\n      'A categoria é obrigatório',\n      async (value: any) => value && value.length > 2, // retornar 2 colchete como string\n    )\n    .required('A categoria é obrigatório'),\n  cast_members: Yup.string()\n    .test(\n      'notEmpty',\n      'O membros de elencos é obrigatório',\n      async (value: any) => value && value.length > 2, // retornar 2 colchete como string\n    )\n    .required('A categoria é obrigatório'),\n  opened: Yup.bool(),\n  // thumb_file: Yup.string()\n  //   .test('fileFormat', 'Formato de imagem não suportado', async value => {\n  //     const type = value.split(';')[0].split(':')[1];\n  //     return (\n  //       value &&\n  //       (await thumbFile.isValid(value)) &&\n  //       SUPPORTED_FORMATS_IMAGES.includes(type)\n  //     );\n  //   })\n  //   .required('O Thumbnail é obrigatório'),\n  // banner_file: Yup.string()\n  //   .test('fileFormat', 'Formato de imagem não suportado', async value => {\n  //     const type = value.split(';')[0].split(':')[1];\n  //     return (\n  //       value &&\n  //       (await bannerFile.isValid(value)) &&\n  //       SUPPORTED_FORMATS_IMAGES.includes(type)\n  //     );\n  //   })\n  //   .required('O Banner é obrigatório'),\n  // trailer_file: Yup.string()\n  //   .test('fileFormat', 'Formato de vídeo não suportado', async value => {\n  //     const type = value.split(';')[0].split(':')[1];\n  //     return (\n  //       value &&\n  //       (await trailerFile.isValid(value)) &&\n  //       SUPPORTED_FORMATS_VIDEOS.includes(type)\n  //     );\n  //   })\n  //   .required('O Trailer é obrigatório'),\n  // video_file: Yup.string()\n  //   .test('fileFormat', 'Formato de vídeo não suportado', async value => {\n  //     const type = value.split(';')[0].split(':')[1];\n  //     return (\n  //       value &&\n  //       (await videoFile.isValid(value)) &&\n  //       SUPPORTED_FORMATS_VIDEOS.includes(type)\n  //     );\n  //   })\n  //   .required('O Vídeo principal é obrigatório'),\n});\n","import { useEffect } from 'react';\nimport { useSnackbar } from 'notistack';\n\nconst useSnackbarFormError = (submitCount, errors) => {\n  const { enqueueSnackbar } = useSnackbar();\n  useEffect(() => {\n    const hasError = Object.keys(errors).length !== 0;\n    if (submitCount > 0 && hasError) {\n      enqueueSnackbar(\n        'Formulário inválido. Reveja os campos marcados de vermelho!',\n        { variant: 'error' },\n      );\n    }\n  }, [submitCount, errors, enqueueSnackbar]);\n};\n\nexport default useSnackbarFormError;\n","import React, { forwardRef, RefAttributes, useEffect, useImperativeHandle, useState } from 'react';\nimport {\n  Autocomplete,\n  AutocompleteProps,\n  UseAutocompleteProps\n} from '@material-ui/lab';\nimport TextField, { TextFieldProps } from '@material-ui/core/TextField';\nimport { CircularProgress } from '@material-ui/core';\nimport { useDebounce } from 'use-debounce/lib';\n\ninterface AsyncAutocompleteProps\nextends RefAttributes<AsyncAutocompleteComponent> {\n  fetchOptions: (searchText) => Promise<any>;\n  debounceTime?: number;\n  TextFieldProps?: TextFieldProps;\n  AutocompleteProps?: Omit<AutocompleteProps<any, any, any, any>, 'renderInput' | 'options'> & Omit<UseAutocompleteProps<any, any, any, any>, 'renderInput' | 'options'>;\n}\n\nexport interface AsyncAutocompleteComponent {\n  clear: () => void;\n}\n\nconst AsyncAutocomplete = forwardRef<\n  AsyncAutocompleteComponent,\n  AsyncAutocompleteProps\n>((props, ref) => {\n  const { AutocompleteProps, debounceTime = 300, fetchOptions } = props;\n  const { freeSolo, onOpen, onClose, onInputChange } = AutocompleteProps as any;\n  const [open, setOpen] = useState(false);\n  const [searchText, setSearchText] = useState('');\n  const [debouncedSearchText] = useDebounce(searchText, debounceTime);\n  const [loading, setLoading] = useState(false);\n  const [options, setOptions] = useState([]);\n\n  const textFieldProps: TextFieldProps = {\n    margin: 'normal',\n    variant: 'outlined',\n    fullWidth: true,\n    InputLabelProps: { shrink: true },\n    ...(props.TextFieldProps && { ...props.TextFieldProps }),\n  };\n\n  const autocompleteProps: AutocompleteProps<any, any, any, any> = {\n    loadingText: 'Carregando...',\n    noOptionsText: 'Nenhum item encontrado',\n    ...(AutocompleteProps && { ...AutocompleteProps }),\n    open,\n    options,\n    loading: loading,\n    inputValue: searchText,\n    onOpen() {\n      setOpen(true);\n      onOpen && onOpen();\n    },\n    onClose() {\n      setOpen(false);\n      onClose && onClose();\n    },\n    onInputChange(event, value) {\n      setSearchText(value);\n      onInputChange && onInputChange();\n    },\n    renderInput: (params) => (\n      <TextField\n        {...params}\n        {...textFieldProps}\n        InputProps={{\n          ...params.InputProps,\n          endAdornment: (\n            <>\n              {loading && <CircularProgress color=\"inherit\" size={20} />}\n              {params.InputProps.endAdornment}\n            </>\n          ),\n        }}\n      />\n    ),\n  };\n\n  useEffect(() => {\n    if (!open && !freeSolo) {\n      setOptions([]);\n    }\n  }, [open, freeSolo]);\n\n  useEffect(() => {\n    if (!open) {\n      return;\n    }\n\n    if (debouncedSearchText === '' && freeSolo) {\n      return;\n    }\n\n    let isSubscribed = true;\n\n    (async () => {\n      setLoading(true);\n      try {\n        const data = await fetchOptions(debouncedSearchText);\n        if (isSubscribed) {\n          setOptions(data);\n        }\n      } finally {\n        setLoading(false);\n      }\n    })();\n\n    return () => {\n      isSubscribed = false;\n    };\n  }, [freeSolo, debouncedSearchText, open, fetchOptions]);\n\n  useImperativeHandle(ref, () => ({\n    clear: () => {\n      setSearchText('');\n      setOptions([]);\n    },\n  }));\n\n  return <Autocomplete {...autocompleteProps} />;\n});\n\nexport default AsyncAutocomplete;\n","import React from 'react';\n\nimport { Grid } from '@material-ui/core';\nimport { createStyles, makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles((theme) =>\n  createStyles({\n    root: {\n      backgroundColor: '#f1f1f1',\n      borderRadius: '4px',\n      padding: theme.spacing(1, 1),\n      color: theme.palette.secondary.main,\n    },\n  }),\n);\n\nconst GridSelected: React.FC = ({ ...rest }) => {\n  const classes = useStyles();\n  return (\n    <Grid container wrap=\"wrap\" className={classes.root} {...rest}>\n      {rest.children}\n    </Grid>\n  );\n};\n\nexport default GridSelected;\n","import React, { MouseEventHandler } from 'react';\n\nimport { Grid, IconButton } from '@material-ui/core';\nimport DeleteIcon from '@material-ui/icons/Delete';\n\ninterface GridSelectedItemProps {\n  onDelete: MouseEventHandler<any>;\n  children?: React.ReactNode;\n  xs: any;\n}\n\nconst GridSelectedItem: React.FC<GridSelectedItemProps> = ({\n  onDelete,\n  children,\n  ...rest\n}) => {\n  return (\n    <Grid item {...rest}>\n      <Grid container alignItems=\"center\" spacing={2}>\n        <Grid item xs={1} md={1}>\n          <IconButton size=\"small\" color=\"inherit\" onClick={onDelete}>\n            <DeleteIcon />\n          </IconButton>\n        </Grid>\n        <Grid item xs={11} md={11}>\n          {children}\n        </Grid>\n      </Grid>\n    </Grid>\n  );\n};\n\nexport default GridSelectedItem;\n","import { useSnackbar } from 'notistack';\nimport axios from 'axios';\nimport { useCallback } from 'react';\n\nconst useHttpHandled = () => {\n  const { enqueueSnackbar } = useSnackbar();\n\n  return useCallback(\n    async (request: Promise<any>) => {\n      try {\n        const { data } = await request;\n        return data;\n      } catch (e) {\n        console.error(e);\n        if (!axios.isCancel(e)) {\n          enqueueSnackbar('Não foi possível carregar as informações', {\n            variant: 'error',\n          });\n        }\n        throw e;\n      }\n    },\n    [enqueueSnackbar],\n  );\n};\n\nexport default useHttpHandled;\n","import { useSnackbar } from 'notistack';\n\nconst useCollectionManager = (collection: any[], setCollection) => {\n  const snackbar = useSnackbar();\n\n  return {\n    addItem(item) {\n      if (!item || item === '') {\n        return;\n      }\n\n      const exists = collection.find((i) => i.id === item.id);\n      if (exists) {\n        snackbar.enqueueSnackbar('Item já adicionado', { variant: 'info' });\n        return;\n      }\n      collection.unshift(item);\n      setCollection(collection);\n    },\n\n    removeItem(item) {\n      const index = collection.findIndex((i) => i.id === item.id);\n      if (index === -1) {\n        return;\n      }\n      collection.splice(index, 1);\n      setCollection(collection);\n    },\n  };\n};\n\nexport default useCollectionManager;\n","import React, { MutableRefObject, useCallback, useImperativeHandle } from 'react';\nimport AsyncAutocomplete, {\n  AsyncAutocompleteComponent,\n} from '../../../../components/AsyncAutocomplete';\nimport GridSelected from '../../../../components/GridSelected';\nimport GridSelectedItem from '../../../../components/GridSelectedItem';\nimport {\n  Typography,\n  FormControl,\n  FormControlProps,\n  FormHelperText,\n} from '@material-ui/core';\nimport useHttpHandled from '../../../../hooks/useHttpHandled';\nimport useCollectionManager from '../../../../hooks/useCollectionManager';\nimport castMemberHttp from '../../../../util/http/cast-member-http';\n\ninterface CastMemberFieldProps\n  extends React.RefAttributes<CastMemberFieldComponent> {\n  castMembers: any[];\n  setCastMembers: (castMembers) => void;\n  error: any;\n  disabled?: boolean;\n  FormControlProps?: FormControlProps;\n}\n\nexport interface CastMemberFieldComponent {\n  clear: () => void;\n}\n\nconst CastMemberField = React.forwardRef<\n  CastMemberFieldComponent,\n  CastMemberFieldProps\n>((props, ref) => {\n  const autocompleteHttp = useHttpHandled();\n  const { castMembers, setCastMembers, error, disabled } = props;\n  const { addItem, removeItem } = useCollectionManager(\n    castMembers,\n    setCastMembers,\n  );\n  const autocompleteRef = React.useRef() as MutableRefObject<\n    AsyncAutocompleteComponent\n  >;\n\n  const fetchOptions = useCallback(\n    (searchText) => {\n      return autocompleteHttp(\n        castMemberHttp.list({\n          queryParams: {\n            search: searchText,\n            all: '',\n          },\n        }),\n      ).then((data) => data.data);\n    },\n    [autocompleteHttp],\n  );\n\n  useImperativeHandle(ref, () => ({\n    clear: () => autocompleteRef.current.clear(),\n  }));\n\n  return (\n    <>\n      <AsyncAutocomplete\n        ref={autocompleteRef}\n        AutocompleteProps={{\n          clearOnEscape: true,\n          freeSolo: true,\n          getOptionLabel: (option) => option.name,\n          getOptionSelected: (option, value) => option.id === value.id,\n          onChange: (event, value) => addItem(value),\n          disabled,\n        }}\n        fetchOptions={fetchOptions}\n        TextFieldProps={{\n          label: 'Elenco',\n          error: error !== undefined,\n        }}\n      />\n      <FormControl\n        margin=\"normal\"\n        fullWidth\n        error={error !== undefined}\n        disabled={disabled === true}\n        {...props.FormControlProps}\n      >\n        <GridSelected>\n          {castMembers.map((castMember, key) => (\n            <GridSelectedItem\n              key={key}\n              onDelete={() => {\n                removeItem(castMember);\n              }}\n              xs={6}\n            >\n              <Typography noWrap={true}> {castMember.name} </Typography>\n            </GridSelectedItem>\n          ))}\n        </GridSelected>\n        {error && <FormHelperText>{error.message}</FormHelperText>}\n      </FormControl>\n    </>\n  );\n});\n\nexport default CastMemberField;\n","import { Genre, Category } from \"../models\";\n\nexport function getGenresFromCategory(genres: Genre[], category: Category) {\n    return genres.filter(genre =>\n        genre.categories.filter(cat => cat.id === category.id).length !== 0\n    )\n}\n","import React, {\n  useRef,\n  useCallback,\n  RefAttributes,\n  forwardRef,\n  MutableRefObject,\n  useImperativeHandle,\n} from 'react';\nimport AsyncAutocomplete, {\n  AsyncAutocompleteComponent,\n} from '../../../../components/AsyncAutocomplete';\nimport GridSelected from '../../../../components/GridSelected';\nimport GridSelectedItem from '../../../../components/GridSelectedItem';\nimport {\n  Typography,\n  FormControlProps,\n  FormControl,\n  FormHelperText,\n  makeStyles,\n  Theme,\n  useTheme,\n} from '@material-ui/core';\nimport useHttpHandled from '../../../../hooks/useHttpHandled';\nimport useCollectionManager from '../../../../hooks/useCollectionManager';\nimport { Genre } from '../../../../util/models';\nimport categoryHttp from '../../../../util/http/category-http';\nimport { getGenresFromCategory } from '../../../../util/model-filters';\nimport { grey } from '@material-ui/core/colors';\n\ninterface CategoryFieldProps extends RefAttributes<CategoryFieldComponent> {\n  categories: any[];\n  setCategories: (categories) => void;\n  genres: Genre[];\n  error: any;\n  disabled?: boolean;\n  FormControlProps?: FormControlProps;\n}\n\nexport interface CategoryFieldComponent {\n  clear: () => void;\n}\n\nconst useStyles = makeStyles((theme: Theme) => ({\n  genresSubtitle: {\n    fontSize: '0.8rem',\n    color: grey['800'],\n  },\n}));\n\nconst CategoryField = forwardRef<CategoryFieldComponent, CategoryFieldProps>(\n  (props, ref) => {\n    const { categories, setCategories, genres, error, disabled } = props;\n    const autocompleteHttp = useHttpHandled();\n    const { addItem, removeItem } = useCollectionManager(\n      categories,\n      setCategories,\n    );\n    const classes = useStyles();\n    const autocompleteRef = useRef() as MutableRefObject<\n      AsyncAutocompleteComponent\n    >;\n    const theme = useTheme();\n\n    const fetchOptions = useCallback(() => {\n      return autocompleteHttp(\n        categoryHttp.list({\n          queryParams: {\n            genres: genres.map((genre) => genre.id).join(','),\n            all: '',\n          },\n        }),\n      ).then((data) => data.data);\n    }, [autocompleteHttp, genres]);\n\n    useImperativeHandle(ref, () => ({\n      clear: () => autocompleteRef.current.clear(),\n    }));\n\n    return (\n      <>\n        <AsyncAutocomplete\n          ref={autocompleteRef}\n          AutocompleteProps={{\n            //autoSelect: true,\n            clearOnEscape: true,\n            freeSolo: false,\n            getOptionLabel: (option) => option.name,\n            onChange: (event, value) => addItem(value),\n            getOptionSelected: (option, value) => option.id === value.id,\n            disabled: disabled === true || !genres.length,\n          }}\n          fetchOptions={fetchOptions}\n          TextFieldProps={{\n            label: 'Categorias',\n            error: error !== undefined,\n          }}\n        />\n        <FormHelperText style={{ height: theme.spacing(3) }}>\n          Escolha pelo menos uma categoria de cada gênero\n        </FormHelperText>\n        <FormControl\n          margin=\"normal\"\n          fullWidth\n          error={error !== undefined}\n          disabled={disabled === true}\n          {...props.FormControlProps}\n        >\n          <GridSelected>\n            {categories.map((category, key) => {\n              const genreFromCategories = getGenresFromCategory(\n                genres,\n                category,\n              )\n                .map((genre) => genre.name)\n                .join(', ');\n              return (\n                <GridSelectedItem\n                  key={key}\n                  onDelete={() => removeItem(category)}\n                  xs={12}\n                >\n                  <Typography noWrap={true}> {category.name} </Typography>\n                  <Typography noWrap={true} className={classes.genresSubtitle}>\n                    {' '}\n                    {genreFromCategories}{' '}\n                  </Typography>\n                </GridSelectedItem>\n              );\n            })}\n          </GridSelected>\n          {error && <FormHelperText>{error.message}</FormHelperText>}\n        </FormControl>\n      </>\n    );\n  },\n);\n\nexport default CategoryField;\n","import React, {\n  useRef,\n  useCallback,\n  RefAttributes,\n  forwardRef,\n  MutableRefObject,\n  useImperativeHandle,\n} from 'react';\nimport AsyncAutocomplete, {\n  AsyncAutocompleteComponent,\n} from '../../../../components/AsyncAutocomplete';\nimport GridSelected from '../../../../components/GridSelected';\nimport GridSelectedItem from '../../../../components/GridSelectedItem';\nimport {\n  Typography,\n  FormControl,\n  FormControlProps,\n  FormHelperText,\n  useTheme,\n} from '@material-ui/core';\nimport useHttpHandled from '../../../../hooks/useHttpHandled';\nimport genreHttp from '../../../../util/http/genre-http';\nimport useCollectionManager from '../../../../hooks/useCollectionManager';\nimport { getGenresFromCategory } from '../../../../util/model-filters';\n\ninterface GenreFieldProps extends RefAttributes<GenreFieldComponent> {\n  genres: any[];\n  setGenres: (genres) => void;\n  categories: any[];\n  setCategories: (categories) => void;\n  error: any;\n  disabled?: boolean;\n  FormControlProps?: FormControlProps;\n}\n\nexport interface GenreFieldComponent {\n  clear: () => void;\n}\n\nconst GenreField = forwardRef<GenreFieldComponent, GenreFieldProps>(\n  (props, ref) => {\n    const autocompleteHttp = useHttpHandled();\n    const {\n      genres,\n      setGenres,\n      categories,\n      setCategories,\n      error,\n      disabled,\n    } = props;\n    const { addItem, removeItem } = useCollectionManager(genres, setGenres);\n    const { removeItem: removeCategory } = useCollectionManager(\n      categories,\n      setCategories,\n    );\n    const autocompleteRef = useRef() as MutableRefObject<\n      AsyncAutocompleteComponent\n    >;\n    const theme = useTheme();\n\n    const fetchOptions = useCallback(\n      (searchText) => {\n        return autocompleteHttp(\n          genreHttp.list({\n            queryParams: {\n              search: searchText,\n              all: '',\n            },\n          }),\n        ).then((data) => data.data);\n      },\n      [autocompleteHttp],\n    );\n\n    useImperativeHandle(ref, () => ({\n      clear: () => autocompleteRef.current.clear(),\n    }));\n\n    return (\n      <>\n        <AsyncAutocomplete\n          ref={autocompleteRef}\n          AutocompleteProps={{\n            //autoSelect: true,\n            clearOnEscape: true,\n            freeSolo: true,\n            getOptionLabel: (option) => option.name,\n            getOptionSelected: (option, value) => option.id === value.id,\n            onChange: (event, value) => addItem(value),\n            disabled,\n          }}\n          fetchOptions={fetchOptions}\n          TextFieldProps={{\n            label: 'Gêneros',\n            error: error !== undefined,\n          }}\n        />\n        <FormHelperText style={{ height: theme.spacing(3) }}>\n          Escolha os gêneros do vídeo\n        </FormHelperText>\n        <FormControl\n          margin=\"normal\"\n          fullWidth\n          error={error !== undefined}\n          disabled={disabled === true}\n          {...props.FormControlProps}\n        >\n          <GridSelected>\n            {genres.map((genre, key) => (\n              <GridSelectedItem\n                key={key}\n                onDelete={() => {\n                  const categoriesWithOneGenre = categories.filter(\n                    (category) => {\n                      const categoryGenres = getGenresFromCategory(\n                        genres,\n                        category,\n                      );\n                      return (\n                        categoryGenres.length === 1 && genres[0].id === genre.id\n                      );\n                    },\n                  );\n\n                  categoriesWithOneGenre.forEach((cat) => removeCategory(cat));\n                  removeItem(genre);\n                }}\n                xs={12}\n              >\n                <Typography noWrap={true}> {genre.name} </Typography>\n              </GridSelectedItem>\n            ))}\n          </GridSelected>\n          {error && <FormHelperText>{error.message}</FormHelperText>}\n        </FormControl>\n      </>\n    );\n  },\n);\n\nexport default GenreField;\n","import React from 'react';\nimport { makeStyles, Theme, CircularProgress, Fade } from '@material-ui/core';\nimport { grey } from '@material-ui/core/colors';\nimport { FileUpload, Upload } from '../../store/upload/types';\nimport { hasError } from '../../store/upload/getters';\n\n\ninterface UploadProgressProps {\n  size: number;\n  uploadOrFile: Upload | FileUpload;\n}\n\nconst useStyles = makeStyles((theme: Theme) => ({\n  progressContainer: {\n    position: 'relative',\n  },\n  progressBackground: {\n    color: grey['300'],\n  },\n  progress: {\n    position: 'absolute',\n    left: 0,\n  },\n}));\n\nconst UploadProgress: React.FC<UploadProgressProps> = (props) => {\n  const classes = useStyles();\n  const { size, uploadOrFile } = props;\n  const error = hasError(uploadOrFile);\n\n  return (\n    <Fade in={uploadOrFile.progress < 1} timeout={{ enter: 2000, exit: 2000 }}>\n      <div className={classes.progressContainer}>\n        <CircularProgress\n          variant=\"static\"\n          value={100}\n          className={classes.progressBackground}\n          size={size}\n        />\n        <CircularProgress\n          variant=\"static\"\n          value={error ? 0 : uploadOrFile.progress * 100}\n          className={classes.progress}\n          size={size}\n        />\n      </div>\n    </Fade>\n  );\n};\n\nexport default UploadProgress;\n","import React from 'react';\nimport { useState, useEffect } from 'react';\nimport {\n  makeStyles,\n  Theme,\n  Fade,\n  ListItemSecondaryAction,\n  IconButton,\n} from '@material-ui/core';\nimport CheckCircleIcon from '@material-ui/icons/CheckCircle';\nimport ErrorIcon from '@material-ui/icons/Error';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport { Upload } from '../../store/upload/types';\nimport { useDispatch } from 'react-redux';\nimport { Creators } from '../../store/upload';\nimport { hasError, isFinished } from '../../store/upload/getters';\nimport { useDebounce } from 'use-debounce';\n\ninterface UploadActionProps {\n  upload: Upload;\n  hover: boolean;\n}\n\nconst useStyles = makeStyles((theme: Theme) => ({\n  successIcon: {\n    color: theme.palette.success.main,\n  },\n  errorIcon: {\n    color: theme.palette.error.main,\n  },\n  deleteIcon: {\n    color: theme.palette.primary.main,\n  },\n}));\n\nconst UploadAction: React.FC<UploadActionProps> = (props) => {\n  const classes = useStyles();\n  const { upload, hover } = props;\n  const dispatch = useDispatch();\n  const error = hasError(upload);\n  const [show, setShow] = useState(false);\n  const [debouncedShow] = useDebounce(show, 1500);\n\n  useEffect(() => {\n    setShow(isFinished(upload));\n  }, [upload]);\n\n  return debouncedShow ? (\n    <Fade in={show} timeout={{ enter: 1000 }}>\n      <ListItemSecondaryAction>\n        <span hidden={hover}>\n          {upload.progress === 1 && !error && (\n            <IconButton className={classes.successIcon} edge=\"end\">\n              <CheckCircleIcon />\n            </IconButton>\n          )}\n          {error && (\n            <IconButton className={classes.errorIcon} edge=\"end\">\n              <ErrorIcon />\n            </IconButton>\n          )}\n        </span>\n\n        <span hidden={!hover}>\n          <IconButton\n            className={classes.deleteIcon}\n            edge=\"end\"\n            onClick={() =>\n              dispatch(Creators.removeUpload({ id: upload.video.id }))\n            }\n          >\n            <DeleteIcon />\n          </IconButton>\n        </span>\n      </ListItemSecondaryAction>\n    </Fade>\n  ) : null;\n};\n\nexport default UploadAction;\n","import React from 'react';\nimport {\n  ListItem,\n  ListItemIcon,\n  ListItemText,\n  Typography,\n  Divider,\n  makeStyles,\n  Theme,\n  Tooltip,\n} from '@material-ui/core';\nimport MovieIcon from '@material-ui/icons/Movie';\nimport UploadProgress from './UploadProgress';\nimport UploadAction from './UploadAction';\nimport { Upload } from '../../store/upload/types';\nimport { hasError } from '../../store/upload/getters';\n\ninterface UploadItemProps {\n  upload: Upload;\n}\n\nconst useStyles = makeStyles((theme: Theme) => ({\n  movieIcon: {\n    color: theme.palette.error.main,\n    minWidth: '40px',\n  },\n  listItem: {\n    paddingTop: '7px',\n    paddingBottom: '7px',\n    height: '53px',\n  },\n  listItemText: {\n    marginLeft: '6px',\n    marginRight: '24px',\n    color: theme.palette.text.secondary,\n  },\n}));\n\nconst UploadItem: React.FC<UploadItemProps> = (props) => {\n  const { upload } = props;\n  const classes = useStyles();\n  const error = hasError(upload);\n  const [itemHover, setItemHover] = React.useState(false);\n\n  return (\n    <>\n      <Tooltip\n        disableFocusListener\n        disableTouchListener\n        title={\n          error\n            ? 'Não foi possível fazer o upload, clique para mais detalhes'\n            : ''\n        }\n        placement=\"left\"\n      >\n        <ListItem\n          button\n          className={classes.listItem}\n          onMouseOver={() => setItemHover(true)}\n          onMouseLeave={() => setItemHover(false)}\n        >\n          <ListItemIcon className={classes.movieIcon}>\n            <MovieIcon />\n          </ListItemIcon>\n\n          <ListItemText\n            className={classes.listItemText}\n            primary={\n              <Typography noWrap={true} variant=\"subtitle2\" color=\"primary\">\n                {upload.video.title}\n              </Typography>\n            }\n          />\n          {<UploadProgress size={30} uploadOrFile={upload} />}\n          <UploadAction upload={upload} hover={itemHover} />\n        </ListItem>\n      </Tooltip>\n      <Divider component=\"li\" />\n    </>\n  );\n};\n\nexport default UploadItem;\n","import React from 'react';\nimport {\n  Card,\n  CardActions,\n  Typography,\n  IconButton,\n  Collapse,\n  List,\n  makeStyles,\n  Theme,\n} from '@material-ui/core';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport CloseIcon from '@material-ui/icons/Close';\nimport { useSnackbar } from 'notistack';\nimport classNames from 'classnames';\nimport UploadItem from './UploadItem';\nimport { useSelector } from 'react-redux';\nimport { Upload, UploadModule } from '../../store/upload/types';\nimport { countInProgress } from '../../store/upload/getters';\n\ninterface SnackbarUploadInterface {\n  id: string | number;\n}\n\nconst useStyles = makeStyles((theme: Theme) => ({\n  card: {\n    width: '450px',\n  },\n  cardActionRoot: {\n    padding: '8px 8px 8px 16px',\n    backgroundColor: theme.palette.primary.main,\n  },\n  title: {\n    fontWeight: 'bold',\n    color: theme.palette.primary.contrastText,\n  },\n  icons: {\n    marginLeft: 'auto !important',\n    color: theme.palette.primary.contrastText,\n  },\n  expand: {\n    transform: 'rotate(0deg)',\n    transition: theme.transitions.create('transform', {\n      duration: theme.transitions.duration.shortest,\n    }),\n  },\n  expandOpen: {\n    transform: 'rotate(180deg)',\n    transition: theme.transitions.create('transform', {\n      duration: theme.transitions.duration.shortest,\n    }),\n  },\n  list: {\n    paddingTop: '0px',\n    paddingBottom: '0px',\n  },\n}));\n\nconst SnackbarUpload = React.forwardRef<any, SnackbarUploadInterface>(\n  (props, ref) => {\n    const { id } = props;\n    const { closeSnackbar } = useSnackbar();\n    const classes = useStyles();\n    const [expanded, setExpanded] = React.useState(true);\n    const uploads = useSelector<UploadModule, Upload[]>(\n      (state) => state.upload.uploads,\n    );\n\n    const totalInProgress = countInProgress(uploads);\n\n    return (\n      <Card ref={ref} className={classes.card}>\n        <CardActions classes={{ root: classes.cardActionRoot }}>\n          <Typography variant=\"subtitle2\" className={classes.title}>\n            Fazendo upload de {totalInProgress} video(s)\n          </Typography>\n          <div className={classes.icons}>\n            <IconButton\n              color=\"inherit\"\n              onClick={() => setExpanded(!expanded)}\n              className={classNames(classes.expand, {\n                [classes.expandOpen]: !expanded,\n              })}\n            >\n              <ExpandMoreIcon />\n            </IconButton>\n            <IconButton color=\"inherit\" onClick={() => closeSnackbar(id)}>\n              <CloseIcon />\n            </IconButton>\n          </div>\n        </CardActions>\n        <Collapse in={expanded}>\n          <List className={classes.list}>\n            {uploads.map((upload, key) => (\n              <UploadItem key={key} upload={upload} />\n            ))}\n          </List>\n        </Collapse>\n      </Card>\n    );\n  },\n);\n\nexport default SnackbarUpload;\n","import React from 'react';\nimport { makeStyles, Typography } from '@material-ui/core';\n\nconst useStyles = makeStyles({\n  root: {\n    width: '36px',\n    height: '36px',\n    fontSize: '1.2em',\n    color: '#ffffff',\n    borderRadius: '4px',\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n});\n\nconst backgroundColors = {\n  L: '#39b549',\n  '10': '#20A3D4',\n  '12': '#E79738',\n  '14': '#E35E00',\n  '16': '#d00003',\n  '18': '#000000',\n};\n\ninterface RatingProps {\n  rating: 'L' | '10' | '12' | '14' | '16' | '18';\n}\n\nconst Rating: React.FC<RatingProps> = (props) => {\n  const classes = useStyles();\n\n  return (\n    <Typography\n      className={classes.root}\n      style={{\n        backgroundColor: backgroundColors[props.rating],\n      }}\n    >\n      {props.rating}\n    </Typography>\n  );\n};\n\nexport default Rating;\n","import React from 'react';\nimport {\n  FormControl,\n  FormLabel,\n  RadioGroup,\n  FormControlLabel,\n  Radio,\n  FormHelperText,\n  Box,\n} from '@material-ui/core';\nimport { FormControlLabelProps } from '@material-ui/core/FormControlLabel';\nimport Rating from '../../../../components/Rating';\nimport { FormControlProps } from '@material-ui/core/FormControl';\n\ninterface RatingFieldProps {\n  value: string;\n  setValue: (value) => void;\n  error: any;\n  disabled?: boolean;\n  FormControlProps?: FormControlProps;\n}\n\nconst ratings: FormControlLabelProps[] = [\n  {\n    value: 'L',\n    control: <Radio color=\"primary\" />,\n    label: <Rating rating=\"L\" />,\n    labelPlacement: 'top',\n  },\n  {\n    value: '10',\n    control: <Radio color=\"primary\" />,\n    label: <Rating rating=\"10\" />,\n    labelPlacement: 'top',\n  },\n  {\n    value: '12',\n    control: <Radio color=\"primary\" />,\n    label: <Rating rating=\"12\" />,\n    labelPlacement: 'top',\n  },\n  {\n    value: '14',\n    control: <Radio color=\"primary\" />,\n    label: <Rating rating=\"14\" />,\n    labelPlacement: 'top',\n  },\n  {\n    value: '16',\n    control: <Radio color=\"primary\" />,\n    label: <Rating rating=\"16\" />,\n    labelPlacement: 'top',\n  },\n  {\n    value: '18',\n    control: <Radio color=\"primary\" />,\n    label: <Rating rating=\"18\" />,\n    labelPlacement: 'top',\n  },\n];\n\nconst RatingField: React.FC<RatingFieldProps> = (props) => {\n  const { value, setValue, error, disabled } = props;\n\n  return (\n    <FormControl\n      error={error !== undefined}\n      disabled={disabled === true}\n      {...props.FormControlProps}\n    >\n      <FormLabel component=\"legend\">Classificação</FormLabel>\n      <Box paddingTop={1}>\n        <RadioGroup\n          name=\"rating\"\n          onChange={(e) => {\n            setValue(e.target.value);\n          }}\n          value={value}\n          row\n        >\n          {ratings.map((props, key) => (\n            <FormControlLabel key={key} {...props} />\n          ))}\n        </RadioGroup>\n      </Box>\n      {error && <FormHelperText>{error.message}</FormHelperText>}\n    </FormControl>\n  );\n};\n\nexport default RatingField;\n","import React from 'react';\nimport { TextField, InputAdornment } from '@material-ui/core';\nimport { useRef, MutableRefObject, useState, useImperativeHandle } from 'react';\nimport { TextFieldProps } from '@material-ui/core/TextField';\n\nexport interface InputFileProps\n  extends React.RefAttributes<InputFileComponent> {\n  ButtonFile: React.ReactNode;\n  InputFileProps?: React.DetailedHTMLProps<\n    React.InputHTMLAttributes<HTMLInputElement>,\n    HTMLInputElement\n  >;\n  TextFieldProps?: TextFieldProps;\n}\n\nexport interface InputFileComponent {\n  openWindow: () => void;\n  clear: () => void;\n}\n\nconst InputFile = React.forwardRef<InputFileComponent, InputFileProps>(\n  (props, ref) => {\n    const fileRef = useRef() as MutableRefObject<HTMLInputElement>;\n    const [filename, setFilename] = useState('');\n\n    const textFieldProps: TextFieldProps = {\n      variant: 'outlined',\n      ...props.TextFieldProps,\n      InputProps: {\n        ...(props.TextFieldProps &&\n          props.TextFieldProps.inputProps && {\n            ...props.TextFieldProps.InputProps,\n          }),\n        readOnly: true,\n        endAdornment: (\n          <InputAdornment position=\"end\">\n            {props.ButtonFile}\n            {/* <Button\n                        endIcon={<CloudUploadIcon/>}\n                        variant=\"contained\"\n                        color=\"primary\"\n                        onClick={() => fileRef.current.click()}\n                    >\n                        Adicionar\n                    </Button> */}\n          </InputAdornment>\n        ),\n      },\n      value: filename,\n    };\n\n    const inputFileProps = {\n      ...props.InputFileProps,\n      hidden: true,\n      ref: fileRef,\n      onChange(event) {\n        const files = event.target.files;\n        if (files.length) {\n          setFilename(\n            Array.from(files)\n              .map((file: any) => file.name)\n              .join(', '),\n          );\n        }\n        if (props.InputFileProps && props.InputFileProps.onChange) {\n          props.InputFileProps.onChange(event);\n        }\n      },\n    };\n\n    useImperativeHandle(ref, () => ({\n      openWindow: () => fileRef.current.click(),\n      clear: () => setFilename(''),\n    }));\n\n    return (\n      <div>\n        <input type=\"file\" {...inputFileProps} />\n\n        <TextField {...textFieldProps} />\n      </div>\n    );\n  },\n);\n\nexport default InputFile;\n","import React, { forwardRef, MutableRefObject, useImperativeHandle, useRef } from 'react';\nimport { FormControl, Button } from '@material-ui/core';\nimport { FormControlProps } from '@material-ui/core/FormControl';\nimport InputFile, { InputFileComponent } from '../InputFile';\nimport CloudUploadIcon from '@material-ui/icons/CloudUpload';\n\ninterface UploadFieldProps extends React.RefAttributes<UploadFieldComponent> {\n  accept: string;\n  label: string;\n  setValue: (value) => void;\n  error?: any;\n  disabled?: boolean;\n  FormControlProps?: FormControlProps;\n}\n\nexport interface UploadFieldComponent {\n  clear: () => void;\n}\n\nconst UploadField = forwardRef<UploadFieldComponent, UploadFieldProps>(\n  (props, ref) => {\n    const fileRef = useRef() as MutableRefObject<InputFileComponent>;\n    const { accept, label, setValue, error, disabled } = props;\n\n    useImperativeHandle(ref, () => ({\n      clear: () => fileRef.current.clear(),\n    }));\n\n    return (\n      <FormControl\n        error={error !== undefined}\n        disabled={disabled === true}\n        fullWidth\n        margin=\"normal\"\n        {...props.FormControlProps}\n      >\n        <InputFile\n          ref={fileRef}\n          TextFieldProps={{\n            label: label,\n            InputLabelProps: { shrink: true },\n            style: { backgroundColor: '#ffffff', width: '100%' },\n          }}\n          InputFileProps={{\n            accept,\n            onChange(event) {\n              const files = event.target.files as any;\n              files.length && setValue(files[0]);\n            },\n          }}\n          ButtonFile={\n            <Button\n              endIcon={<CloudUploadIcon />}\n              variant=\"contained\"\n              color=\"primary\"\n              onClick={() => fileRef.current.openWindow()}\n            >\n              Adicionar\n            </Button>\n          }\n        />\n      </FormControl>\n    );\n  },\n);\n\nexport default UploadField;\n","import React, {\n  useContext,\n  useEffect,\n  useRef,\n  useState,\n  useCallback,\n  createRef,\n  MutableRefObject,\n} from 'react';\nimport { useDispatch } from 'react-redux';\nimport { useHistory, useParams } from 'react-router';\n\nimport {\n  Card,\n  CardContent,\n  Checkbox,\n  FormControlLabel,\n  Grid,\n  TextField,\n  Typography,\n  useMediaQuery,\n} from '@material-ui/core';\nimport { makeStyles, Theme, useTheme } from '@material-ui/core/styles';\nimport { omit, zipObject } from 'lodash';\nimport { useSnackbar } from 'notistack';\nimport FormButtons from '../../../components/FormButtons';\nimport DefaultForm from '../../../components/DefaultForm';\nimport { useForm } from 'react-hook-form';\nimport { yupResolver } from '@hookform/resolvers';\nimport { schemaValidations } from './schemaValidations';\nimport useSnackbarFormError from '../../../hooks/useSnackbarFormError';\nimport { Video, VideoFileFieldsMaps } from '../../../util/models';\nimport LoadingContext from '../../../components/Loading/LoadingContext';\nimport { InputFileComponent } from '../../../components/InputFile';\nimport CastMemberField, { CastMemberFieldComponent } from './CastMemberField';\nimport CategoryField, { CategoryFieldComponent } from './CategoryField';\nimport GenreField, { GenreFieldComponent } from './GenreField';\nimport videoHttp from '../../../util/http/video-http';\nimport { Creators } from '../../../store/upload';\nimport SnackbarUpload from '../../../components/SnackbarUpload';\nimport { FileInfo } from '../../../store/upload/types';\nimport RatingField from './RatingField';\nimport UploadField from '../../../components/UploadField';\n\nconst fileFields = Object.keys(VideoFileFieldsMaps);\n\nconst useStyles = makeStyles((theme: Theme) => ({\n  cardUpload: {\n    borderRadios: '14px',\n    backgroundColor: '#f5f5f5',\n    margin: theme.spacing(2, 0),\n  },\n  cardOpened: {\n    borderRadius: '4px',\n    backgroundColor: '#f5f5f5',\n  },\n  cardContentOpened: {\n    paddingBottom: theme.spacing(2) + 'px !important',\n  },\n}));\n\nconst Form = () => {\n  const styles = useStyles();\n\n  const {\n    register,\n    handleSubmit,\n    getValues,\n    setValue,\n    errors,\n    reset,\n    watch,\n    trigger,\n    formState,\n  } = useForm<{\n    title;\n    description;\n    year_launched;\n    duration;\n    rating;\n    cast_members;\n    categories;\n    genres;\n    opened;\n  }>({\n    resolver: yupResolver(schemaValidations),\n    defaultValues: {\n      genres: [],\n      categories: [],\n      cast_members: [],\n      rating: null,\n      opened: false,\n    },\n  });\n  useSnackbarFormError(formState.submitCount, errors);\n\n  const theme = useTheme();\n  const { enqueueSnackbar } = useSnackbar();\n  const history = useHistory();\n  const { id }: { id: string } = useParams();\n  const [formType, setFormType] = useState<string>('save');\n\n  const [video, setVideo] = useState<Video | null>(null);\n  const loading = useContext(LoadingContext);\n  const dispatch = useDispatch();\n  const isGreaterMd = useMediaQuery(theme.breakpoints.up('md'));\n  const uploadsRef = useRef(\n    zipObject(\n      fileFields,\n      fileFields.map(() => createRef()),\n    ),\n  ) as MutableRefObject<{\n    [key: string]: MutableRefObject<InputFileComponent>;\n  }>;\n  const castMemberRef = useRef() as MutableRefObject<CastMemberFieldComponent>;\n  const categoryRef = useRef() as MutableRefObject<CategoryFieldComponent>;\n  const genreRef = useRef() as MutableRefObject<GenreFieldComponent>;\n\n  const resetForm = useCallback(\n    (data) => {\n      Object.keys(uploadsRef.current).forEach((field) =>\n        uploadsRef.current[field].current.clear(),\n      );\n      castMemberRef.current && castMemberRef.current.clear();\n      categoryRef.current && categoryRef.current.clear();\n      genreRef.current && genreRef.current.clear();\n      reset(data);\n    },\n    [castMemberRef, categoryRef, genreRef, reset, uploadsRef],\n  );\n\n  useEffect(() => {\n    [\n      'rating',\n      'opened',\n      'genres',\n      'categories',\n      'cast_members',\n      ...fileFields,\n    ].forEach((name) => register({ name }));\n  }, [register]);\n\n  useEffect(() => {\n    if (!id) {\n      return;\n    }\n\n    let isSubscribed = true;\n\n    async function loadVideo() {\n      try {\n        const { data } = await videoHttp.get(id);\n        if (isSubscribed) {\n          setVideo(data.data);\n          reset(data.data);\n        }\n      } catch (error) {\n        console.error(error);\n        enqueueSnackbar('Não foi possível carregar as informações.', {\n          variant: 'error',\n        });\n      }\n    }\n\n    loadVideo();\n\n    return () => {\n      isSubscribed = false;\n    };\n  }, [id, reset, enqueueSnackbar]);\n\n  const uploadFiles = useCallback(\n    async (video) => {\n      const files: FileInfo[] = fileFields\n        .filter((fileField) => getValues()[fileField])\n        .map((fileField) => ({ fileField, file: getValues()[fileField] }));\n      console.log(files);\n      if (!files.length) {\n        return;\n      }\n\n      dispatch(Creators.addUpload({ video, files }));\n\n      enqueueSnackbar('', {\n        key: 'snackbar-upload',\n        persist: true,\n        anchorOrigin: {\n          vertical: 'bottom',\n          horizontal: 'right',\n        },\n        content: (key, message) => {\n          const id = key as any;\n          return <SnackbarUpload id={id} />;\n        },\n      });\n    },\n    [dispatch, enqueueSnackbar, getValues],\n  );\n\n  const onSubmit = async (formData, event) => {\n    const sendData = omit(formData, [\n      ...fileFields,\n      'cast_members',\n      'genres',\n      'categories',\n    ]);\n    sendData['cast_members_id'] = formData['cast_members'].map(\n      (cast_member) => cast_member.id,\n    );\n    sendData['categories_id'] = formData['categories'].map(\n      (category) => category.id,\n    );\n    sendData['genres_id'] = formData['genres'].map((genre) => genre.id);\n\n    try {\n      const http = !video\n        ? videoHttp.create(sendData)\n        : videoHttp.update(video.id, sendData);\n      const { data } = await http;\n\n      enqueueSnackbar('Vídeo salvo com sucesso!', {\n        variant: 'success',\n      });\n      uploadFiles(data.data);\n\n      id && resetForm(video);\n\n      setTimeout(() => {\n        if (formType === 'save') {\n          history.push('/videos');\n        }\n        if (formType === 'save-and-new') {\n          history.push('/videos/create');\n        }\n        if (formType === 'save-and-edit') {\n          const videoId = data.data.id;\n          const urlRedirect = `/videos/${videoId}/edit`;\n          if (id) {\n            history.replace(urlRedirect);\n          } else {\n            history.push(urlRedirect);\n          }\n        }\n      }, 2000);\n    } catch (error) {\n      console.error(error);\n      enqueueSnackbar('Não foi possível salvar o vídeo :(', {\n        variant: 'error',\n      });\n    }\n  };\n\n  return (\n    <>\n      <h1>{!id ? 'Adicionar um novo' : 'Editar'} vídeo</h1>\n      <DefaultForm\n        onSubmit={handleSubmit(onSubmit)}\n      >\n        <Grid container spacing={5}>\n          <Grid item xs={12} md={6}>\n            <TextField\n              name=\"title\"\n              label=\"Título\"\n              fullWidth\n              variant=\"outlined\"\n              disabled={loading}\n              inputRef={register}\n              error={errors.title !== undefined}\n              helperText={errors.title && errors.title.message}\n              InputLabelProps={{ shrink: true }}\n            />\n            <TextField\n              name=\"description\"\n              label=\"Sinopse\"\n              multiline\n              rows=\"4\"\n              fullWidth\n              variant=\"outlined\"\n              disabled={loading}\n              margin=\"normal\"\n              inputRef={register}\n              InputLabelProps={{ shrink: true }}\n              error={errors.description !== undefined}\n              helperText={errors.description && errors.description.message}\n            />\n\n            <Grid container spacing={1}>\n              <Grid item xs={6}>\n                <TextField\n                  name=\"year_launched\"\n                  label=\"Ano de lançamento\"\n                  type=\"number\"\n                  fullWidth\n                  variant=\"outlined\"\n                  disabled={loading}\n                  inputRef={register}\n                  error={errors.year_launched !== undefined}\n                  helperText={\n                    errors.year_launched && errors.year_launched.message\n                  }\n                  InputLabelProps={{ shrink: true }}\n                />\n              </Grid>\n\n              <Grid item xs={6}>\n                <TextField\n                  name=\"duration\"\n                  label=\"Duração\"\n                  type=\"number\"\n                  fullWidth\n                  variant=\"outlined\"\n                  disabled={loading}\n                  inputRef={register}\n                  error={errors.duration !== undefined}\n                  helperText={errors.duration && errors.duration.message}\n                  InputLabelProps={{ shrink: true }}\n                />\n              </Grid>\n            </Grid>\n            <CastMemberField\n              castMembers={watch('cast_members')}\n              setCastMembers={(value) => setValue('cast_members', value)}\n              error={errors.cast_members}\n              disabled={loading}\n            />\n            <Grid container spacing={2}>\n              <Grid item xs={12} md={6}>\n                <GenreField\n                  genres={watch('genres')}\n                  setGenres={(value) => setValue('genres', value)}\n                  categories={watch('categories')}\n                  setCategories={(value) => setValue('categories', value)}\n                  error={errors.genres}\n                  disabled={loading}\n                />\n              </Grid>\n              <Grid item xs={12} md={6}>\n                <CategoryField\n                  categories={watch('categories')}\n                  setCategories={(value) => setValue('categories', value)}\n                  genres={watch('genres')}\n                  error={errors.categories}\n                  disabled={loading}\n                />\n              </Grid>\n            </Grid>\n          </Grid>\n\n          <Grid item xs={12} md={6}>\n            <RatingField\n              value={watch('rating')}\n              setValue={(value) => setValue('rating', value)}\n              error={errors.rating}\n              disabled={loading}\n              FormControlProps={{\n                margin: isGreaterMd ? 'none' : 'normal',\n              }}\n            />\n            <br />\n            <Card className={styles.cardUpload}>\n              <CardContent>\n                <Typography color=\"primary\" variant=\"h6\">\n                  Imagens\n                </Typography>\n                <UploadField\n                  ref={uploadsRef.current['thumb_file']}\n                  accept=\"image/*\"\n                  label=\"Thumb\"\n                  setValue={(value) => setValue('thumb_file', value)}\n                />\n                <UploadField\n                  ref={uploadsRef.current['banner_file']}\n                  accept=\"image/*\"\n                  label=\"Banner\"\n                  setValue={(value) => setValue('banner_file', value)}\n                />\n              </CardContent>\n            </Card>\n            <Card className={styles.cardUpload}>\n              <CardContent>\n                <Typography color=\"primary\" variant=\"h6\">\n                  Vídeos\n                </Typography>\n                <UploadField\n                  ref={uploadsRef.current['trailer_file']}\n                  accept=\"video/mp4\"\n                  label=\"Trailer\"\n                  setValue={(value) => setValue('trailer_file', value)}\n                />\n                <UploadField\n                  ref={uploadsRef.current['video_file']}\n                  accept=\"video/mp4\"\n                  label=\"Principal\"\n                  setValue={(value) => setValue('video_file', value)}\n                />\n              </CardContent>\n            </Card>\n            <br />\n            <Card className={styles.cardOpened}>\n              <CardContent className={styles.cardContentOpened}>\n                <FormControlLabel\n                  control={\n                    <Checkbox\n                      name=\"opened\"\n                      color=\"primary\"\n                      onChange={() =>\n                        setValue('opened', !getValues()['opened'])\n                      }\n                      checked={watch('opened')}\n                      disabled={loading}\n                    />\n                  }\n                  label={\n                    <Typography color=\"primary\" variant=\"subtitle2\">\n                      Quero que este conteúdo apareça na seção lançamentos\n                    </Typography>\n                  }\n                  labelPlacement=\"end\"\n                />\n              </CardContent>\n            </Card>\n          </Grid>\n        </Grid>\n\n        <FormButtons\n          setFormType={setFormType}\n          loading={loading}\n          handleSave={() =>\n            trigger().then((isValid) => {\n              isValid && onSubmit(getValues(), null);\n            })\n          }\n        />\n      </DefaultForm>\n    </>\n  );\n};\n\nexport default Form;\n","import React, {\n  MutableRefObject,\n  useCallback,\n  useContext,\n  useEffect,\n  useRef,\n  useState,\n} from 'react';\nimport { Link } from 'react-router-dom';\n\nimport { Button, IconButton } from '@material-ui/core';\nimport EditIcon from '@material-ui/icons/Edit';\nimport { format, parseISO } from 'date-fns';\nimport { useSnackbar } from 'notistack';\nimport { ListResponse, Video } from '../../../util/models';\nimport LoadingContext from '../../../components/Loading/LoadingContext';\nimport useDeleteCollection from '../../../hooks/useDeleteCollection';\nimport DefaultTable, {\n  MuiDataTableRefComponent,\n  TableColumn,\n} from '../../../components/Table';\nimport useFilter from '../../../hooks/useFilter';\nimport videoHttp from '../../../util/http/video-http';\nimport DeleteDialog from '../../../components/DeleteDialog';\nimport FilterResetButton from '../../../components/Table/FilterResetButton';\n\nconst columnsDefinition: TableColumn[] = [\n  {\n    name: 'id',\n    label: 'ID',\n    width: '30%',\n    options: {\n      filter: false,\n      sort: false,\n    },\n  },\n  {\n    name: 'title',\n    label: 'Título',\n    width: '43%',\n    options: {\n      filter: false,\n    },\n  },\n  {\n    name: 'genres',\n    label: 'Gêneros',\n    options: {\n      filterType: 'multiselect',\n      filterOptions: {\n        names: [],\n      },\n      customBodyRender(value: any) {\n        return value.map((genre) => genre.name).join(', ');\n      },\n    },\n  },\n  {\n    name: 'categories',\n    label: 'Categorias',\n    options: {\n      filterType: 'multiselect',\n      filterOptions: {\n        names: [],\n      },\n      customBodyRender(value: any) {\n        return value.map((category) => category.name).join(', ');\n      },\n    },\n  },\n  {\n    name: 'rating',\n    label: 'Classificação',\n    width: '5%',\n    options: {\n      filter: false,\n    },\n  },\n  {\n    name: 'created_at',\n    label: 'Criado em',\n    width: '10%',\n    options: {\n      filter: false,\n      customBodyRender(value) {\n        return <span>{format(parseISO(value), 'dd/MM/yyyy')}</span>;\n      },\n    },\n  },\n  {\n    name: 'actions',\n    label: 'Ações',\n    width: '13%',\n    options: {\n      sort: false,\n      filter: false,\n      customBodyRender: (value, tableMeta) => {\n        return (\n          <span>\n            <IconButton\n              color=\"secondary\"\n              component={Link}\n              to={`/videos/${tableMeta.rowData[0]}/edit`}\n            >\n              <EditIcon />\n            </IconButton>\n          </span>\n        );\n      },\n    },\n  },\n];\n\nconst btnAdd = (\n  <Button\n    variant=\"outlined\"\n    color=\"primary\"\n    component={Link}\n    to=\"/videos/create\"\n  >\n    Adicionar\n  </Button>\n);\n\nconst debounceTime = 300;\nconst debouncedSearchTime = 300;\nconst rowsPerPage = 15;\nconst rowsPerPageOptions = [10, 25, 50];\n\nconst Table = () => {\n  const { enqueueSnackbar } = useSnackbar();\n  const subscribed = useRef(true);\n  const [data, setData] = useState<Video[]>([]);\n  const loading = useContext(LoadingContext);\n  const {\n    openDeleteDialog,\n    setOpenDeleteDialog,\n    rowsToDelete,\n    setRowsToDelete,\n  } = useDeleteCollection();\n  const tableRef = useRef() as MutableRefObject<MuiDataTableRefComponent>;\n\n  const {\n    columns,\n    cleanSearchText,\n    filterManager,\n    filterState,\n    debouncedFilterState,\n    totalRecords,\n    setTotalRecords,\n  } = useFilter({\n    columns: columnsDefinition,\n    debounceTime: debounceTime,\n    rowsPerPage,\n    rowsPerPageOptions,\n    tableRef,\n  });\n\n  const searchText = cleanSearchText(debouncedFilterState.search);\n\n  const getData = useCallback(\n    async ({ search, page, per_page, sort, dir }) => {\n      try {\n        const { data } = await videoHttp.list<ListResponse<Video>>({\n          queryParams: {\n            search,\n            page,\n            per_page,\n            sort,\n            dir,\n          },\n        });\n        if (subscribed.current) {\n          setData(data.data);\n          setTotalRecords(data.meta.total);\n          if (openDeleteDialog) {\n            setOpenDeleteDialog(false);\n          }\n        }\n      } catch (error) {\n        console.error(error);\n        if (videoHttp.isCancelledRequest(error)) {\n          return;\n        }\n        enqueueSnackbar('Não foi possível carregar as informações.', {\n          variant: 'error',\n        });\n      }\n    },\n    [enqueueSnackbar, setTotalRecords, openDeleteDialog, setOpenDeleteDialog],\n  );\n\n  useEffect(() => {\n    subscribed.current = true;\n    getData({\n      search: searchText,\n      page: debouncedFilterState.pagination.page,\n      per_page: debouncedFilterState.pagination.per_page,\n      sort: debouncedFilterState.order.sort,\n      dir: debouncedFilterState.order.dir,\n    });\n    return () => {\n      subscribed.current = false;\n    };\n  }, [\n    getData,\n    searchText,\n    debouncedFilterState.pagination.page,\n    debouncedFilterState.pagination.per_page,\n    debouncedFilterState.order,\n  ]);\n\n  function deleteRows(confirmed: boolean) {\n    if (!confirmed) {\n      setOpenDeleteDialog(false);\n      return;\n    }\n\n    const ids = rowsToDelete.data\n      .map((value) => data[value.index].id)\n      .join(',');\n\n    videoHttp\n      .deleteCollection({ ids })\n      .then((response) => {\n        enqueueSnackbar('Registros excluidos com sucesso!', {\n          variant: 'success',\n        });\n        if (\n          rowsToDelete.data.length === filterState.pagination.per_page &&\n          filterState.pagination.page > 1\n        ) {\n          const page = filterState.pagination.page - 2;\n          filterManager.changePage(page);\n        } else {\n          getData({\n            search: searchText,\n            page: debouncedFilterState.pagination.page,\n            per_page: debouncedFilterState.pagination.per_page,\n            sort: debouncedFilterState.order.sort,\n            dir: debouncedFilterState.order.dir,\n          });\n        }\n      })\n      .catch((error) => {\n        console.error(error);\n        enqueueSnackbar('Não foi possível excluir os registros', {\n          variant: 'error',\n        });\n      });\n  }\n\n  return (\n    <>\n      <DeleteDialog open={openDeleteDialog} handleClose={deleteRows} />\n      <DefaultTable\n        title={btnAdd}\n        columns={columns}\n        data={data}\n        loading={loading}\n        debouncedSearchTime={debouncedSearchTime}\n        ref={tableRef}\n        options={{\n          serverSide: true,\n          responsive: 'standard',\n          searchText: filterState.search as any,\n          page: filterState.pagination.page - 1,\n          rowsPerPage: filterState.pagination.per_page,\n          rowsPerPageOptions,\n          count: totalRecords,\n          onFilterChange: (column: any, filterList, type) => {\n            if (type === 'reset') {\n              filterManager.resetFilter();\n              return;\n            }\n            const columnIndex = columns.findIndex((c) => c.name === column);\n            filterManager.changeExtraFilter({\n              [column]:\n                filterList[columnIndex] && filterList[columnIndex].length\n                  ? filterList[columnIndex][0]\n                  : null,\n            });\n          },\n          customToolbar: () => (\n            <FilterResetButton\n              handleClick={() => filterManager.resetFilter()}\n            />\n          ),\n          onSearchChange: (value) => filterManager.changeSearch(value),\n          onChangePage: (page) => filterManager.changePage(page),\n          onChangeRowsPerPage: (perPage) =>\n            filterManager.changeRowsPerPage(perPage),\n          onColumnSortChange: (changedColumn, direction) =>\n            filterManager.changeColumnSort(changedColumn, direction),\n          onRowsDelete: (rowsDeleted) => {\n            setRowsToDelete(rowsDeleted);\n            return false;\n          },\n        }}\n      />\n    </>\n  );\n};\n\nexport default Table;\n","import React from 'react';\n\nimport Table from '../Table';\n\nconst List = () => {\n  return (\n    <>\n      <h1>Listagem de vídeos</h1>\n      <Table />\n    </>\n  );\n};\n\nexport default List;\n","import React from 'react';\n\nimport {\n  DashboardRounded,\n  CategoryRounded,\n  PersonRounded,\n  VideocamRounded,\n  CloudUploadRounded,\n} from '@material-ui/icons';\n\nimport CastMembersForm from '../pages/CastMembers/Form';\nimport CastMembersList from '../pages/CastMembers/List';\nimport CategoriesForm from '../pages/Categories/Form';\nimport CategoriesList from '../pages/Categories/List';\nimport Dashboard from '../pages/Dashboard';\nimport GenresForm from '../pages/Genres/Form';\nimport GenresList from '../pages/Genres/List';\nimport UploadsList from '../pages/Uploads/List';\nimport VideosForm from '../pages/Videos/Form';\nimport VideosList from '../pages/Videos/List';\nimport { DefaultComponentProps } from '@material-ui/core/OverridableComponent';\nimport { RouteProps } from 'react-router-dom';\n\nexport interface MyRouteProps extends RouteProps {\n  name: string;\n  label: string;\n  icon: DefaultComponentProps<any>;\n  path: string;\n  component: any;\n  exact: boolean;\n}\n\nconst routes: MyRouteProps[] = [\n  {\n    name: 'dashboard',\n    label: 'Dashboard',\n    icon: <DashboardRounded />,\n    path: '/',\n    component: Dashboard,\n    exact: true,\n  },\n  // Categorias\n  {\n    name: 'categories.list',\n    label: 'Categorias',\n    icon: <CategoryRounded />,\n    path: '/categories',\n    component: CategoriesList,\n    exact: true,\n  },\n  {\n    name: 'categories.create',\n    label: 'Adicionar categorias',\n    icon: <CategoryRounded />,\n    path: '/categories/create',\n    component: CategoriesForm,\n    exact: true,\n  },\n  {\n    name: 'categories.edit',\n    label: 'Editar categoria',\n    icon: <CategoryRounded />,\n    path: '/categories/:id/edit',\n    component: CategoriesForm,\n    exact: true,\n  },\n  // Membros de Elencos\n  {\n    name: 'cast_members.list',\n    label: 'Membros de elencos',\n    icon: <PersonRounded />,\n    path: '/cast-members',\n    component: CastMembersList,\n    exact: true,\n  },\n  {\n    name: 'cast_members.create',\n    label: 'Adicionar membros de elencos',\n    icon: <PersonRounded />,\n    path: '/cast-members/create',\n    component: CastMembersForm,\n    exact: true,\n  },\n  {\n    name: 'cast_members.edit',\n    label: 'Editar membros de elencos',\n    icon: <CategoryRounded />,\n    path: '/cast-members/:id/edit',\n    component: CastMembersForm,\n    exact: true,\n  },\n  // Gêneros\n  {\n    name: 'genres.list',\n    label: 'Gêneros',\n    icon: <CategoryRounded />,\n    path: '/genres',\n    component: GenresList,\n    exact: true,\n  },\n  {\n    name: 'genres.create',\n    label: 'Adicionar gêneros',\n    icon: <CategoryRounded />,\n    path: '/genres/create',\n    component: GenresForm,\n    exact: true,\n  },\n  {\n    name: 'genres.edit',\n    label: 'Editar gêneros',\n    icon: <CategoryRounded />,\n    path: '/genres/:id/edit',\n    component: GenresForm,\n    exact: true,\n  },\n  // Gêneros\n  {\n    name: 'videos.list',\n    label: 'Vídeos',\n    icon: <VideocamRounded />,\n    path: '/videos',\n    component: VideosList,\n    exact: true,\n  },\n  {\n    name: 'videos.create',\n    label: 'Adicionar vídeos',\n    icon: <VideocamRounded />,\n    path: '/videos/create',\n    component: VideosForm,\n    exact: true,\n  },\n  {\n    name: 'videos.edit',\n    label: 'Editar vídeos',\n    icon: <VideocamRounded />,\n    path: '/videos/:id/edit',\n    component: VideosForm,\n    exact: true,\n  },\n  // Uploads\n  {\n    name: 'uploads.list',\n    label: 'Uploads',\n    icon: <CloudUploadRounded />,\n    path: '/uploads',\n    component: UploadsList,\n    exact: true,\n  },\n];\n\nexport default routes;\n","module.exports = \"data:image/png;base64,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\"","import React from 'react';\nimport { Link } from 'react-router-dom';\n\nimport {\n  SwipeableDrawer,\n  List,\n  ListItem,\n  ListItemIcon,\n  ListItemText,\n} from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport routes from '../../../routes';\nimport { MyRouteProps } from '../../../routes';\n\ninterface DrawerProps {\n  open: boolean;\n  toggleDrawer: React.ReactEventHandler<{}>;\n}\n\nconst useStyles = makeStyles(() => ({\n  list: {\n    width: 250,\n  },\n  fullList: {\n    width: 'auto',\n  },\n}));\n\nconst iOS =\n  (process as any).browser && /iPad|iPhone|iPod/.test(navigator.userAgent);\nconst listRoutes = [\n  'dashboard',\n  'categories.list',\n  'cast_members.list',\n  'genres.list',\n  'videos.list',\n  'uploads.list',\n];\nconst menuRoutes = routes.filter((route) => listRoutes.includes(route.name));\n\nconst Drawer: React.FC<DrawerProps> = ({ open, toggleDrawer }) => {\n  const classes = useStyles();\n  const drawer = (\n    <div\n      className={classes.list}\n      role=\"presentation\"\n      onClick={toggleDrawer}\n      onKeyDown={toggleDrawer}\n    >\n      <List>\n        {listRoutes.map((routeName, key) => {\n          const route: MyRouteProps | undefined = menuRoutes.find(\n            (rt) => rt.name === routeName,\n          );\n          if (route) {\n            return (\n              <ListItem button key={key} component={Link} to={route.path}>\n                <ListItemIcon>{route.icon}</ListItemIcon>\n                <ListItemText primary={route.label} />\n              </ListItem>\n            );\n          }\n          return '';\n        })}\n      </List>\n    </div>\n  );\n\n  return (\n    <SwipeableDrawer\n      onClose={toggleDrawer}\n      onOpen={toggleDrawer}\n      open={open}\n      disableBackdropTransition={!iOS}\n      disableDiscovery={iOS}\n    >\n      {drawer}\n    </SwipeableDrawer>\n  );\n};\n\nexport default Drawer;\n","import { createContext } from 'react';\n\nconst LoadingContext = createContext(false);\n\nexport default LoadingContext;\n","import React, { useState } from 'react';\n\nimport {\n  AppBar,\n  Toolbar,\n  Typography,\n  Button,\n  makeStyles,\n  IconButton,\n} from '@material-ui/core';\nimport MenuIcon from '@material-ui/icons/Menu';\n\nimport logo from '../../static/logo.png';\n\nimport Drawer from './Drawer';\n\n// import { Container } from './styles';\nconst useStyles = makeStyles((theme) => ({\n  appBar: {\n    backgroundColor: '#000',\n  },\n  menuButton: {\n    marginRight: theme.spacing(2),\n  },\n  typography: {\n    flexGrow: 1,\n    textAlign: 'center',\n  },\n  logo: {\n    width: 130,\n    [theme.breakpoints.up('sm')]: {\n      width: 170,\n    },\n  },\n}));\n\nconst Navbar: React.FC = () => {\n  const classes = useStyles();\n  const [state, setState] = useState(false);\n\n  const toggleDrawer = () => {\n    setState(!state);\n  };\n\n  return (\n    <>\n      <AppBar position=\"fixed\" className={classes.appBar}>\n        <Toolbar>\n          <IconButton\n            color=\"inherit\"\n            aria-label=\"open drawer\"\n            edge=\"start\"\n            onClick={toggleDrawer}\n            className={classes.menuButton}\n          >\n            <MenuIcon />\n          </IconButton>\n          <Typography className={classes.typography} noWrap>\n            <img src={logo} alt=\"\" className={classes.logo} />\n          </Typography>\n          <Button color=\"inherit\">Login</Button>\n        </Toolbar>\n      </AppBar>\n      <Drawer open={state} toggleDrawer={toggleDrawer} />\n    </>\n  );\n};\n\nexport default Navbar;\n","import React from 'react';\nimport { Switch, Route } from 'react-router-dom';\nimport routes from './index';\n\nconst AppRouter = () => {\n  return (\n    <Switch>\n      {routes.map((route, key) => (\n        <Route\n          key={key}\n          path={route.path}\n          component={route.component}\n          exact={route.exact === true}\n        />\n      ))}\n    </Switch>\n  );\n};\n\nexport default AppRouter;\n","import React from 'react';\nimport { makeStyles, Theme, createStyles } from '@material-ui/core/styles';\nimport Link, { LinkProps } from '@material-ui/core/Link';\nimport Typography from '@material-ui/core/Typography';\nimport MuiBreadcrumbs from '@material-ui/core/Breadcrumbs';\nimport { Route } from 'react-router';\nimport { Link as RouterLink } from 'react-router-dom';\nimport { Location } from 'history';\nimport routes from '../../routes';\nimport RouteParser from 'route-parser';\nimport { Container, Box } from '@material-ui/core';\n\nconst breadcrumbNameMap: { [key: string]: string } = {};\nroutes.forEach(\n  (route) => (breadcrumbNameMap[route.path as string] = route.label),\n);\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    routerLink: {\n      color: theme.palette.secondary.main,\n      '&:focus, &:active': {\n        color: theme.palette.secondary.main,\n      },\n      '&:hover': {\n        color: theme.palette.secondary.dark,\n      },\n    },\n  }),\n);\n\ninterface LinkRouterProps extends LinkProps {\n  to: string;\n  replace?: boolean;\n}\n\nconst LinkRouter = (props: LinkRouterProps) => (\n  <Link {...props} component={RouterLink as any} />\n);\n\nexport default function Breadcrumbs() {\n  const classes = useStyles();\n\n  function makeBreadcrumbs(location: Location) {\n    const pathnames = location.pathname.split('/').filter((x) => x);\n    pathnames.unshift('/');\n    return (\n      <MuiBreadcrumbs aria-label=\"breadcrumb\">\n        {pathnames.map((value, index) => {\n          const last = index === pathnames.length - 1;\n          const to = `${pathnames\n            .slice(0, index + 1)\n            .join('/')\n            .replace('//', '/')}`;\n          const route = Object.keys(breadcrumbNameMap).find((path) =>\n            new RouteParser(path).match(to),\n          );\n\n          if (route === undefined) {\n            return false;\n          }\n\n          return last ? (\n            <Typography color=\"textPrimary\" key={to}>\n              {breadcrumbNameMap[route]}\n            </Typography>\n          ) : (\n            <LinkRouter\n              color=\"inherit\"\n              to={to}\n              key={to}\n              className={classes.routerLink}\n            >\n              {breadcrumbNameMap[route]}\n            </LinkRouter>\n          );\n        })}\n      </MuiBreadcrumbs>\n    );\n  }\n\n  return (\n    <Container>\n      <Box paddingTop={2} paddingBottom={1}>\n        <Route>\n          {({ location }: { location: Location }) => makeBreadcrumbs(location)}\n        </Route>\n      </Box>\n    </Container>\n  );\n}\n","import { createMuiTheme } from '@material-ui/core';\nimport {\n  PaletteOptions,\n  SimplePaletteColorOptions,\n} from '@material-ui/core/styles/createPalette';\n\nconst palette: PaletteOptions = {\n  primary: {\n    main: '#79aec8',\n    contrastText: '#fff',\n  },\n  secondary: {\n    main: '#4db5ab',\n    contrastText: '#fff',\n    dark: '#055a52',\n  },\n  background: {\n    default: '#fafafa',\n  },\n};\n\nconst theme = createMuiTheme({\n  palette,\n  overrides: {\n    MUIDataTable: {\n      paper: {\n        boxShadow: 'none',\n      },\n    },\n    MUIDataTableTooblar: {\n      root: {\n        minHeight: '58px',\n        backgroundColor: palette!.background!.default,\n      },\n      icon: {\n        color: (palette!.primary as SimplePaletteColorOptions).main,\n        '&:hover, &:active, &.focus': {\n          color: (palette!.primary as SimplePaletteColorOptions).dark,\n        },\n      },\n      iconActive: {\n        color: (palette!.primary as SimplePaletteColorOptions).dark,\n        '&:hover, &:active, &.focus': {\n          color: (palette!.primary as SimplePaletteColorOptions).dark,\n        },\n      },\n    },\n    MUIDataTableHeadCell: {\n      fixedHeaderCommon: {\n        paddingTop: 8,\n        paddingBottom: 8,\n        backgroundColor: (palette!.primary as SimplePaletteColorOptions).main,\n        color: '#fff',\n        '&[aria-sort]': {\n          backgroundColor: '#459ac4',\n        },\n      },\n      sortActive: {\n        color: '#fff',\n      },\n      sortAction: {\n        alignItems: 'center',\n      },\n      sortLabelRoot: {\n        '& svg': {\n          color: '#fff !important',\n        },\n      },\n    },\n    MUIDataTableSelectCell: {\n      headerCell: {\n        backgroundColor: (palette!.primary as SimplePaletteColorOptions).main,\n        '& span': {\n          color: '#fff !important',\n        },\n      },\n    },\n    MUIDataTableBodyCell: {\n      root: {\n        color: (palette!.secondary as SimplePaletteColorOptions).main,\n        '&:hover, &:active, &.focus': {\n          color: (palette!.secondary as SimplePaletteColorOptions).main,\n        },\n      },\n    },\n    MUIDataTableToolbarSelect: {\n      title: {\n        color: (palette!.primary as SimplePaletteColorOptions).main,\n      },\n      iconButton: {\n        color: (palette!.primary as SimplePaletteColorOptions).main,\n      },\n    },\n    MUIDataTableBodyRow: {\n      root: {\n        '&:nth-child(odd)': {\n          backgroundColor: palette!.background!.default,\n        },\n      },\n    },\n    MUIDataTablePagination: {\n      root: {\n        color: (palette!.primary as SimplePaletteColorOptions).main,\n      },\n    },\n  },\n});\n\nexport default theme;\n","import React from 'react';\n\nimport {\n  SnackbarProvider as NotistackProvider,\n  SnackbarProviderProps,\n} from 'notistack';\nimport { IconButton, makeStyles, Theme } from '@material-ui/core';\nimport CloseIcon from '@material-ui/icons/Close';\n\nconst useStyles = makeStyles((theme: Theme) => {\n  return {\n    variantSuccess: {\n      backgroundColor: theme.palette.success.main,\n    },\n    variantError: {\n      backgroundColor: theme.palette.error.main,\n    },\n    variantInfo: {\n      backgroundColor: theme.palette.primary.main,\n    },\n  };\n});\n\nconst SnackBarProvider: React.FC<SnackbarProviderProps> = ({\n  children,\n  ...others\n}) => {\n  let snackbarProviderRef: any;\n  const classes = useStyles();\n  const defaultProps: any = {\n    classes,\n    autoHideDuration: 3000,\n    maxSnack: 3,\n    anchorOrigin: {\n      horizontal: 'right',\n      vertical: 'top',\n    },\n    preventDuplicate: true,\n    ref: (el) => (snackbarProviderRef = el),\n    action: (key) => (\n      <IconButton\n        color=\"inherit\"\n        style={{ fontSize: 20 }}\n        onClick={() => snackbarProviderRef.closeSnackbar(key)}\n      >\n        <CloseIcon />\n      </IconButton>\n    ),\n  };\n\n  const newProps = { ...defaultProps, ...others };\n\n  return <NotistackProvider {...newProps}>{children}</NotistackProvider>;\n};\n\nexport default SnackBarProvider;\n","import * as React from 'react';\nimport {\n  LinearProgress,\n  MuiThemeProvider,\n  Theme,\n  Fade,\n} from '@material-ui/core';\nimport LoadingContext from '../Loading/LoadingContext';\n\nfunction makeLocalTheme(theme: Theme): Theme {\n  return {\n    ...theme,\n    palette: {\n      ...theme.palette,\n      primary: theme.palette.error,\n      type: 'dark',\n    },\n  };\n}\n\nconst Spinner = () => {\n  const loading = React.useContext(LoadingContext);\n  return (\n    <MuiThemeProvider theme={makeLocalTheme}>\n      <Fade in={loading}>\n        <LinearProgress\n          color=\"primary\"\n          style={{\n            position: 'fixed',\n            width: '100%',\n            zIndex: 999999,\n          }}\n        />\n      </Fade>\n    </MuiThemeProvider>\n  );\n};\n\nexport default Spinner;\n","import React from 'react';\nimport { useState, useMemo, useEffect } from 'react';\nimport LoadingContext from '../LoadingContext';\nimport { omit } from 'lodash';\nimport {\n  addGlobalRequestInterceptor,\n  addGlobalResponseInterceptor,\n  removeGlobalRequestInterceptor,\n  removeGlobalResponseInterceptor,\n} from '../../../util/http';\n\nconst LoadingProvider: React.FC = ({ children }) => {\n  const [loading, setLoading] = useState<boolean>(false);\n  const [countRequest, setCountRequest] = useState(0);\n\n  useMemo(() => {\n    let isSubscribed = true;\n    const requestIds = addGlobalRequestInterceptor((config) => {\n      if (isSubscribed && !config.headers.hasOwnProperty('ignoreLoading')) {\n        setLoading(true);\n        setCountRequest((prevCountRequest) => prevCountRequest + 1);\n      }\n      config.headers = omit(config.headers, 'ignoreLoading');\n      return config;\n    });\n\n    const responseIds = addGlobalResponseInterceptor(\n      (response) => {\n        if (isSubscribed) {\n          decrementCountRequest();\n        }\n        return response;\n      },\n      (error) => {\n        if (isSubscribed) {\n          decrementCountRequest();\n        }\n        return Promise.reject(error);\n      },\n    );\n\n    return () => {\n      isSubscribed = false;\n      removeGlobalRequestInterceptor(requestIds);\n      removeGlobalResponseInterceptor(responseIds);\n    };\n  }, []);\n\n  useEffect(() => {\n    if (!countRequest) {\n      setLoading(false);\n    }\n  }, [countRequest]);\n\n  function decrementCountRequest() {\n    setCountRequest((prevCountRequest) =>\n      prevCountRequest <= 0 ? 0 : prevCountRequest - 1,\n    );\n  }\n  return (\n    <LoadingContext.Provider value={loading}>\n      {children}\n    </LoadingContext.Provider>\n  );\n};\n\nexport default LoadingProvider;\n","import React from 'react';\nimport Navbar from './components/Navbar';\nimport {\n  Box,\n  MuiThemeProvider,\n  CssBaseline,\n  Container,\n} from '@material-ui/core';\nimport { BrowserRouter } from 'react-router-dom';\nimport AppRouter from './routes/AppRouter';\nimport Breadcrumbs from './components/Breadcrumbs';\nimport theme from './theme';\nimport SnackBarProvider from './components/SnackBarProvider';\nimport Spinner from './components/Spinner';\nimport LoadingProvider from './components/Loading/LoadingProvider';\n\nconst App: React.FC = () => {\n  return (\n    <React.Fragment>\n      <LoadingProvider>\n        <MuiThemeProvider theme={theme}>\n          <SnackBarProvider>\n            <CssBaseline />\n            <BrowserRouter basename=\"/backend\">\n              <Spinner />\n              <Navbar />\n              <Box paddingTop={'80px'}>\n                <Breadcrumbs />\n                <Container>\n                  <AppRouter />\n                </Container>\n              </Box>\n            </BrowserRouter>\n          </SnackBarProvider>\n        </MuiThemeProvider>\n      </LoadingProvider>\n    </React.Fragment>\n  );\n};\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      (process as { env: { [key: string]: string } }).env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import { Types, Creators } from './index';\nimport { eventChannel, END } from 'redux-saga';\nimport { actionChannel, take, call, put } from 'redux-saga/effects';\nimport { AddUploadAction, FileInfo } from './types';\nimport { Video } from '../../util/models';\nimport videoHttp from '../../util/http/video-http';\n\nexport function* uploadWatcherSaga() {\n  const newFilesChannel = yield actionChannel(Types.ADD_UPLOAD);\n\n  while (true) {\n    const { payload }: AddUploadAction = yield take(newFilesChannel);\n    for (const fileInfo of payload.files) {\n      try {\n        const response = yield call(uploadFile, {\n          video: payload.video,\n          fileInfo: fileInfo,\n        });\n        console.log(response);\n      } catch (e) {\n        console.log(e);\n      }\n    }\n\n    console.log(payload);\n  }\n}\n\nfunction* uploadFile({\n  video,\n  fileInfo,\n}: {\n  video: Video;\n  fileInfo: FileInfo;\n}) {\n  const channel = yield call(sendUpload, { id: video.id, fileInfo });\n\n  while (true) {\n    try {\n      const { progress, response } = yield take(channel);\n      if (response) {\n        return response;\n      }\n      yield put(\n        Creators.updateProgress({\n          video,\n          fileField: fileInfo.fileField,\n          progress,\n        })\n      );\n    } catch (e) {\n      yield put(\n        Creators.setUploadError({\n          video,\n          fileField: fileInfo.fileField,\n          error: e,\n        })\n      );\n      throw e;\n    }\n  }\n}\n\nfunction sendUpload({ id, fileInfo }: { id: string; fileInfo: FileInfo }) {\n  return eventChannel((emitter) => {\n    videoHttp\n      .partialUpdate(\n        id,\n        {\n          _method: 'PATCH',\n          [fileInfo.fileField]: fileInfo.file,\n        },\n        {\n          http: {\n            usePost: true,\n          },\n          config: {\n            headers: {\n              ignoreLoading: true,\n            },\n            onUploadProgress(progressEvent: ProgressEvent) {\n              if (progressEvent.lengthComputable) {\n                const progress = progressEvent.loaded / progressEvent.total;\n                emitter({ progress });\n              }\n            },\n          },\n        }\n      )\n      .then((response) => emitter({ response }))\n      .catch((error) => emitter(error))\n      .finally(() => emitter(END));\n\n    const unsubscribe = () => {};\n    return unsubscribe;\n  });\n}\n","import { all } from 'redux-saga/effects';\nimport { uploadWatcherSaga } from './upload/sagas';\n\nexport default function* rootSaga() {\n  yield all([uploadWatcherSaga()]);\n}\n","import { createStore, applyMiddleware, combineReducers } from 'redux';\nimport createSagaMiddleware from 'redux-saga';\nimport upload from './upload';\nimport rootSaga from './root-saga';\n\nconst sagaMiddleware = createSagaMiddleware();\nconst store = createStore(\n  combineReducers({\n    upload,\n  }),\n  applyMiddleware(sagaMiddleware)\n);\n\nsagaMiddleware.run(rootSaga);\n\nexport default store;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport { Provider } from 'react-redux';\nimport store from './store';\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById('root'),\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","import axios, { AxiosRequestConfig, AxiosResponse } from 'axios';\n\nexport const httpVideo = axios.create({\n  baseURL: process.env.REACT_APP_MICRO_VIDEO_API_URL,\n});\n\nconst instances = [httpVideo];\n\nexport function addGlobalRequestInterceptor(\n  onFulfilled?: (\n    value: AxiosRequestConfig\n  ) => AxiosRequestConfig | Promise<AxiosRequestConfig>,\n  onRejected?: (error: any) => any\n) {\n  const ids: number[] = [];\n  for (let i of instances) {\n    const id = i.interceptors.request.use(onFulfilled, onRejected);\n    ids.push(id);\n  }\n  return ids;\n}\n\nexport function addGlobalResponseInterceptor(\n  onFulfilled?: (\n    value: AxiosResponse\n  ) => AxiosResponse | Promise<AxiosResponse>,\n  onRejected?: (error: any) => any\n) {\n  const ids: number[] = [];\n  for (let i of instances) {\n    const id = i.interceptors.response.use(onFulfilled, onRejected);\n    ids.push(id);\n  }\n  return ids;\n}\n\nexport function removeGlobalRequestInterceptor(ids: number[]) {\n  ids.forEach((id, index) => instances[index].interceptors.request.eject(id));\n}\n\nexport function removeGlobalResponseInterceptor(ids: number[]) {\n  ids.forEach((id, index) => instances[index].interceptors.response.eject(id));\n}\n","import * as Typings from './types';\nimport { createActions, createReducer } from 'reduxsauce';\nimport update from 'immutability-helper';\n\nexport const { Types, Creators } = createActions<\n  {\n    ADD_UPLOAD: string;\n    REMOVE_UPLOAD: string;\n    UPDATE_PROGRESS: string;\n    SET_UPLOAD_ERROR: string;\n  },\n  {\n    addUpload(\n      payload: Typings.AddUploadAction['payload']\n    ): Typings.AddUploadAction;\n    removeUpload(\n      payload: Typings.RemoveUploadAction['payload']\n    ): Typings.RemoveUploadAction;\n    updateProgress(\n      payload: Typings.UpdateProgressAction['payload']\n    ): Typings.UpdateProgressAction;\n    setUploadError(\n      payload: Typings.SetUploadErrorAction['payload']\n    ): Typings.SetUploadErrorAction;\n  }\n>({\n  addUpload: ['payload'],\n  removeUpload: ['payload'],\n  updateProgress: ['payload'],\n  setUploadError: ['payload'],\n});\n\nexport const INITIAL_STATE: Typings.UploadState = {\n  uploads: [],\n};\n\nconst reducer = createReducer<Typings.UploadState, Typings.Actions>(\n  INITIAL_STATE,\n  {\n    [Types.ADD_UPLOAD]: addUpload as any,\n    [Types.REMOVE_UPLOAD]: removeUpload as any,\n    [Types.UPDATE_PROGRESS]: updateProgress as any,\n    [Types.SET_UPLOAD_ERROR]: setUploadError as any,\n  }\n);\n\nexport default reducer;\n\nfunction addUpload(\n  state = INITIAL_STATE,\n  action: Typings.AddUploadAction\n): Typings.UploadState {\n  if (!action.payload.files.length) {\n    return state;\n  }\n\n  const index = findIndexUpload(state, action.payload.video.id);\n  if (index !== -1 && state.uploads[index].progress < 1) {\n    return state;\n  }\n\n  const uploads =\n    index === -1\n      ? state.uploads\n      : update(state.uploads, {\n          $splice: [[index, 1]],\n        });\n\n  return {\n    uploads: [\n      ...uploads,\n      {\n        video: action.payload.video,\n        progress: 0,\n        files: action.payload.files.map((file) => ({\n          fileField: file.fileField,\n          filename: file.file.name,\n          progress: 0,\n        })),\n      },\n    ],\n  };\n}\n\nfunction removeUpload(\n  state: Typings.UploadState = INITIAL_STATE,\n  action: Typings.RemoveUploadAction\n): Typings.UploadState {\n  const uploads = state.uploads.filter(\n    (upload) => upload.video.id !== action.payload.id\n  );\n\n  if (uploads.length === state.uploads.length) {\n    return state;\n  }\n  return {\n    uploads,\n  };\n}\n\nfunction updateProgress(\n  state: Typings.UploadState = INITIAL_STATE,\n  action: Typings.UpdateProgressAction\n): Typings.UploadState {\n  const videoId = action.payload.video.id;\n  const fileField = action.payload.fileField;\n\n  const { indexFile, indexUpload } = findIndexUploadAndFile(\n    state,\n    videoId,\n    fileField\n  );\n\n  if (typeof indexUpload === 'undefined') {\n    return state;\n  }\n\n  const upload = state.uploads[indexUpload];\n  const file = upload.files[indexFile];\n\n  if (file.progress === action.payload.progress) {\n    return state;\n  }\n\n  const uploads = update(state.uploads, {\n    [indexUpload]: {\n      $apply(upload) {\n        const files = update(upload.files, {\n          [indexFile]: {\n            $set: { ...file, progress: action.payload.progress },\n          },\n        });\n        const progress = calculateGlobalProgress(files);\n        return { ...upload, progress, files };\n      },\n    },\n  });\n\n  return { uploads };\n}\n\nfunction setUploadError(\n  state: Typings.UploadState = INITIAL_STATE,\n  action: Typings.SetUploadErrorAction\n): Typings.UploadState {\n  const videoId = action.payload.video.id;\n  const fileField = action.payload.fileField;\n\n  const { indexFile, indexUpload } = findIndexUploadAndFile(\n    state,\n    videoId,\n    fileField\n  );\n\n  if (typeof indexUpload === 'undefined') {\n    return state;\n  }\n\n  const upload = state.uploads[indexUpload];\n  const file = upload.files[indexFile];\n\n  const uploads = update(state.uploads, {\n    [indexUpload]: {\n      files: {\n        [indexFile]: {\n          $set: { ...file, error: action.payload.error, progress: 1 },\n        },\n      },\n    },\n  });\n\n  return { uploads };\n}\n\nfunction findIndexUploadAndFile(\n  state: Typings.UploadState,\n  videoId: string,\n  fileField: string\n): { indexUpload?; indexFile? } {\n  const indexUpload = findIndexUpload(state, videoId);\n\n  if (indexUpload === -1) {\n    return {};\n  }\n\n  const upload = state.uploads[indexUpload];\n  const indexFile = findIndexFile(upload.files, fileField);\n\n  return indexFile === -1 ? {} : { indexUpload, indexFile };\n}\n\nfunction calculateGlobalProgress(files: Array<{ progress }>) {\n  const countFiles = files.length;\n  if (!countFiles) {\n    return 0;\n  }\n\n  const sumProgress = files.reduce((sum, file) => sum + file.progress, 0);\n\n  return sumProgress / countFiles;\n}\n\nfunction findIndexUpload(state: Typings.UploadState, id: string) {\n  return state.uploads.findIndex((upload) => upload.video.id === id);\n}\n\nfunction findIndexFile(files: Array<{ fileField }>, fileField: string) {\n  return files.findIndex((file) => file.fileField === fileField);\n}\n","import HttpResource from './http-resource';\nimport { httpVideo } from '.';\n\nconst videoHttp = new HttpResource(httpVideo, 'videos');\n\nexport default videoHttp;\n"],"sourceRoot":""}