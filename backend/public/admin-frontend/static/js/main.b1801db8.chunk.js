(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{100:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var n=a(130),r=a(131),o=a(108),c=a.n(o),i=a(381),l=function(){function e(t,a){Object(n.a)(this,e),this.http=t,this.resource=a,this.cancelList=null}return Object(r.a)(e,[{key:"list",value:function(e){this.cancelList&&this.cancelList.cancel("list request cancelled"),this.cancelList=c.a.CancelToken.source();var t={cancelToken:this.cancelList.token};return e&&e.queryParams&&(t.params=e.queryParams),this.http.get(this.resource,t)}},{key:"get",value:function(e){return this.http.get("".concat(this.resource,"/").concat(e))}},{key:"create",value:function(e){var t=this.makeSendData(e);return this.http.post(this.resource,t)}},{key:"update",value:function(e,t,a){var n=t;this.containsFile(t)&&(n=this.getFormData(t));var r=a||{},o=r.http,c=r.config;return a&&o&&o.usePost?this.http.post("".concat(this.resource,"/").concat(e),n,c):this.http.put("".concat(this.resource,"/").concat(e),n,c)}},{key:"partialUpdate",value:function(e,t,a){var n=t;this.containsFile(t)&&(n=this.getFormData(t));var r=a||{},o=r.http,c=r.config;return a&&o&&o.usePost?this.http.post("".concat(this.resource,"/").concat(e),n,c):this.http.patch("".concat(this.resource,"/").concat(e),n,c)}},{key:"delete",value:function(e){return this.http.delete("".concat(this.resource,"/").concat(e))}},{key:"deleteCollection",value:function(e){var t={};return e&&(t.params=e),this.http.delete("".concat(this.resource),t)}},{key:"isCancelledRequest",value:function(e){return c.a.isCancel(e)}},{key:"makeSendData",value:function(e){return this.containsFile(e)?this.getFormData(e):e}},{key:"getFormData",value:function(e){return Object(i.serialize)(e,{booleansAsIntegers:!0})}},{key:"containsFile",value:function(e){return 0!==Object.values(e).filter((function(e){return e instanceof File})).length}}]),e}()},134:function(e,t,a){"use strict";var n,r=a(0),o=a.n(r),c=a(567),i=a(568),l=a(569),s=a(570),u=a(571),d=a(9),p=a.n(d),m=a(18),f=a(13),g=a(33),b=a(59),h=a(101),v=a(21),O=a(24),j=a(100),E=a(62),x=new j.a(E.c,"cast_members"),y=a(135),P=a(196),C=a(540),k=Object(P.a)((function(e){return{gridItem:{padding:e.spacing(1,0)}}})),w=function(e){var t=k(),a=e.GridItemProps,n=e.GridContainerProps,r=Object(y.a)(e,["GridItemProps","GridContainerProps"]);return o.a.createElement("form",r,o.a.createElement(C.a,Object.assign({container:!0},n),o.a.createElement(C.a,Object.assign({className:t.gridItem,item:!0},a),e.children)))},F=a(336),S=a(253),T=a(520),R=a(337),A=a(338),I=a(573),D=a(523),N=a(541),L=a(252),B=a(335),q=Object(P.a)((function(e){return{submit:{margin:e.spacing(1)},circularProgress:{marginLeft:e.spacing(1),position:"relative",top:"12px"}}})),M=function(e){var t=e.loading,a=e.handleSave,n=e.setFormType,r=q(),c={className:r.submit,color:"secondary",variant:"contained",disabled:t},i=t&&o.a.createElement(N.a,{size:26,className:r.circularProgress});return o.a.createElement(L.a,null,o.a.createElement(B.a,Object.assign({},c,{type:"submit",onClick:function(){return a()&&n("save")}}),"Salvar"),o.a.createElement(B.a,Object.assign({},c,{type:"submit",onClick:function(){return a()&&n("save-and-new")}}),"Salvar e adicionar um novo"),o.a.createElement(B.a,Object.assign({},c,{type:"submit",onClick:function(){return a()&&n("save-and-edit")}}),"Salvar e continuar editando"),i)},_=a(41),V=O.e().shape({name:O.g().label("Nome").required().max(255),type:O.d().label("Tipo").required()}),U=function(){var e=Object(b.c)({resolver:Object(h.a)(V)}),t=e.register,a=e.handleSubmit,n=e.getValues,c=e.setValue,i=e.errors,l=e.reset,s=e.watch,u=e.trigger,d=Object(g.b)().enqueueSnackbar,O=Object(v.f)(),j=Object(v.h)().id,E=Object(r.useState)(null),y=Object(f.a)(E,2),P=y[0],C=y[1],k=Object(r.useState)("save"),N=Object(f.a)(k,2),L=N[0],B=N[1],q=Object(r.useContext)(_.a);Object(r.useEffect)((function(){t({name:"type"})}),[t]),Object(r.useEffect)((function(){if(j){var e=!0;return function(){t.apply(this,arguments)}(),function(){e=!1}}function t(){return(t=Object(m.a)(p.a.mark((function t(){var a,n;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,x.get(j);case 3:a=t.sent,n=a.data,e&&(C(n.data),l(n.data)),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(0),console.error(t.t0),d("N\xe3o foi poss\xedvel carregar as informa\xe7\xf5es.",{variant:"error"});case 12:case"end":return t.stop()}}),t,null,[[0,8]])})))).apply(this,arguments)}}),[j,l,d]);var U=function(){var e=Object(m.a)(p.a.mark((function e(t,a){var n,r,o;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=P?x.update(P.id,t):x.create(t),e.next=4,n;case 4:r=e.sent,o=r.data,d("Membro de elenco salvo com sucesso!",{variant:"success"}),setTimeout((function(){if("save"===L&&O.push("/cast-members"),"save-and-new"===L&&O.push("/cast-members/create"),"save-and-edit"===L){var e=o.data.id,t="/categories/".concat(e,"/edit");j?O.replace(t):O.push(t)}}),2e3),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0),d("N\xe3o foi poss\xedvel salvar o membro de elenco :(",{variant:"error"});case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,a){return e.apply(this,arguments)}}();return o.a.createElement(o.a.Fragment,null,o.a.createElement("h1",null,j?"Editar":"Adicionar um novo"," membro de elenco"),o.a.createElement(w,{GridItemProps:{xs:12,md:6},onSubmit:a(U)},o.a.createElement(F.a,{name:"name",label:"Nome",fullWidth:!0,variant:"outlined",disabled:q,inputRef:t,error:void 0!==i.name,helperText:i.name&&i.name.message,InputLabelProps:{shrink:!0}}),o.a.createElement(S.a,{margin:"normal",error:void 0!==i.type,disabled:q},o.a.createElement(T.a,{component:"legend"},"Tipo"),o.a.createElement(R.a,{defaultValue:"1","aria-label":"type",name:"type",onChange:function(e){return c("type",parseInt(e.target.value))},value:s("type")+""},o.a.createElement(A.a,{value:"1",label:"Diretor",control:o.a.createElement(I.a,null)}),o.a.createElement(A.a,{value:"2",label:"Ator",control:o.a.createElement(I.a,null)})),i.type&&o.a.createElement(D.a,{id:"type-helper-text"},i.type.message)),o.a.createElement(M,{setFormType:B,loading:q,handleSave:function(){return u().then((function(e){e&&U(n(),null)}))}})))},z=a(17),G=a(10),W=a(37),H=a(203),Y=a(83),Q=a.n(Y),X=a(572),Z=a(566),K=a(47),J=a(384),$=a.n(J),ee=a(130),te=a(131),ae=a(212),ne=a(395),re=a(394),oe=a(155),ce=a(258),ie=a.n(ce),le=a(259),se=a.n(le),ue=a(4),de=function(e){Object(ne.a)(a,e);var t=Object(re.a)(a);function a(e){var n;Object(ee.a)(this,a),(n=t.call(this,e)).handleTextChange=function(e){var t=e.target.value;n.setState({text:t},(function(){return n.debouncedOnSearch(t)}))},n.debouncedOnSearch=function(e){n.props.onSearch(e)},n.onKeyDown=function(e){27===e.keyCode&&n.props.onHide()};var r=n.props.searchText,o=r;return r&&void 0!==r.value&&(o=r.value),n.state={text:o},n.debouncedOnSearch=Object(K.debounce)(n.debouncedOnSearch.bind(Object(ae.a)(n)),n.props.debounceTime),n}return Object(te.a)(a,[{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.onKeyDown,!1)}},{key:"componentDidUpdate",value:function(e,t,a){var n=this,r=this.props.searchText;if(r&&void 0!==r.value&&e!==this.props.searchText){var o=r.value;if(o)this.setState({text:o},(function(){return n.props.onSearch(o)}));else try{this.props.onHide()}catch(c){}}}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.onKeyDown,!1)}},{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.options,r=t.onHide,c=this.state.text;return o.a.createElement(oe.a,{appear:!0,in:!0,timeout:300},o.a.createElement("div",{className:a.main,ref:function(t){return e.rootRef=t}},o.a.createElement(ie.a,{className:a.searchIcon}),o.a.createElement(F.a,{className:a.searchText,autoFocus:!0,InputProps:{"data-test-id":n.textLabels.toolbar.search,"aria-label":n.textLabels.toolbar.search},value:c||"",onChange:this.handleTextChange,fullWidth:!0,inputRef:function(t){return e.searchField=t},placeholder:n.searchPlaceholder}),o.a.createElement(H.a,{className:a.clearIcon,onClick:r},o.a.createElement(se.a,null))))}}]),a}(o.a.PureComponent),pe=Object(ue.a)((function(e){return{main:{display:"flex",flex:"1 0 auto"},searchIcon:{color:e.palette.text.secondary,marginTop:"10px",marginRight:"8px"},searchText:{flex:"0.8 0"},clearIcon:{"&:hover":{color:e.palette.error.main}}}}),{name:"MUIDataTableSearch"})(de),me=a(22),fe=a(559),ge=a(543),be=o.a.forwardRef((function(e,t){var a,n,r=Object(K.cloneDeep)(Object(me.a)()),c=Object(fe.a)(r.breakpoints.down("sm")),i=(a=e.debouncedSearchTime,{print:!1,download:!1,textLabels:{body:{noMatch:"Nenhum registro encontrado",toolTip:"Classificar"},pagination:{next:"Pr\xf3xima p\xe1gina",previous:"P\xe1gina anterior",rowsPerPage:"Por p\xe1gina:",displayRows:"de"},toolbar:{search:"Busca",downloadCsv:"Download CSV",print:"Imprimir",viewColumns:"Ver Colunas",filterTable:"Filtrar Tabelas"},filter:{all:"Todos",title:"FILTROS",reset:"LIMPAR"},viewColumns:{title:"Ver Colunas",titleAria:"Ver/Esconder Colunas da Tabela"},selectedRows:{text:"registro(s) selecionados",delete:"Excluir",deleteAria:"Excluir registros selecionados"}},customSearchRender:function(e,t,n,r){return o.a.createElement(pe,{searchText:e,onSearch:t,onHide:n,options:r,debounceTime:a})}}),l=Object(K.merge)({options:Object(K.cloneDeep)(i)},e,{columns:(n=e.columns,s(n),n.map((function(e){return Object(K.omit)(e,"width")})))});function s(e){e.forEach((function(e,t){e.width}))}!function(){var e=l.options.textLabels;e.body.noMatch=!0===l.loading?"Caregando...":e.body.noMatch}(),l.options.responsive=c?"standard":"simple";var u=Object(G.a)(Object(G.a)({},Object(K.omit)(l,"loading")),{},{ref:t});return o.a.createElement(ge.a,{theme:r},o.a.createElement($.a,u))})),he={thumb_file:"Thumbnail",banner_file:"Banner",trailer_file:"Trailer",video_file:"Principal"},ve={1:"Diretor",2:"Ator"},Oe=a(550),je=a(554),Ee=a(552),xe=a(553),ye=a(551),Pe=function(e){var t=e.open,a=e.handleClose;return o.a.createElement(Oe.a,{open:t,onClose:function(){return a(!1)}},o.a.createElement(je.a,null,"Exclus\xe3o de registros"),o.a.createElement(Ee.a,null,o.a.createElement(xe.a,null,"Deseja realmente excluir este(s) registro(s)?")),o.a.createElement(ye.a,null,o.a.createElement(B.a,{onClick:function(){return a(!1)},color:"secondary"},"Cancelar"),o.a.createElement(B.a,{onClick:function(){return a(!0)},color:"primary",autoFocus:!0},"Excluir")))},Ce=function(){var e=Object(r.useState)(!1),t=Object(f.a)(e,2),a=t[0],n=t[1],o=Object(r.useState)({data:[]}),c=Object(f.a)(o,2),i=c[0],l=c[1];return Object(r.useEffect)((function(){i.data.length&&n(!0)}),[i]),{openDeleteDialog:a,setOpenDeleteDialog:n,rowsToDelete:i,setRowsToDelete:l}},ke=a(137),we=Object(ke.createActions)({setSearch:["payload"],setPage:["payload"],setPerPage:["payload"],setOrder:["payload"],setReset:["payload"],updateExtraFilter:["payload"]}),Fe=we.Types,Se=we.Creators,Te={search:null,pagination:{page:1,per_page:10},order:{sort:null,dir:null}},Re=Object(ke.createReducer)(Te,(n={},Object(z.a)(n,Fe.SET_SEARCH,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Te,t=arguments.length>1?arguments[1]:void 0;return Object(G.a)(Object(G.a)({},e),{},{search:t.payload.search,pagination:Object(G.a)(Object(G.a)({},e.pagination),{},{page:1})})})),Object(z.a)(n,Fe.SET_PAGE,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Te,t=arguments.length>1?arguments[1]:void 0;return Object(G.a)(Object(G.a)({},e),{},{pagination:Object(G.a)(Object(G.a)({},e.pagination),{},{page:t.payload.page})})})),Object(z.a)(n,Fe.SET_PER_PAGE,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Te,t=arguments.length>1?arguments[1]:void 0;return Object(G.a)(Object(G.a)({},e),{},{pagination:Object(G.a)(Object(G.a)({},e.pagination),{},{per_page:t.payload.per_page})})})),Object(z.a)(n,Fe.SET_ORDER,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Te,t=arguments.length>1?arguments[1]:void 0;return Object(G.a)(Object(G.a)({},e),{},{order:{sort:t.payload.sort,dir:t.payload.dir}})})),Object(z.a)(n,Fe.SET_RESET,(function(){var e=arguments.length>1?arguments[1]:void 0;return e.payload.state})),Object(z.a)(n,Fe.UPDATE_EXTRA_FILTER,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Te,t=arguments.length>1?arguments[1]:void 0;return Object(G.a)(Object(G.a)({},e),{},{extraFilter:Object(G.a)(Object(G.a)({},e.extraFilter),t.payload)})})),n));var Ae=a(577);Object(O.f)({mixed:{required:"${path} \xe9 requerido",notType:"${path} \xe9 inv\xe1lido"},string:{max:"${path} precisa ter no m\xe1ximo ${max} caracteres."},number:{min:"${path} precisa ser no m\xednimo ${min}."}});var Ie=function(){function e(t){Object(ee.a)(this,e),this.schema=void 0,this.state=void 0,this.dispatch=void 0,this.columns=void 0,this.rowsPerPage=void 0,this.tableRef=void 0;var a=t.schema,n=t.columns,r=t.rowsPerPage,o=t.tableRef,c=t.dispatch,i=t.state;this.schema=a,this.columns=n,this.rowsPerPage=r,this.tableRef=o,this.dispatch=c,this.state=i}return Object(te.a)(e,[{key:"changeSearch",value:function(e){this.dispatch(Se.setSearch({search:e}))}},{key:"changePage",value:function(e){this.dispatch(Se.setPage({page:e+1}))}},{key:"changeRowsPerPage",value:function(e){this.dispatch(Se.setPerPage({per_page:e}))}},{key:"changeColumnSort",value:function(e,t){this.dispatch(Se.setOrder({sort:e,dir:t.includes("desc")?"desc":"asc"})),this.resePagination()}},{key:"applyOrderInColumns",value:function(){var e=this;this.columns=this.columns.map((function(t){return t.name===e.state.order.sort?Object(G.a)(Object(G.a)({},t),{},{options:Object(G.a)(Object(G.a)({},t.options),{},{sortDirection:e.state.order.dir})}):t}))}},{key:"changeExtraFilter",value:function(e){this.dispatch(Se.updateExtraFilter(e))}},{key:"resetFilter",value:function(){var e=Object(G.a)(Object(G.a)({},this.schema.cast({})),{},{search:{value:null,update:!0}});this.dispatch(Se.setReset({state:e})),this.resePagination()}},{key:"resePagination",value:function(){this.tableRef.current.changeRowsPerPage(this.rowsPerPage),this.tableRef.current.changePage(0)}}]),e}(),De=function(e){var t=Object(v.f)(),a=Object(v.g)(),n=a.search,o=a.pathname,c=a.state,i=e.rowsPerPage,l=e.rowsPerPageOptions,s=e.columns,u=e.extraFilter,d=Object(r.useMemo)((function(){return O.e().shape(Object(G.a)({search:O.g().transform((function(e){return e||void 0})).default(""),pagination:O.e().shape({page:O.d().transform((function(e){return isNaN(e)||e<1?void 0:e})).default(1),per_page:O.d().transform((function(e){return isNaN(e)||!l.includes(parseInt(e))?void 0:e})).default(i)}),order:O.e().shape({sort:O.g().nullable().transform((function(e){return s.filter((function(e){return!e.options||!1!==e.options.sort})).map((function(e){return e.name})).includes(e)?e:void 0})).default(null),dir:O.g().nullable().transform((function(e){return e&&["asc","desc"].includes(e.toLowerCase())?e:void 0})).default(null)})},u&&{extraFilter:u.createValidationSchema()}))}),[l,i,s,u]),p=Object(r.useMemo)((function(){var e=new URLSearchParams(n.substr(1));return d.cast(Object(G.a)({search:e.get("search"),pagination:{page:e.get("page"),per_page:e.get("per_page")},order:{sort:e.get("sort"),dir:e.get("dir")}},u&&{extraFilter:u.getStateFromUrl(e)}))}),[n,d,u]),m=Object(r.useCallback)((function(e){var t=e;return e&&void 0!==e.value&&(t=e.value),t}),[]),g=Object(r.useCallback)((function(e,t){var a=m(e.search);return Object(G.a)(Object(G.a)(Object(G.a)(Object(G.a)(Object(G.a)({},a&&""!==a&&{search:a}),1!==e.pagination.page&&{page:e.pagination.page}),15!==e.pagination.per_page&&{per_page:e.pagination.per_page}),e.order.sort&&{sort:e.order.sort,dir:e.order.dir}),t&&t.formatSearchParams(e))}),[m]),b=p,h=Object(r.useReducer)(Re,b),j=Object(f.a)(h,2),E=j[0],x=j[1],y=new Ie(Object(G.a)(Object(G.a)({},e),{},{state:E,dispatch:x,schema:d})),P=Object(r.useState)(0),C=Object(f.a)(P,2),k=C[0],w=C[1],F=Object(Ae.a)(E,e.debounceTime),S=Object(f.a)(F,1)[0];return Object(r.useEffect)((function(){t.replace({pathname:o,search:"?"+new URLSearchParams(g(p,u)),state:p})}),[t,o,g,p,u]),Object(r.useEffect)((function(){var e={pathname:o,search:"?"+new URLSearchParams(g(S,u)),state:Object(G.a)(Object(G.a)({},S),{},{search:m(S.search)})},a=c,n=S;Object(K.isEqual)(a,n)||t.push(e)}),[t,o,c,S,g,m,u]),y.state=E,y.applyOrderInColumns(),{columns:y.columns,cleanSearchText:m,filterManager:y,filterState:E,debouncedFilterState:S,dispatch:x,totalRecords:k,setTotalRecords:w}},Ne=a(347),Le=a(387),Be=a.n(Le),qe=Object(P.a)((function(e){return{iconButton:e.overrides.MUIDataTableTooblar.icon}})),Me=function(e){var t=qe();return o.a.createElement(Ne.a,{title:"Limpar busca"},o.a.createElement(H.a,{className:t.iconButton,onClick:e.handleClick},o.a.createElement(Be.a,null)))},_e=Object.values(ve),Ve=[{name:"id",label:"ID",options:{sort:!1,filter:!1}},{name:"name",label:"Nome",options:{filter:!1}},{name:"type",label:"Tipo",width:"4%",options:{filterOptions:{names:_e},customBodyRender:function(e,t,a){return void 0!==ve[e]?o.a.createElement("span",null,ve[e]):"-"}}},{name:"created_at",label:"Criado em",width:"10%",options:{filter:!1,customBodyRender:function(e,t,a){return o.a.createElement("span",null,Object(X.a)(Object(Z.a)(e),"dd/MM/yyyy"))}}},{name:"actions",label:"A\xe7\xf5es",width:"13%",options:{sort:!1,filter:!1,customBodyRender:function(e,t){return o.a.createElement(H.a,{color:"secondary",component:W.b,to:"/cast-members/".concat(t.rowData[0],"/edit")},o.a.createElement(Q.a,null))}}}],Ue=o.a.createElement(B.a,{variant:"outlined",color:"primary",component:W.b,to:"/cast-members/create"},"Adicionar"),ze=[10,25,50],Ge=function(){var e=Object(g.b)().enqueueSnackbar,t=Object(r.useRef)(!0),a=Object(r.useState)([]),n=Object(f.a)(a,2),c=n[0],i=n[1],l=Object(r.useContext)(_.a),s=Ce(),u=s.openDeleteDialog,d=s.setOpenDeleteDialog,b=s.rowsToDelete,h=s.setRowsToDelete,v=Object(r.useRef)(),j=Object(r.useMemo)((function(){return{createValidationSchema:function(){return O.e().shape({type:O.g().nullable().transform((function(e){return!e||_e.includes(e)?void 0:e})).default(null)})},formatSearchParams:function(e){return e.extraFilter?Object(G.a)({},e.extraFilter.type&&{type:e.extraFilter.type}):void 0},getStateFromUrl:function(e){return{type:e.get("type")}}}}),[]),E=De({columns:Ve,debounceTime:300,rowsPerPage:15,rowsPerPageOptions:ze,tableRef:v,extraFilter:j}),y=E.columns,P=E.cleanSearchText,C=E.filterManager,k=E.filterState,w=E.debouncedFilterState,F=E.totalRecords,S=E.setTotalRecords,T=P(w.search),R=y.findIndex((function(e){return"type"===e.name})),A=y[R],I=k.extraFilter&&k.extraFilter.type;A.options.filterList=I?[I]:[];var D=y.map((function(e){return[]}));I&&(D[R]=[I]);var N=Object(r.useCallback)(function(){var a=Object(m.a)(p.a.mark((function a(n){var r,o,c,l,s,m,f,g;return p.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r=n.search,o=n.page,c=n.per_page,l=n.sort,s=n.dir,m=n.type,a.prev=1,a.next=4,x.list({queryParams:Object(G.a)({search:r,page:o,per_page:c,sort:l,dir:s},m&&{type:Object(K.invert)(ve)[m]})});case 4:f=a.sent,g=f.data,t.current&&(i(g.data),S(g.meta.total),u&&d(!1)),a.next=13;break;case 9:a.prev=9,a.t0=a.catch(1),console.error(a.t0),x.isCancelledRequest(a.t0)&&e("N\xe3o foi poss\xedvel carregar as informa\xe7\xf5es.",{variant:"error"});case 13:case"end":return a.stop()}}),a,null,[[1,9]])})));return function(e){return a.apply(this,arguments)}}(),[u,e,d,S]);function L(){return(L=Object(m.a)(p.a.mark((function t(a){var n;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a){t.next=3;break}return d(!1),t.abrupt("return");case 3:n=b.data.map((function(e){return c[e.index].id})).join(","),x.deleteCollection({ids:n}).then((function(t){if(e("Registros excluidos com sucesso!",{variant:"success"}),b.data.length===k.pagination.per_page&&k.pagination.page>1){var a=k.pagination.page-2;C.changePage(a)}})).catch((function(t){console.error(t),e("N\xe3o foi poss\xedvel excluir os registros",{variant:"error"})}));case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(r.useEffect)((function(){return t.current=!0,N(Object(G.a)({search:T,page:w.pagination.page,per_page:w.pagination.per_page,sort:w.order.sort,dir:w.order.dir},w.extraFilter&&w.extraFilter.type&&{type:w.extraFilter.type})),function(){t.current=!1}}),[N,T,w.pagination.page,w.pagination.per_page,w.order,w.extraFilter]),o.a.createElement(o.a.Fragment,null,o.a.createElement(Pe,{open:u,handleClose:function(e){return L.apply(this,arguments)}}),o.a.createElement(be,{title:Ue,columns:y,data:c,loading:l,debouncedSearchTime:300,ref:v,options:{serverSide:!0,responsive:"standard",searchText:k.search,page:k.pagination.page-1,rowsPerPage:k.pagination.per_page,rowsPerPageOptions:ze,count:F,onFilterChange:function(e,t,a){if("reset"!==a){var n=y.findIndex((function(t){return t.name===e}));C.changeExtraFilter(Object(z.a)({},e,t[n].length?t[n][0]:null))}else C.resetFilter()},customToolbar:function(){return o.a.createElement(Me,{handleClick:function(){return C.resetFilter()}})},onSearchChange:function(e){return C.changeSearch(e)},onChangePage:function(e){return C.changePage(e)},onChangeRowsPerPage:function(e){return C.changeRowsPerPage(e)},onColumnSortChange:function(e,t){return C.changeColumnSort(e,t)},onRowsDelete:function(e){return h(e),!1}}}))},We=function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement("h1",null,"Listagem de membros do elencos"),o.a.createElement(Ge,null))},He=new j.a(E.c,"categories"),Ye=a(369),Qe=O.e().shape({name:O.g().required("O nome \xe9 obrigat\xf3rio"),description:O.g().required("A descri\xe7\xe3o \xe9 obrigat\xf3rio"),is_active:O.b()}),Xe=function(){var e=Object(b.c)({resolver:Object(h.a)(Qe),defaultValues:{is_active:!0}}),t=e.register,a=e.handleSubmit,n=e.getValues,c=e.setValue,i=e.errors,l=e.reset,s=e.watch,u=e.trigger,d=Object(g.b)().enqueueSnackbar,O=Object(v.f)(),j=Object(v.h)().id,E=o.a.useState(null),x=Object(f.a)(E,2),y=x[0],P=x[1],C=Object(r.useState)("save"),k=Object(f.a)(C,2),S=k[0],T=k[1],R=Object(r.useContext)(_.a);Object(r.useEffect)((function(){if(j){var e=!0;return function(){t.apply(this,arguments)}(),function(){e=!1}}function t(){return(t=Object(m.a)(p.a.mark((function t(){var a,n;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,He.get(j);case 3:a=t.sent,n=a.data,e&&(P(n.data),l(n.data)),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(0),console.error(t.t0),d("N\xe3o foi poss\xedvel carregar as informa\xe7\xf5es.",{variant:"error"});case 12:case"end":return t.stop()}}),t,null,[[0,8]])})))).apply(this,arguments)}}),[j,l,d]),o.a.useEffect((function(){t({name:"is_active"})}),[t]);var I=function(){var e=Object(m.a)(p.a.mark((function e(t,a){var n,r,o;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=y?He.update(y.id,t):He.create(t),e.next=4,n;case 4:r=e.sent,o=r.data,d("Categoria salva com sucesso!",{variant:"success"}),setTimeout((function(){if("save"===S&&O.push("/categories"),"save-and-new"===S&&O.push("/categories/create"),"save-and-edit"===S){var e=o.data.id,t="/categories/".concat(e,"/edit");j?O.replace(t):O.push(t)}}),2e3),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0),d("N\xe3o foi poss\xedvel salvar a categoria :(",{variant:"error"});case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,a){return e.apply(this,arguments)}}();return o.a.createElement(o.a.Fragment,null,o.a.createElement("h1",null,j?"Editar":"Adicionar uma nova"," categoria"),o.a.createElement(w,{GridItemProps:{xs:12,md:6},onSubmit:a(I)},o.a.createElement(F.a,{name:"name",label:"Nome",fullWidth:!0,variant:"outlined",disabled:R,inputRef:t,error:void 0!==i.name,helperText:i.name&&i.name.message,InputLabelProps:{shrink:!0}}),o.a.createElement(F.a,{name:"description",label:"Descri\xe7\xe3o",multiline:!0,rows:"4",fullWidth:!0,variant:"outlined",disabled:R,margin:"normal",inputRef:t,InputLabelProps:{shrink:!0}}),o.a.createElement(A.a,{disabled:R,control:o.a.createElement(Ye.a,{name:"is_active",onChange:function(){return c("is_active",!n().is_active)},checked:s("is_active")}),label:"Ativo?",labelPlacement:"end"}),o.a.createElement(M,{setFormType:T,loading:R,handleSave:function(){return u().then((function(e){e&&I(n(),null)}))}})))},Ze=a(374),Ke=[{name:"id",label:"ID",width:"30%",options:{sort:!1}},{name:"name",label:"Nome",width:"43%"},{name:"is_active",label:"Ativo?",width:"5%",options:{filterOptions:{names:["Sim","N\xe3o"]},customBodyRender:function(e){return e?o.a.createElement(Ze.a,{label:"Sim",color:"primary"}):o.a.createElement(Ze.a,{label:"N\xe3o",color:"secondary"})}}},{name:"created_at",label:"Criado em",width:"10%",options:{customBodyRender:function(e,t,a){return o.a.createElement("span",null,Object(X.a)(Object(Z.a)(e),"dd/MM/yyyy"))}}},{name:"actions",label:"A\xe7\xf5es",width:"13%",options:{sort:!1,customBodyRender:function(e,t){return o.a.createElement(H.a,{color:"secondary",component:W.b,to:"/categories/".concat(t.rowData[0],"/edit")},o.a.createElement(Q.a,null))}}}],Je=o.a.createElement(B.a,{variant:"outlined",color:"primary",component:W.b,to:"/categories/create"},"Adicionar"),$e=[10,25,50],et=function(){var e=Object(g.b)().enqueueSnackbar,t=Object(r.useRef)(!0),a=Object(r.useState)([]),n=Object(f.a)(a,2),c=n[0],i=n[1],l=Object(r.useContext)(_.a),s=Ce(),u=s.openDeleteDialog,d=s.setOpenDeleteDialog,b=s.rowsToDelete,h=s.setRowsToDelete,v=Object(r.useRef)(),O=De({columns:Ke,debounceTime:300,rowsPerPage:15,rowsPerPageOptions:$e,tableRef:v}),j=O.columns,E=O.cleanSearchText,x=O.filterManager,y=O.filterState,P=O.debouncedFilterState,C=O.totalRecords,k=O.setTotalRecords,w=E(P.search),F=Object(r.useCallback)(function(){var a=Object(m.a)(p.a.mark((function a(n){var r,o,c,l,s,m,f;return p.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r=n.search,o=n.page,c=n.per_page,l=n.sort,s=n.dir,a.prev=1,a.next=4,He.list({queryParams:{search:r,page:o,per_page:c,sort:l,dir:s}});case 4:m=a.sent,f=m.data,t.current&&(i(f.data),k(f.meta.total),u&&d(!1)),a.next=15;break;case 9:if(a.prev=9,a.t0=a.catch(1),console.error(a.t0),!He.isCancelledRequest(a.t0)){a.next=14;break}return a.abrupt("return");case 14:e("N\xe3o foi poss\xedvel carregar as informa\xe7\xf5es.",{variant:"error"});case 15:case"end":return a.stop()}}),a,null,[[1,9]])})));return function(e){return a.apply(this,arguments)}}(),[e,k,u,d]);return Object(r.useEffect)((function(){return t.current=!0,F({search:w,page:P.pagination.page,per_page:P.pagination.per_page,sort:P.order.sort,dir:P.order.dir}),function(){t.current=!1}}),[F,w,P.pagination.page,P.pagination.per_page,P.order]),o.a.createElement(o.a.Fragment,null,o.a.createElement(Pe,{open:u,handleClose:function(t){if(t){var a=b.data.map((function(e){return c[e.index].id})).join(",");He.deleteCollection({ids:a}).then((function(t){if(e("Registros excluidos com sucesso!",{variant:"success"}),b.data.length===y.pagination.per_page&&y.pagination.page>1){var a=y.pagination.page-2;x.changePage(a)}else F({search:w,page:P.pagination.page,per_page:P.pagination.per_page,sort:P.order.sort,dir:P.order.dir})})).catch((function(t){console.error(t),e("N\xe3o foi poss\xedvel excluir os registros",{variant:"error"})}))}else d(!1)}}),o.a.createElement(be,{title:Je,columns:j,data:c,loading:l,debouncedSearchTime:300,ref:v,options:{serverSide:!0,responsive:"standard",searchText:y.search,page:y.pagination.page-1,rowsPerPage:y.pagination.per_page,rowsPerPageOptions:$e,count:C,onFilterChange:function(e,t,a){if("reset"!==a){var n=j.findIndex((function(t){return t.name===e}));x.changeExtraFilter(Object(z.a)({},e,t[n]&&t[n].length?t[n][0]:null))}else x.resetFilter()},customToolbar:function(){return o.a.createElement(Me,{handleClick:function(){return x.resetFilter()}})},onSearchChange:function(e){return x.changeSearch(e)},onChangePage:function(e){return x.changePage(e)},onChangeRowsPerPage:function(e){return x.changeRowsPerPage(e)},onColumnSortChange:function(e,t){return x.changeColumnSort(e,t)},onRowsDelete:function(e){return h(e),!1}}}))},tt=function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement("h1",null,"Listagem de categorias"),o.a.createElement(et,null))},at=function(){return o.a.createElement("h1",null,"Dashboard")},nt=new j.a(E.c,"genres"),rt=a(343),ot=O.e().shape({name:O.g().required("O nome \xe9 obrigat\xf3rio"),categories_id:O.a().required("A categoria \xe9 obrigat\xf3rio"),is_active:O.b()}),ct=function(){var e=Object(b.c)({resolver:Object(h.a)(ot)}),t=e.register,a=e.handleSubmit,n=e.getValues,c=e.setValue,i=e.errors,l=e.reset,s=e.watch,u=e.trigger,d=Object(g.b)().enqueueSnackbar,O=Object(v.f)(),j=Object(v.h)().id,E=Object(r.useState)("save"),x=Object(f.a)(E,2),y=x[0],P=x[1],C=Object(r.useState)([]),k=Object(f.a)(C,2),S=k[0],T=k[1],R=Object(r.useState)(null),A=Object(f.a)(R,2),I=A[0],D=A[1],N=Object(r.useContext)(_.a);Object(r.useEffect)((function(){t({name:"categories_id"})}),[t]),Object(r.useEffect)((function(){var e=!0;function t(){return(t=Object(m.a)(p.a.mark((function t(){var a,n,r,o,c;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=[He.list()],j&&a.push(nt.get(j)),t.prev=2,t.next=5,Promise.all(a);case 5:n=t.sent,r=Object(f.a)(n,2),o=r[0],c=r[1],e&&(T(o.data.data),j&&(D(c.data.data),l(Object(G.a)(Object(G.a)({},c.data.data),{},{categories_id:c.data.data.categories.map((function(e){return e.id}))})))),t.next=16;break;case 12:t.prev=12,t.t0=t.catch(2),console.error(t.t0),d("N\xe3o foi poss\xedvel carregar as informa\xe7\xf5es :(",{variant:"error"});case 16:case"end":return t.stop()}}),t,null,[[2,12]])})))).apply(this,arguments)}return function(){t.apply(this,arguments)}(),function(){e=!1}}),[j,d,l]);var L=function(){var e=Object(m.a)(p.a.mark((function e(t,a){var n,r,o;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=I?nt.update(I.id,t):nt.create(t),e.next=4,n;case 4:r=e.sent,o=r.data,d("G\xeanero salvo com sucesso!",{variant:"success"}),setTimeout((function(){if("save"===y&&O.push("/genres"),"save-and-new"===y&&O.push("/genres/create"),"save-and-edit"===y){var e=o.data.id,t="/genres/".concat(e,"/edit");j?O.replace(t):O.push(t)}}),2e3),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0),d("N\xe3o foi poss\xedvel salvar o g\xeanero :(",{variant:"error"});case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,a){return e.apply(this,arguments)}}();return o.a.createElement(o.a.Fragment,null,o.a.createElement("h1",null,j?"Editar":"Adicionar um novo"," g\xeanero"),o.a.createElement(w,{GridItemProps:{xs:12,md:6},onSubmit:a(L)},o.a.createElement(F.a,{name:"name",label:"Nome",fullWidth:!0,variant:"outlined",disabled:N,inputRef:t,error:void 0!==i.name,helperText:i.name&&i.name.message,InputLabelProps:{shrink:!0}}),o.a.createElement(F.a,{name:"categories_id",label:"Categorias",select:!0,SelectProps:{multiple:!0},value:s("categories_id"),fullWidth:!0,variant:"outlined",margin:"normal",onChange:function(e){return c("categories_id",e.target.value)},disabled:N,error:void 0!==i.categories_id,helperText:i.categories_id&&i.categories_id.message,InputLabelProps:{shrink:!0}},S.map((function(e){return o.a.createElement(rt.a,{key:e.id,value:e.id},e.name)}))),o.a.createElement(M,{setFormType:P,loading:N,handleSave:function(){return u().then((function(e){e&&L(n(),null)}))}})))},it=[{name:"id",label:"ID",width:"30%",options:{sort:!1,filter:!1}},{name:"name",label:"Nome",width:"23%",options:{filter:!1}},{name:"categories",label:"Categorias",options:{filterType:"multiselect",filterOptions:{names:[]},customBodyRender:function(e){return e.map((function(e){return e.name})).join(", ")}}},{name:"is_active",label:"Ativo?",width:"5%",options:{filter:!1,filterOptions:{names:["Sim","N\xe3o"]},customBodyRender:function(e){return e?o.a.createElement(Ze.a,{label:"Sim",color:"primary"}):o.a.createElement(Ze.a,{label:"N\xe3o",color:"secondary"})}}},{name:"created_at",label:"Criado em",width:"10%",options:{filter:!1,customBodyRender:function(e){return o.a.createElement("span",null,Object(X.a)(Object(Z.a)(e),"dd/MM/yyyy"))}}},{name:"actions",label:"A\xe7\xf5es",width:"13%",options:{filter:!1,sort:!1,customBodyRender:function(e,t){return o.a.createElement("span",null,o.a.createElement(H.a,{color:"secondary",component:W.b,to:"/genres/".concat(t.rowData[0],"/edit")},o.a.createElement(Q.a,null)))}}}],lt=o.a.createElement(B.a,{variant:"outlined",color:"primary",component:W.b,to:"/genres/create"},"Adicionar"),st=[10,25,50],ut=function(){var e=Object(g.b)().enqueueSnackbar,t=Object(r.useRef)(!0),a=Object(r.useState)([]),n=Object(f.a)(a,2),c=n[0],i=n[1],l=Object(r.useState)([]),s=Object(f.a)(l,2)[1],u=Object(r.useContext)(_.a),d=Ce(),b=d.openDeleteDialog,h=d.setOpenDeleteDialog,v=d.rowsToDelete,j=d.setRowsToDelete,E=Object(r.useRef)(),x=Object(r.useMemo)((function(){return{createValidationSchema:function(){return O.e().shape({categories:O.c().nullable().transform((function(e){return e&&""!==e?e.split(","):void 0})).default(null)})},formatSearchParams:function(e){return e.extraFilter?Object(G.a)({},e.extraFilter.categories&&{categories:e.extraFilter.categories.join(",")}):void 0},getStateFromUrl:function(e){return{categories:e.get("categories")}}}}),[]),y=De({columns:it,debounceTime:300,rowsPerPage:15,rowsPerPageOptions:st,tableRef:E,extraFilter:x}),P=y.columns,C=y.cleanSearchText,k=y.filterManager,w=y.filterState,F=y.debouncedFilterState,S=y.totalRecords,T=y.setTotalRecords,R=C(F.search),A=P.findIndex((function(e){return"categories"===e.name})),I=P[A],D=w.extraFilter&&w.extraFilter.categories;I.options.filterList=D||[];var N=P.map((function(e){return[]}));D&&(N[A]=D),o.a.useEffect((function(){var t=!0;return Object(m.a)(p.a.mark((function a(){var n,r;return p.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,He.list({queryParams:{all:""}});case 3:n=a.sent,r=n.data,t&&(s(r.data),I.options.filterOptions.names=r.data.map((function(e){return e.name}))),a.next=12;break;case 8:a.prev=8,a.t0=a.catch(0),console.error(a.t0),e("N\xe3o foi poss\xedvel carregar as informa\xe7\xf5es.",{variant:"error"});case 12:case"end":return a.stop()}}),a,null,[[0,8]])})))(),function(){t=!1}}),[I.options,e]);var L=o.a.useCallback(function(){var a=Object(m.a)(p.a.mark((function a(n){var r,o,c,l,s,u,d,m;return p.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r=n.search,o=n.page,c=n.per_page,l=n.sort,s=n.dir,u=n.type,a.prev=1,a.next=4,nt.list({queryParams:Object(G.a)({search:r,page:o,per_page:c,sort:l,dir:s},u&&{categories:u})});case 4:d=a.sent,m=d.data,t.current&&(i(m.data),T(m.meta.total),b&&h(!1)),a.next=13;break;case 9:a.prev=9,a.t0=a.catch(1),console.error(a.t0),nt.isCancelledRequest(a.t0)&&e("N\xe3o foi poss\xedvel carregar as informa\xe7\xf5es.",{variant:"error"});case 13:case"end":return a.stop()}}),a,null,[[1,9]])})));return function(e){return a.apply(this,arguments)}}(),[e,T,b,h]);return Object(r.useEffect)((function(){return t.current=!0,L(Object(G.a)({search:R,page:F.pagination.page,per_page:F.pagination.per_page,sort:F.order.sort,dir:F.order.dir},F.extraFilter&&F.extraFilter.categories&&{categories:F.extraFilter.categories.join(",")})),function(){t.current=!1}}),[L,R,F.pagination.page,F.pagination.per_page,F.order,F.extraFilter]),o.a.createElement(o.a.Fragment,null,o.a.createElement(Pe,{open:b,handleClose:function(t){if(t){var a=v.data.map((function(e){return c[e.index].id})).join(",");nt.deleteCollection({ids:a}).then((function(t){if(e("Registros excluidos com sucesso!",{variant:"success"}),v.data.length===w.pagination.per_page&&w.pagination.page>1){var a=w.pagination.page-2;k.changePage(a)}})).catch((function(t){console.error(t),e("N\xe3o foi poss\xedvel excluir os registros",{variant:"error"})}))}else h(!1)}}),o.a.createElement(be,{title:lt,columns:P,data:c,loading:u,debouncedSearchTime:300,ref:E,options:{serverSide:!0,responsive:"standard",searchText:w.search,page:w.pagination.page-1,rowsPerPage:w.pagination.per_page,rowsPerPageOptions:st,count:S,onFilterChange:function(e,t,a){if("reset"!==a){var n=P.findIndex((function(t){return t.name===e}));k.changeExtraFilter(Object(z.a)({},e,t[n]&&t[n].length?t[n]:null))}else k.resetFilter()},customToolbar:function(){return o.a.createElement(Me,{handleClick:function(){return k.resetFilter()}})},onSearchChange:function(e){return k.changeSearch(e)},onChangePage:function(e){return k.changePage(e)},onChangeRowsPerPage:function(e){return k.changeRowsPerPage(e)},onColumnSortChange:function(e,t){return k.changeColumnSort(e,t)},onRowsDelete:function(e){return j(e),!1}}}))},dt=function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement("h1",null,"Listagem de g\xeaneros"),o.a.createElement(ut,null))},pt=a(545),mt=a(547),ft=a(556),gt=a(558),bt=a(76),ht=a(557),vt=a(400),Ot=a(555),jt=a(403),Et=a(215),xt=a.n(Et),yt=(a(388),a(402)),Pt=a(122);function Ct(e){return 1===e.progress||kt(e)}function kt(e){return wt(e)?e.files.some((function(e){return e.error})):void 0!==e.error}function wt(e){return"video"in e}var Ft=Object(P.a)((function(e){return{progressContainer:{position:"relative"},progressBackground:{color:Pt.a[300]},progress:{position:"absolute",left:0}}})),St=function(e){var t=Ft(),a=e.size,n=e.uploadOrFile,r=kt(n);return o.a.createElement(yt.a,{in:n.progress<1,timeout:{enter:2e3,exit:2e3}},o.a.createElement("div",{className:t.progressContainer},o.a.createElement(N.a,{variant:"static",value:100,className:t.progressBackground,size:a}),o.a.createElement(N.a,{variant:"static",value:r?0:100*n.progress,className:t.progress,size:a})))},Tt=a(213),Rt=a.n(Tt),At=a(214),It=a.n(At),Dt=a(104),Nt=a.n(Dt),Lt=a(67),Bt=a(70),qt=Object(P.a)((function(e){return{successIcon:{color:e.palette.success.main,marginLeft:e.spacing(1)},errorIcon:{color:e.palette.error.main,marginLeft:e.spacing(1)},divider:{height:"20px",marginLeft:e.spacing(1),marginRight:e.spacing(1)}}})),Mt=function(e){var t=qt(),a=e.uploadOrFile,n=Object(Lt.b)(),c=kt(a),i=Object(r.useState)(!1),l=Object(f.a)(i,2),s=l[0],u=l[1],d=Object(Ae.a)(s,1500),p=Object(f.a)(d,1)[0],m=a.video?a.video.id:"",g=wt(a);return Object(r.useEffect)((function(){u(Ct(a))}),[a]),p?o.a.createElement(yt.a,{in:!0,timeout:{enter:1e3}},o.a.createElement(o.a.Fragment,null,1===a.progress&&!c&&o.a.createElement(Rt.a,{className:t.successIcon}),c&&o.a.createElement(It.a,{className:t.errorIcon}),g&&o.a.createElement(o.a.Fragment,null,o.a.createElement(Ot.a,{className:t.divider,orientation:"vertical"}),o.a.createElement(H.a,{onClick:function(){return n(Bt.a.removeUpload({id:m}))}},o.a.createElement(Nt.a,{color:"primary"})),o.a.createElement(H.a,{component:W.b,to:"/videos/".concat(m,"/edit")},o.a.createElement(Q.a,{color:"primary"}))))):null},_t=Object(P.a)((function(e){return{icon:{color:e.palette.error.main,minWidth:"40px"},gridTitle:{display:"flex",color:"#999999"}}})),Vt=function(e){var t=_t(),a=e.uploadOrFile;return o.a.createElement(jt.a,null,o.a.createElement(C.a,{container:!0,alignItems:"center"},o.a.createElement(C.a,{className:t.gridTitle,item:!0,xs:12,md:9},o.a.createElement(xt.a,{className:t.icon}),o.a.createElement(bt.a,{color:"inherit"},e.children)),o.a.createElement(C.a,{item:!0,xs:12,md:3},o.a.createElement(C.a,{container:!0,direction:"row",alignItems:"center",justify:"flex-end"},o.a.createElement(St,{size:48,uploadOrFile:a}),o.a.createElement(Mt,{uploadOrFile:a})))))},Ut=a(548),zt=Object(P.a)({title:{color:"#999999"}}),Gt=function(e){var t=zt();return o.a.createElement("div",null,o.a.createElement(Ut.a,null,o.a.createElement(bt.a,{className:t.title,component:"h1",variant:"h5"},e.title),o.a.createElement(L.a,{paddingTop:1},e.children)))},Wt=a(216),Ht=a.n(Wt),Yt=Object(P.a)((function(e){return{panelSummary:{backgroundColor:e.palette.primary.main,color:e.palette.primary.contrastText},expendedIcon:{color:e.palette.primary.contrastText}}})),Qt=function(){var e=Yt(),t=Object(Lt.c)((function(e){return e.upload.uploads}));return o.a.createElement(Gt,{title:"Uploads"},t.map((function(t,a){return o.a.createElement(pt.a,{elevation:5,key:a},o.a.createElement(mt.a,null,o.a.createElement(Vt,{uploadOrFile:t},t.video.title),o.a.createElement(ft.a,{style:{margin:0}},o.a.createElement(gt.a,{className:e.panelSummary,expandIcon:o.a.createElement(Ht.a,{className:e.expendedIcon})},o.a.createElement(bt.a,null,"Ver detalhes")),o.a.createElement(ht.a,{style:{padding:"0px"}},o.a.createElement(C.a,{item:!0,xs:12},t.files.map((function(e,t){return o.a.createElement(o.a.Fragment,{key:t},o.a.createElement(vt.a,{dense:!0,style:{padding:"0px"}},o.a.createElement(Ot.a,null),o.a.createElement(Vt,{uploadOrFile:e},"".concat(he[e.fileField]," - ").concat(e.filename))))})))))))})))},Xt=function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement("h1",null,"Listagem de uploads"),o.a.createElement(Qt,null))},Zt=a(32),Kt=O.e().shape({title:O.g().max(255).required("O t\xedtulo \xe9 obrigat\xf3rio"),description:O.g().required("A descri\xe7\xe3o \xe9 obrigat\xf3rio"),year_launched:O.g().min(2).max(4).required("O ano de lan\xe7amento \xe9 obrigat\xf3rio"),duration:O.g().min(2).max(3).required("A dura\xe7\xe3o \xe9 obrigat\xf3rio"),rating:O.g().required("A classifica\xe7\xe3o \xe9 obrigat\xf3rio"),genres:O.g().test("notEmpty","O g\xeanero \xe9 obrigat\xf3rio",function(){var e=Object(m.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t&&t.length>2);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).test({name:"emptyCategory",message:"Cada g\xeanero escolhido precisa ter pelo menos uma categoria selecionada",test:function(e){var t=JSON.parse(e),a=JSON.parse(this.parent.categories);return t.every((function(e){return 0!==e.categories.filter((function(e){return a.map((function(e){return e.id})).includes(e.id)})).length}))}}).required("O g\xeanero \xe9 obrigat\xf3rio"),categories:O.g().test("notEmpty","A categoria \xe9 obrigat\xf3rio",function(){var e=Object(m.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t&&t.length>2);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).required("A categoria \xe9 obrigat\xf3rio"),cast_members:O.g().test("notEmpty","O membros de elencos \xe9 obrigat\xf3rio",function(){var e=Object(m.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t&&t.length>2);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).required("A categoria \xe9 obrigat\xf3rio"),opened:O.b()}),Jt=function(e,t){var a=Object(g.b)().enqueueSnackbar;Object(r.useEffect)((function(){var n=0!==Object.keys(t).length;e>0&&n&&a("Formul\xe1rio inv\xe1lido. Reveja os campos marcados de vermelho!",{variant:"error"})}),[e,t,a])},$t=a(574),ea=a(389),ta=Object(r.forwardRef)((function(e,t){var a=e.AutocompleteProps,n=e.debounceTime,c=void 0===n?300:n,i=e.fetchOptions,l=a,s=l.freeSolo,u=l.onOpen,d=l.onClose,g=l.onInputChange,b=Object(r.useState)(!1),h=Object(f.a)(b,2),v=h[0],O=h[1],j=Object(r.useState)(""),E=Object(f.a)(j,2),x=E[0],y=E[1],P=Object(ea.useDebounce)(x,c),C=Object(f.a)(P,1)[0],k=Object(r.useState)(!1),w=Object(f.a)(k,2),S=w[0],T=w[1],R=Object(r.useState)([]),A=Object(f.a)(R,2),I=A[0],D=A[1],L=Object(G.a)({margin:"normal",variant:"outlined",fullWidth:!0,InputLabelProps:{shrink:!0}},e.TextFieldProps&&Object(G.a)({},e.TextFieldProps)),B=Object(G.a)(Object(G.a)({loadingText:"Carregando...",noOptionsText:"Nenhum item encontrado"},a&&Object(G.a)({},a)),{},{open:v,options:I,loading:S,inputValue:x,onOpen:function(){O(!0),u&&u()},onClose:function(){O(!1),d&&d()},onInputChange:function(e,t){y(t),g&&g()},renderInput:function(e){return o.a.createElement(F.a,Object.assign({},e,L,{InputProps:Object(G.a)(Object(G.a)({},e.InputProps),{},{endAdornment:o.a.createElement(o.a.Fragment,null,S&&o.a.createElement(N.a,{color:"inherit",size:20}),e.InputProps.endAdornment)})}))}});return Object(r.useEffect)((function(){v||s||D([])}),[v,s]),Object(r.useEffect)((function(){if(v&&(""!==C||!s)){var e=!0;return Object(m.a)(p.a.mark((function t(){var a;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return T(!0),t.prev=1,t.next=4,i(C);case 4:a=t.sent,e&&D(a);case 6:return t.prev=6,T(!1),t.finish(6);case 9:case"end":return t.stop()}}),t,null,[[1,,6,9]])})))(),function(){e=!1}}}),[s,C,v,i]),Object(r.useImperativeHandle)(t,(function(){return{clear:function(){y(""),D([])}}})),o.a.createElement($t.a,B)})),aa=a(218),na=Object(P.a)((function(e){return Object(aa.a)({root:{backgroundColor:"#f1f1f1",borderRadius:"4px",padding:e.spacing(1,1),color:e.palette.secondary.main}})})),ra=function(e){var t=Object.assign({},e),a=na();return o.a.createElement(C.a,Object.assign({container:!0,wrap:"wrap",className:a.root},t),t.children)},oa=function(e){var t=e.onDelete,a=e.children,n=Object(y.a)(e,["onDelete","children"]);return o.a.createElement(C.a,Object.assign({item:!0},n),o.a.createElement(C.a,{container:!0,alignItems:"center",spacing:2},o.a.createElement(C.a,{item:!0,xs:1,md:1},o.a.createElement(H.a,{size:"small",color:"inherit",onClick:t},o.a.createElement(Nt.a,null))),o.a.createElement(C.a,{item:!0,xs:11,md:11},a)))},ca=a(108),ia=a.n(ca),la=function(){var e=Object(g.b)().enqueueSnackbar;return Object(r.useCallback)(function(){var t=Object(m.a)(p.a.mark((function t(a){var n,r;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,a;case 3:return n=t.sent,r=n.data,t.abrupt("return",r);case 8:throw t.prev=8,t.t0=t.catch(0),console.error(t.t0),ia.a.isCancel(t.t0)||e("N\xe3o foi poss\xedvel carregar as informa\xe7\xf5es",{variant:"error"}),t.t0;case 13:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}(),[e])},sa=function(e,t){var a=Object(g.b)();return{addItem:function(n){n&&""!==n&&(e.find((function(e){return e.id===n.id}))?a.enqueueSnackbar("Item j\xe1 adicionado",{variant:"info"}):(e.unshift(n),t(e)))},removeItem:function(a){var n=e.findIndex((function(e){return e.id===a.id}));-1!==n&&(e.splice(n,1),t(e))}}},ua=o.a.forwardRef((function(e,t){var a=la(),n=e.castMembers,c=e.setCastMembers,i=e.error,l=e.disabled,s=sa(n,c),u=s.addItem,d=s.removeItem,p=o.a.useRef(),m=Object(r.useCallback)((function(e){return a(x.list({queryParams:{search:e,all:""}})).then((function(e){return e.data}))}),[a]);return Object(r.useImperativeHandle)(t,(function(){return{clear:function(){return p.current.clear()}}})),o.a.createElement(o.a.Fragment,null,o.a.createElement(ta,{ref:p,AutocompleteProps:{clearOnEscape:!0,freeSolo:!0,getOptionLabel:function(e){return e.name},getOptionSelected:function(e,t){return e.id===t.id},onChange:function(e,t){return u(t)},disabled:l},fetchOptions:m,TextFieldProps:{label:"Elenco",error:void 0!==i}}),o.a.createElement(S.a,Object.assign({margin:"normal",fullWidth:!0,error:void 0!==i,disabled:!0===l},e.FormControlProps),o.a.createElement(ra,null,n.map((function(e,t){return o.a.createElement(oa,{key:t,onDelete:function(){d(e)},xs:6},o.a.createElement(bt.a,{noWrap:!0}," ",e.name," "))}))),i&&o.a.createElement(D.a,null,i.message)))}));function da(e,t){return e.filter((function(e){return 0!==e.categories.filter((function(e){return e.id===t.id})).length}))}var pa=Object(P.a)((function(e){return{genresSubtitle:{fontSize:"0.8rem",color:Pt.a[800]}}})),ma=Object(r.forwardRef)((function(e,t){var a=e.categories,n=e.setCategories,c=e.genres,i=e.error,l=e.disabled,s=la(),u=sa(a,n),d=u.addItem,p=u.removeItem,m=pa(),f=Object(r.useRef)(),g=Object(me.a)(),b=Object(r.useCallback)((function(){return s(He.list({queryParams:{genres:c.map((function(e){return e.id})).join(","),all:""}})).then((function(e){return e.data}))}),[s,c]);return Object(r.useImperativeHandle)(t,(function(){return{clear:function(){return f.current.clear()}}})),o.a.createElement(o.a.Fragment,null,o.a.createElement(ta,{ref:f,AutocompleteProps:{clearOnEscape:!0,freeSolo:!1,getOptionLabel:function(e){return e.name},onChange:function(e,t){return d(t)},getOptionSelected:function(e,t){return e.id===t.id},disabled:!0===l||!c.length},fetchOptions:b,TextFieldProps:{label:"Categorias",error:void 0!==i}}),o.a.createElement(D.a,{style:{height:g.spacing(3)}},"Escolha pelo menos uma categoria de cada g\xeanero"),o.a.createElement(S.a,Object.assign({margin:"normal",fullWidth:!0,error:void 0!==i,disabled:!0===l},e.FormControlProps),o.a.createElement(ra,null,a.map((function(e,t){var a=da(c,e).map((function(e){return e.name})).join(", ");return o.a.createElement(oa,{key:t,onDelete:function(){return p(e)},xs:12},o.a.createElement(bt.a,{noWrap:!0}," ",e.name," "),o.a.createElement(bt.a,{noWrap:!0,className:m.genresSubtitle}," ",a," "))}))),i&&o.a.createElement(D.a,null,i.message)))})),fa=Object(r.forwardRef)((function(e,t){var a=la(),n=e.genres,c=e.setGenres,i=e.categories,l=e.setCategories,s=e.error,u=e.disabled,d=sa(n,c),p=d.addItem,m=d.removeItem,f=sa(i,l).removeItem,g=Object(r.useRef)(),b=Object(me.a)(),h=Object(r.useCallback)((function(e){return a(nt.list({queryParams:{search:e,all:""}})).then((function(e){return e.data}))}),[a]);return Object(r.useImperativeHandle)(t,(function(){return{clear:function(){return g.current.clear()}}})),o.a.createElement(o.a.Fragment,null,o.a.createElement(ta,{ref:g,AutocompleteProps:{clearOnEscape:!0,freeSolo:!0,getOptionLabel:function(e){return e.name},getOptionSelected:function(e,t){return e.id===t.id},onChange:function(e,t){return p(t)},disabled:u},fetchOptions:h,TextFieldProps:{label:"G\xeaneros",error:void 0!==s}}),o.a.createElement(D.a,{style:{height:b.spacing(3)}},"Escolha os g\xeaneros do v\xeddeo"),o.a.createElement(S.a,Object.assign({margin:"normal",fullWidth:!0,error:void 0!==s,disabled:!0===u},e.FormControlProps),o.a.createElement(ra,null,n.map((function(e,t){return o.a.createElement(oa,{key:t,onDelete:function(){i.filter((function(t){return 1===da(n,t).length&&n[0].id===e.id})).forEach((function(e){return f(e)})),m(e)},xs:12},o.a.createElement(bt.a,{noWrap:!0}," ",e.name," "))}))),s&&o.a.createElement(D.a,null,s.message)))})),ga=a(87),ba=a(546),ha=a(398),va=a(152),Oa=a.n(va),ja=a(390),Ea=a.n(ja),xa=a(524),ya=a(257),Pa=Object(P.a)((function(e){return{progressContainer:{position:"relative"},progressBackground:{color:Pt.a[300]},progress:{position:"absolute",left:0}}})),Ca=function(e){var t=Pa(),a=e.size,n=e.uploadOrFile,r=kt(n);return o.a.createElement(yt.a,{in:n.progress<1,timeout:{enter:2e3,exit:2e3}},o.a.createElement("div",{className:t.progressContainer},o.a.createElement(N.a,{variant:"static",value:100,className:t.progressBackground,size:a}),o.a.createElement(N.a,{variant:"static",value:r?0:100*n.progress,className:t.progress,size:a})))},ka=a(563),wa=Object(P.a)((function(e){return{successIcon:{color:e.palette.success.main},errorIcon:{color:e.palette.error.main},deleteIcon:{color:e.palette.primary.main}}})),Fa=function(e){var t=wa(),a=e.upload,n=e.hover,c=Object(Lt.b)(),i=kt(a),l=Object(r.useState)(!1),s=Object(f.a)(l,2),u=s[0],d=s[1],p=Object(Ae.a)(u,1500),m=Object(f.a)(p,1)[0];return Object(r.useEffect)((function(){d(Ct(a))}),[a]),m?o.a.createElement(yt.a,{in:u,timeout:{enter:1e3}},o.a.createElement(ka.a,null,o.a.createElement("span",{hidden:n},1===a.progress&&!i&&o.a.createElement(H.a,{className:t.successIcon,edge:"end"},o.a.createElement(Rt.a,null)),i&&o.a.createElement(H.a,{className:t.errorIcon,edge:"end"},o.a.createElement(It.a,null))),o.a.createElement("span",{hidden:!n},o.a.createElement(H.a,{className:t.deleteIcon,edge:"end",onClick:function(){return c(Bt.a.removeUpload({id:a.video.id}))}},o.a.createElement(Nt.a,null))))):null},Sa=Object(P.a)((function(e){return{movieIcon:{color:e.palette.error.main,minWidth:"40px"},listItem:{paddingTop:"7px",paddingBottom:"7px",height:"53px"},listItemText:{marginLeft:"6px",marginRight:"24px",color:e.palette.text.secondary}}})),Ta=function(e){var t=e.upload,a=Sa(),n=kt(t),r=o.a.useState(!1),c=Object(f.a)(r,2),i=c[0],l=c[1];return o.a.createElement(o.a.Fragment,null,o.a.createElement(Ne.a,{disableFocusListener:!0,disableTouchListener:!0,title:n?"N\xe3o foi poss\xedvel fazer o upload, clique para mais detalhes":"",placement:"left"},o.a.createElement(jt.a,{button:!0,className:a.listItem,onMouseOver:function(){return l(!0)},onMouseLeave:function(){return l(!1)}},o.a.createElement(xa.a,{className:a.movieIcon},o.a.createElement(xt.a,null)),o.a.createElement(ya.a,{className:a.listItemText,primary:o.a.createElement(bt.a,{noWrap:!0,variant:"subtitle2",color:"primary"},t.video.title)}),o.a.createElement(Ca,{size:30,uploadOrFile:t}),o.a.createElement(Fa,{upload:t,hover:i}))),o.a.createElement(Ot.a,{component:"li"}))},Ra=Object(P.a)((function(e){return{card:{width:"450px"},cardActionRoot:{padding:"8px 8px 8px 16px",backgroundColor:e.palette.primary.main},title:{fontWeight:"bold",color:e.palette.primary.contrastText},icons:{marginLeft:"auto !important",color:e.palette.primary.contrastText},expand:{transform:"rotate(0deg)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},expandOpen:{transform:"rotate(180deg)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},list:{paddingTop:"0px",paddingBottom:"0px"}}})),Aa=o.a.forwardRef((function(e,t){var a=e.id,n=Object(g.b)().closeSnackbar,r=Ra(),c=o.a.useState(!0),i=Object(f.a)(c,2),l=i[0],s=i[1],u=Object(Lt.c)((function(e){return e.upload.uploads})),d=function(e){return e.filter((function(e){return!Ct(e)})).length}(u);return o.a.createElement(pt.a,{ref:t,className:r.card},o.a.createElement(ba.a,{classes:{root:r.cardActionRoot}},o.a.createElement(bt.a,{variant:"subtitle2",className:r.title},"Fazendo upload de ",d," video(s)"),o.a.createElement("div",{className:r.icons},o.a.createElement(H.a,{color:"inherit",onClick:function(){return s(!l)},className:Ea()(r.expand,Object(z.a)({},r.expandOpen,!l))},o.a.createElement(Ht.a,null)),o.a.createElement(H.a,{color:"inherit",onClick:function(){return n(a)}},o.a.createElement(Oa.a,null)))),o.a.createElement(ha.a,{in:l},o.a.createElement(vt.a,{className:r.list},u.map((function(e,t){return o.a.createElement(Ta,{key:t,upload:e})})))))})),Ia=Object(P.a)({root:{width:"36px",height:"36px",fontSize:"1.2em",color:"#ffffff",borderRadius:"4px",display:"flex",alignItems:"center",justifyContent:"center"}}),Da={L:"#39b549",10:"#20A3D4",12:"#E79738",14:"#E35E00",16:"#d00003",18:"#000000"},Na=function(e){var t=Ia();return o.a.createElement(bt.a,{className:t.root,style:{backgroundColor:Da[e.rating]}},e.rating)},La=[{value:"L",control:o.a.createElement(I.a,{color:"primary"}),label:o.a.createElement(Na,{rating:"L"}),labelPlacement:"top"},{value:"10",control:o.a.createElement(I.a,{color:"primary"}),label:o.a.createElement(Na,{rating:"10"}),labelPlacement:"top"},{value:"12",control:o.a.createElement(I.a,{color:"primary"}),label:o.a.createElement(Na,{rating:"12"}),labelPlacement:"top"},{value:"14",control:o.a.createElement(I.a,{color:"primary"}),label:o.a.createElement(Na,{rating:"14"}),labelPlacement:"top"},{value:"16",control:o.a.createElement(I.a,{color:"primary"}),label:o.a.createElement(Na,{rating:"16"}),labelPlacement:"top"},{value:"18",control:o.a.createElement(I.a,{color:"primary"}),label:o.a.createElement(Na,{rating:"18"}),labelPlacement:"top"}],Ba=function(e){var t=e.value,a=e.setValue,n=e.error,r=e.disabled;return o.a.createElement(S.a,Object.assign({error:void 0!==n,disabled:!0===r},e.FormControlProps),o.a.createElement(T.a,{component:"legend"},"Classifica\xe7\xe3o"),o.a.createElement(L.a,{paddingTop:1},o.a.createElement(R.a,{name:"rating",onChange:function(e){a(e.target.value)},value:t,row:!0},La.map((function(e,t){return o.a.createElement(A.a,Object.assign({key:t},e))})))),n&&o.a.createElement(D.a,null,n.message))},qa=a(560),Ma=o.a.forwardRef((function(e,t){var a=Object(r.useRef)(),n=Object(r.useState)(""),c=Object(f.a)(n,2),i=c[0],l=c[1],s=Object(G.a)(Object(G.a)({variant:"outlined"},e.TextFieldProps),{},{InputProps:Object(G.a)(Object(G.a)({},e.TextFieldProps&&e.TextFieldProps.inputProps&&Object(G.a)({},e.TextFieldProps.InputProps)),{},{readOnly:!0,endAdornment:o.a.createElement(qa.a,{position:"end"},e.ButtonFile)}),value:i}),u=Object(G.a)(Object(G.a)({},e.InputFileProps),{},{hidden:!0,ref:a,onChange:function(t){var a=t.target.files;a.length&&l(Array.from(a).map((function(e){return e.name})).join(", ")),e.InputFileProps&&e.InputFileProps.onChange&&e.InputFileProps.onChange(t)}});return Object(r.useImperativeHandle)(t,(function(){return{openWindow:function(){return a.current.click()},clear:function(){return l("")}}})),o.a.createElement("div",null,o.a.createElement("input",Object.assign({type:"file"},u)),o.a.createElement(F.a,s))})),_a=a(391),Va=a.n(_a),Ua=Object(r.forwardRef)((function(e,t){var a=Object(r.useRef)(),n=e.accept,c=e.label,i=e.setValue,l=e.error,s=e.disabled;return Object(r.useImperativeHandle)(t,(function(){return{clear:function(){return a.current.clear()}}})),o.a.createElement(S.a,Object.assign({error:void 0!==l,disabled:!0===s,fullWidth:!0,margin:"normal"},e.FormControlProps),o.a.createElement(Ma,{ref:a,TextFieldProps:{label:c,InputLabelProps:{shrink:!0},style:{backgroundColor:"#ffffff",width:"100%"}},InputFileProps:{accept:n,onChange:function(e){var t=e.target.files;t.length&&i(t[0])}},ButtonFile:o.a.createElement(B.a,{endIcon:o.a.createElement(Va.a,null),variant:"contained",color:"primary",onClick:function(){return a.current.openWindow()}},"Adicionar")}))})),za=Object.keys(he),Ga=Object(P.a)((function(e){return{cardUpload:{borderRadios:"14px",backgroundColor:"#f5f5f5",margin:e.spacing(2,0)},cardOpened:{borderRadius:"4px",backgroundColor:"#f5f5f5"},cardContentOpened:{paddingBottom:e.spacing(2)+"px !important"}}})),Wa=function(){var e=Ga(),t=Object(b.c)({resolver:Object(h.a)(Kt),defaultValues:{genres:[],categories:[],cast_members:[],rating:null,opened:!1}}),a=t.register,n=t.handleSubmit,c=t.getValues,i=t.setValue,l=t.errors,s=t.reset,u=t.watch,d=t.trigger,O=t.formState;Jt(O.submitCount,l);var j=Object(me.a)(),E=Object(g.b)().enqueueSnackbar,x=Object(v.f)(),y=Object(v.h)().id,P=Object(r.useState)("save"),k=Object(f.a)(P,2),S=k[0],T=k[1],R=Object(r.useState)(null),I=Object(f.a)(R,2),D=I[0],N=I[1],L=Object(r.useContext)(_.a),B=Object(Lt.b)(),q=Object(fe.a)(j.breakpoints.up("md")),V=Object(r.useRef)(Object(K.zipObject)(za,za.map((function(){return Object(r.createRef)()})))),U=Object(r.useRef)(),z=Object(r.useRef)(),G=Object(r.useRef)(),W=Object(r.useCallback)((function(e){Object.keys(V.current).forEach((function(e){return V.current[e].current.clear()})),U.current&&U.current.clear(),z.current&&z.current.clear(),G.current&&G.current.clear(),s(e)}),[U,z,G,s,V]);Object(r.useEffect)((function(){["rating","opened","genres","categories","cast_members"].concat(Object(Zt.a)(za)).forEach((function(e){return a({name:e})}))}),[a]),Object(r.useEffect)((function(){if(y){var e=!0;return function(){t.apply(this,arguments)}(),function(){e=!1}}function t(){return(t=Object(m.a)(p.a.mark((function t(){var a,n;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ga.a.get(y);case 3:a=t.sent,n=a.data,e&&(N(n.data),s(n.data)),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(0),console.error(t.t0),E("N\xe3o foi poss\xedvel carregar as informa\xe7\xf5es.",{variant:"error"});case 12:case"end":return t.stop()}}),t,null,[[0,8]])})))).apply(this,arguments)}}),[y,s,E]);var H=Object(r.useCallback)(function(){var e=Object(m.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=za.filter((function(e){return c()[e]})).map((function(e){return{fileField:e,file:c()[e]}})),console.log(a),a.length){e.next=4;break}return e.abrupt("return");case 4:B(Bt.a.addUpload({video:t,files:a})),E("",{key:"snackbar-upload",persist:!0,anchorOrigin:{vertical:"bottom",horizontal:"right"},content:function(e,t){var a=e;return o.a.createElement(Aa,{id:a})}});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[B,E,c]),Y=function(){var e=Object(m.a)(p.a.mark((function e(t,a){var n,r,o,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Object(K.omit)(t,[].concat(Object(Zt.a)(za),["cast_members","genres","categories"]))).cast_members_id=t.cast_members.map((function(e){return e.id})),n.categories_id=t.categories.map((function(e){return e.id})),n.genres_id=t.genres.map((function(e){return e.id})),e.prev=4,r=D?ga.a.update(D.id,n):ga.a.create(n),e.next=8,r;case 8:o=e.sent,c=o.data,E("V\xeddeo salvo com sucesso!",{variant:"success"}),H(c.data),y&&W(D),setTimeout((function(){if("save"===S&&x.push("/videos"),"save-and-new"===S&&x.push("/videos/create"),"save-and-edit"===S){var e=c.data.id,t="/videos/".concat(e,"/edit");y?x.replace(t):x.push(t)}}),2e3),e.next=20;break;case 16:e.prev=16,e.t0=e.catch(4),console.error(e.t0),E("N\xe3o foi poss\xedvel salvar o v\xeddeo :(",{variant:"error"});case 20:case"end":return e.stop()}}),e,null,[[4,16]])})));return function(t,a){return e.apply(this,arguments)}}();return o.a.createElement(o.a.Fragment,null,o.a.createElement("h1",null,y?"Editar":"Adicionar um novo"," v\xeddeo"),o.a.createElement(w,{onSubmit:n(Y)},o.a.createElement(C.a,{container:!0,spacing:5},o.a.createElement(C.a,{item:!0,xs:12,md:6},o.a.createElement(F.a,{name:"title",label:"T\xedtulo",fullWidth:!0,variant:"outlined",disabled:L,inputRef:a,error:void 0!==l.title,helperText:l.title&&l.title.message,InputLabelProps:{shrink:!0}}),o.a.createElement(F.a,{name:"description",label:"Sinopse",multiline:!0,rows:"4",fullWidth:!0,variant:"outlined",disabled:L,margin:"normal",inputRef:a,InputLabelProps:{shrink:!0},error:void 0!==l.description,helperText:l.description&&l.description.message}),o.a.createElement(C.a,{container:!0,spacing:1},o.a.createElement(C.a,{item:!0,xs:6},o.a.createElement(F.a,{name:"year_launched",label:"Ano de lan\xe7amento",type:"number",fullWidth:!0,variant:"outlined",disabled:L,inputRef:a,error:void 0!==l.year_launched,helperText:l.year_launched&&l.year_launched.message,InputLabelProps:{shrink:!0}})),o.a.createElement(C.a,{item:!0,xs:6},o.a.createElement(F.a,{name:"duration",label:"Dura\xe7\xe3o",type:"number",fullWidth:!0,variant:"outlined",disabled:L,inputRef:a,error:void 0!==l.duration,helperText:l.duration&&l.duration.message,InputLabelProps:{shrink:!0}}))),o.a.createElement(ua,{castMembers:u("cast_members"),setCastMembers:function(e){return i("cast_members",e)},error:l.cast_members,disabled:L}),o.a.createElement(C.a,{container:!0,spacing:2},o.a.createElement(C.a,{item:!0,xs:12,md:6},o.a.createElement(fa,{genres:u("genres"),setGenres:function(e){return i("genres",e)},categories:u("categories"),setCategories:function(e){return i("categories",e)},error:l.genres,disabled:L})),o.a.createElement(C.a,{item:!0,xs:12,md:6},o.a.createElement(ma,{categories:u("categories"),setCategories:function(e){return i("categories",e)},genres:u("genres"),error:l.categories,disabled:L})))),o.a.createElement(C.a,{item:!0,xs:12,md:6},o.a.createElement(Ba,{value:u("rating"),setValue:function(e){return i("rating",e)},error:l.rating,disabled:L,FormControlProps:{margin:q?"none":"normal"}}),o.a.createElement("br",null),o.a.createElement(pt.a,{className:e.cardUpload},o.a.createElement(mt.a,null,o.a.createElement(bt.a,{color:"primary",variant:"h6"},"Imagens"),o.a.createElement(Ua,{ref:V.current.thumb_file,accept:"image/*",label:"Thumb",setValue:function(e){return i("thumb_file",e)}}),o.a.createElement(Ua,{ref:V.current.banner_file,accept:"image/*",label:"Banner",setValue:function(e){return i("banner_file",e)}}))),o.a.createElement(pt.a,{className:e.cardUpload},o.a.createElement(mt.a,null,o.a.createElement(bt.a,{color:"primary",variant:"h6"},"V\xeddeos"),o.a.createElement(Ua,{ref:V.current.trailer_file,accept:"video/mp4",label:"Trailer",setValue:function(e){return i("trailer_file",e)}}),o.a.createElement(Ua,{ref:V.current.video_file,accept:"video/mp4",label:"Principal",setValue:function(e){return i("video_file",e)}}))),o.a.createElement("br",null),o.a.createElement(pt.a,{className:e.cardOpened},o.a.createElement(mt.a,{className:e.cardContentOpened},o.a.createElement(A.a,{control:o.a.createElement(Ye.a,{name:"opened",color:"primary",onChange:function(){return i("opened",!c().opened)},checked:u("opened"),disabled:L}),label:o.a.createElement(bt.a,{color:"primary",variant:"subtitle2"},"Quero que este conte\xfado apare\xe7a na se\xe7\xe3o lan\xe7amentos"),labelPlacement:"end"}))))),o.a.createElement(M,{setFormType:T,loading:L,handleSave:function(){return d().then((function(e){e&&Y(c(),null)}))}})))},Ha=[{name:"id",label:"ID",width:"30%",options:{filter:!1,sort:!1}},{name:"title",label:"T\xedtulo",width:"43%",options:{filter:!1}},{name:"genres",label:"G\xeaneros",options:{filterType:"multiselect",filterOptions:{names:[]},customBodyRender:function(e){return e.map((function(e){return e.name})).join(", ")}}},{name:"categories",label:"Categorias",options:{filterType:"multiselect",filterOptions:{names:[]},customBodyRender:function(e){return e.map((function(e){return e.name})).join(", ")}}},{name:"rating",label:"Classifica\xe7\xe3o",width:"5%",options:{filter:!1}},{name:"created_at",label:"Criado em",width:"10%",options:{filter:!1,customBodyRender:function(e){return o.a.createElement("span",null,Object(X.a)(Object(Z.a)(e),"dd/MM/yyyy"))}}},{name:"actions",label:"A\xe7\xf5es",width:"13%",options:{sort:!1,filter:!1,customBodyRender:function(e,t){return o.a.createElement("span",null,o.a.createElement(H.a,{color:"secondary",component:W.b,to:"/videos/".concat(t.rowData[0],"/edit")},o.a.createElement(Q.a,null)))}}}],Ya=o.a.createElement(B.a,{variant:"outlined",color:"primary",component:W.b,to:"/videos/create"},"Adicionar"),Qa=[10,25,50],Xa=function(){var e=Object(g.b)().enqueueSnackbar,t=Object(r.useRef)(!0),a=Object(r.useState)([]),n=Object(f.a)(a,2),c=n[0],i=n[1],l=Object(r.useContext)(_.a),s=Ce(),u=s.openDeleteDialog,d=s.setOpenDeleteDialog,b=s.rowsToDelete,h=s.setRowsToDelete,v=Object(r.useRef)(),O=De({columns:Ha,debounceTime:300,rowsPerPage:15,rowsPerPageOptions:Qa,tableRef:v}),j=O.columns,E=O.cleanSearchText,x=O.filterManager,y=O.filterState,P=O.debouncedFilterState,C=O.totalRecords,k=O.setTotalRecords,w=E(P.search),F=Object(r.useCallback)(function(){var a=Object(m.a)(p.a.mark((function a(n){var r,o,c,l,s,m,f;return p.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r=n.search,o=n.page,c=n.per_page,l=n.sort,s=n.dir,a.prev=1,a.next=4,ga.a.list({queryParams:{search:r,page:o,per_page:c,sort:l,dir:s}});case 4:m=a.sent,f=m.data,t.current&&(i(f.data),k(f.meta.total),u&&d(!1)),a.next=15;break;case 9:if(a.prev=9,a.t0=a.catch(1),console.error(a.t0),!ga.a.isCancelledRequest(a.t0)){a.next=14;break}return a.abrupt("return");case 14:e("N\xe3o foi poss\xedvel carregar as informa\xe7\xf5es.",{variant:"error"});case 15:case"end":return a.stop()}}),a,null,[[1,9]])})));return function(e){return a.apply(this,arguments)}}(),[e,k,u,d]);return Object(r.useEffect)((function(){return t.current=!0,F({search:w,page:P.pagination.page,per_page:P.pagination.per_page,sort:P.order.sort,dir:P.order.dir}),function(){t.current=!1}}),[F,w,P.pagination.page,P.pagination.per_page,P.order]),o.a.createElement(o.a.Fragment,null,o.a.createElement(Pe,{open:u,handleClose:function(t){if(t){var a=b.data.map((function(e){return c[e.index].id})).join(",");ga.a.deleteCollection({ids:a}).then((function(t){if(e("Registros excluidos com sucesso!",{variant:"success"}),b.data.length===y.pagination.per_page&&y.pagination.page>1){var a=y.pagination.page-2;x.changePage(a)}else F({search:w,page:P.pagination.page,per_page:P.pagination.per_page,sort:P.order.sort,dir:P.order.dir})})).catch((function(t){console.error(t),e("N\xe3o foi poss\xedvel excluir os registros",{variant:"error"})}))}else d(!1)}}),o.a.createElement(be,{title:Ya,columns:j,data:c,loading:l,debouncedSearchTime:300,ref:v,options:{serverSide:!0,responsive:"standard",searchText:y.search,page:y.pagination.page-1,rowsPerPage:y.pagination.per_page,rowsPerPageOptions:Qa,count:C,onFilterChange:function(e,t,a){if("reset"!==a){var n=j.findIndex((function(t){return t.name===e}));x.changeExtraFilter(Object(z.a)({},e,t[n]&&t[n].length?t[n][0]:null))}else x.resetFilter()},customToolbar:function(){return o.a.createElement(Me,{handleClick:function(){return x.resetFilter()}})},onSearchChange:function(e){return x.changeSearch(e)},onChangePage:function(e){return x.changePage(e)},onChangeRowsPerPage:function(e){return x.changeRowsPerPage(e)},onColumnSortChange:function(e,t){return x.changeColumnSort(e,t)},onRowsDelete:function(e){return h(e),!1}}}))},Za=function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement("h1",null,"Listagem de v\xeddeos"),o.a.createElement(Xa,null))},Ka=[{name:"dashboard",label:"Dashboard",icon:o.a.createElement(c.a,null),path:"/",component:at,exact:!0},{name:"categories.list",label:"Categorias",icon:o.a.createElement(i.a,null),path:"/categories",component:tt,exact:!0},{name:"categories.create",label:"Adicionar categorias",icon:o.a.createElement(i.a,null),path:"/categories/create",component:Xe,exact:!0},{name:"categories.edit",label:"Editar categoria",icon:o.a.createElement(i.a,null),path:"/categories/:id/edit",component:Xe,exact:!0},{name:"cast_members.list",label:"Membros de elencos",icon:o.a.createElement(l.a,null),path:"/cast-members",component:We,exact:!0},{name:"cast_members.create",label:"Adicionar membros de elencos",icon:o.a.createElement(l.a,null),path:"/cast-members/create",component:U,exact:!0},{name:"cast_members.edit",label:"Editar membros de elencos",icon:o.a.createElement(i.a,null),path:"/cast-members/:id/edit",component:U,exact:!0},{name:"genres.list",label:"G\xeaneros",icon:o.a.createElement(i.a,null),path:"/genres",component:dt,exact:!0},{name:"genres.create",label:"Adicionar g\xeaneros",icon:o.a.createElement(i.a,null),path:"/genres/create",component:ct,exact:!0},{name:"genres.edit",label:"Editar g\xeaneros",icon:o.a.createElement(i.a,null),path:"/genres/:id/edit",component:ct,exact:!0},{name:"videos.list",label:"V\xeddeos",icon:o.a.createElement(s.a,null),path:"/videos",component:Za,exact:!0},{name:"videos.create",label:"Adicionar v\xeddeos",icon:o.a.createElement(s.a,null),path:"/videos/create",component:Wa,exact:!0},{name:"videos.edit",label:"Editar v\xeddeos",icon:o.a.createElement(s.a,null),path:"/videos/:id/edit",component:Wa,exact:!0},{name:"uploads.list",label:"Uploads",icon:o.a.createElement(u.a,null),path:"/uploads",component:Xt,exact:!0}];t.a=Ka},376:function(e,t){e.exports="data:image/png;base64,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"},377:function(e,t,a){"use strict";(function(e){var n=a(0),r=a.n(n),o=a(37),c=a(400),i=a(403),l=a(524),s=a(257),u=a(527),d=a(196),p=a(134),m=Object(d.a)((function(){return{list:{width:250},fullList:{width:"auto"}}})),f=e.browser&&/iPad|iPhone|iPod/.test(navigator.userAgent),g=["dashboard","categories.list","cast_members.list","genres.list","videos.list","uploads.list"],b=p.a.filter((function(e){return g.includes(e.name)}));t.a=function(e){var t=e.open,a=e.toggleDrawer,n=m(),d=r.a.createElement("div",{className:n.list,role:"presentation",onClick:a,onKeyDown:a},r.a.createElement(c.a,null,g.map((function(e,t){var a=b.find((function(t){return t.name===e}));return a?r.a.createElement(i.a,{button:!0,key:t,component:o.b,to:a.path},r.a.createElement(l.a,null,a.icon),r.a.createElement(s.a,{primary:a.label})):""}))));return r.a.createElement(u.a,{onClose:a,onOpen:a,open:t,disableBackdropTransition:!f,disableDiscovery:f},d)}}).call(this,a(245))},41:function(e,t,a){"use strict";var n=a(0),r=Object(n.createContext)(!1);t.a=r},410:function(e,t,a){e.exports=a(512)},512:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(19),c=a.n(o),i=a(13),l=a(17),s=a(196),u=a(544),d=a(346),p=a(203),m=a(76),f=a(335),g=a(392),b=a.n(g),h=a(376),v=a.n(h),O=a(377),j=Object(s.a)((function(e){return{appBar:{backgroundColor:"#000"},menuButton:{marginRight:e.spacing(2)},typography:{flexGrow:1,textAlign:"center"},logo:Object(l.a)({width:130},e.breakpoints.up("sm"),{width:170})}})),E=function(){var e=j(),t=Object(n.useState)(!1),a=Object(i.a)(t,2),o=a[0],c=a[1],l=function(){c(!o)};return r.a.createElement(r.a.Fragment,null,r.a.createElement(u.a,{position:"fixed",className:e.appBar},r.a.createElement(d.a,null,r.a.createElement(p.a,{color:"inherit","aria-label":"open drawer",edge:"start",onClick:l,className:e.menuButton},r.a.createElement(b.a,null)),r.a.createElement(m.a,{className:e.typography,noWrap:!0},r.a.createElement("img",{src:v.a,alt:"",className:e.logo})),r.a.createElement(f.a,{color:"inherit"},"Login"))),r.a.createElement(O.a,{open:o,toggleDrawer:l}))},x=a(543),y=a(549),P=a(252),C=a(548),k=a(37),w=a(21),F=a(134),S=function(){return r.a.createElement(w.c,null,F.a.map((function(e,t){return r.a.createElement(w.a,{key:t,path:e.path,component:e.component,exact:!0===e.exact})})))},T=a(218),R=a(562),A=a(575),I=a(393),D=a.n(I),N={};F.a.forEach((function(e){return N[e.path]=e.label}));var L=Object(s.a)((function(e){return Object(T.a)({routerLink:{color:e.palette.secondary.main,"&:focus, &:active":{color:e.palette.secondary.main},"&:hover":{color:e.palette.secondary.dark}}})})),B=function(e){return r.a.createElement(R.a,Object.assign({},e,{component:k.b}))};function q(){var e=L();return r.a.createElement(C.a,null,r.a.createElement(P.a,{paddingTop:2,paddingBottom:1},r.a.createElement(w.a,null,(function(t){return function(t){var a=t.pathname.split("/").filter((function(e){return e}));return a.unshift("/"),r.a.createElement(A.a,{"aria-label":"breadcrumb"},a.map((function(t,n){var o=n===a.length-1,c="".concat(a.slice(0,n+1).join("/").replace("//","/")),i=Object.keys(N).find((function(e){return new D.a(e).match(c)}));return void 0!==i&&(o?r.a.createElement(m.a,{color:"textPrimary",key:c},N[i]):r.a.createElement(B,{color:"inherit",to:c,key:c,className:e.routerLink},N[i]))})))}(t.location)}))))}var M=a(119),_={primary:{main:"#79aec8",contrastText:"#fff"},secondary:{main:"#4db5ab",contrastText:"#fff",dark:"#055a52"},background:{default:"#fafafa"}},V=Object(M.a)({palette:_,overrides:{MUIDataTable:{paper:{boxShadow:"none"}},MUIDataTableTooblar:{root:{minHeight:"58px",backgroundColor:_.background.default},icon:{color:_.primary.main,"&:hover, &:active, &.focus":{color:_.primary.dark}},iconActive:{color:_.primary.dark,"&:hover, &:active, &.focus":{color:_.primary.dark}}},MUIDataTableHeadCell:{fixedHeaderCommon:{paddingTop:8,paddingBottom:8,backgroundColor:_.primary.main,color:"#fff","&[aria-sort]":{backgroundColor:"#459ac4"}},sortActive:{color:"#fff"},sortAction:{alignItems:"center"},sortLabelRoot:{"& svg":{color:"#fff !important"}}},MUIDataTableSelectCell:{headerCell:{backgroundColor:_.primary.main,"& span":{color:"#fff !important"}}},MUIDataTableBodyCell:{root:{color:_.secondary.main,"&:hover, &:active, &.focus":{color:_.secondary.main}}},MUIDataTableToolbarSelect:{title:{color:_.primary.main},iconButton:{color:_.primary.main}},MUIDataTableBodyRow:{root:{"&:nth-child(odd)":{backgroundColor:_.background.default}}},MUIDataTablePagination:{root:{color:_.primary.main}}}}),U=a(10),z=a(135),G=a(33),W=a(152),H=a.n(W),Y=Object(s.a)((function(e){return{variantSuccess:{backgroundColor:e.palette.success.main},variantError:{backgroundColor:e.palette.error.main},variantInfo:{backgroundColor:e.palette.primary.main}}})),Q=function(e){var t,a=e.children,n=Object(z.a)(e,["children"]),o={classes:Y(),autoHideDuration:3e3,maxSnack:3,anchorOrigin:{horizontal:"right",vertical:"top"},preventDuplicate:!0,ref:function(e){return t=e},action:function(e){return r.a.createElement(p.a,{color:"inherit",style:{fontSize:20},onClick:function(){return t.closeSnackbar(e)}},r.a.createElement(H.a,null))}},c=Object(U.a)(Object(U.a)({},o),n);return r.a.createElement(G.a,c,a)},X=a(402),Z=a(561),K=a(41);function J(e){return Object(U.a)(Object(U.a)({},e),{},{palette:Object(U.a)(Object(U.a)({},e.palette),{},{primary:e.palette.error,type:"dark"})})}var $=function(){var e=n.useContext(K.a);return n.createElement(x.a,{theme:J},n.createElement(X.a,{in:e},n.createElement(Z.a,{color:"primary",style:{position:"fixed",width:"100%",zIndex:999999}})))},ee=a(47),te=a(62),ae=function(e){var t=e.children,a=Object(n.useState)(!1),o=Object(i.a)(a,2),c=o[0],l=o[1],s=Object(n.useState)(0),u=Object(i.a)(s,2),d=u[0],p=u[1];function m(){p((function(e){return e<=0?0:e-1}))}return Object(n.useMemo)((function(){var e=!0,t=Object(te.a)((function(t){return e&&!t.headers.hasOwnProperty("ignoreLoading")&&(l(!0),p((function(e){return e+1}))),t.headers=Object(ee.omit)(t.headers,"ignoreLoading"),t})),a=Object(te.b)((function(t){return e&&m(),t}),(function(t){return e&&m(),Promise.reject(t)}));return function(){e=!1,Object(te.d)(t),Object(te.e)(a)}}),[]),Object(n.useEffect)((function(){d||l(!1)}),[d]),r.a.createElement(K.a.Provider,{value:c},t)},ne=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(ae,null,r.a.createElement(x.a,{theme:V},r.a.createElement(Q,null,r.a.createElement(y.a,null),r.a.createElement(k.a,{basename:"/backend"},r.a.createElement($,null),r.a.createElement(E,null),r.a.createElement(P.a,{paddingTop:"80px"},r.a.createElement(q,null),r.a.createElement(C.a,null,r.a.createElement(S,null))))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var re=a(67),oe=a(86),ce=a(159),ie=a(70),le=a(9),se=a.n(le),ue=a(89),de=a(92),pe=a(87),me=se.a.mark(ge),fe=se.a.mark(be);function ge(){var e,t,a,n,r,o,c;return se.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Object(ue.a)(ie.b.ADD_UPLOAD);case 2:e=i.sent;case 3:return i.next=6,Object(ue.e)(e);case 6:t=i.sent,a=t.payload,n=Object(de.a)(a.files),i.prev=9,n.s();case 11:if((r=n.n()).done){i.next=25;break}return o=r.value,i.prev=13,i.next=16,Object(ue.c)(be,{video:a.video,fileInfo:o});case 16:c=i.sent,console.log(c),i.next=23;break;case 20:i.prev=20,i.t0=i.catch(13),console.log(i.t0);case 23:i.next=11;break;case 25:i.next=30;break;case 27:i.prev=27,i.t1=i.catch(9),n.e(i.t1);case 30:return i.prev=30,n.f(),i.finish(30);case 33:console.log(a),i.next=3;break;case 36:case"end":return i.stop()}}),me,null,[[9,27,30,33],[13,20]])}function be(e){var t,a,n,r,o,c;return se.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return t=e.video,a=e.fileInfo,i.next=3,Object(ue.c)(he,{id:t.id,fileInfo:a});case 3:n=i.sent;case 4:return i.prev=5,i.next=8,Object(ue.e)(n);case 8:if(r=i.sent,o=r.progress,!(c=r.response)){i.next=13;break}return i.abrupt("return",c);case 13:return i.next=15,Object(ue.d)(ie.a.updateProgress({video:t,fileField:a.fileField,progress:o}));case 15:i.next=22;break;case 17:return i.prev=17,i.t0=i.catch(5),i.next=21,Object(ue.d)(ie.a.setUploadError({video:t,fileField:a.fileField,error:i.t0}));case 21:throw i.t0;case 22:i.next=4;break;case 24:case"end":return i.stop()}}),fe,null,[[5,17]])}function he(e){var t=e.id,a=e.fileInfo;return Object(ce.c)((function(e){pe.a.partialUpdate(t,Object(l.a)({_method:"PATCH"},a.fileField,a.file),{http:{usePost:!0},config:{headers:{ignoreLoading:!0},onUploadProgress:function(t){if(t.lengthComputable){var a=t.loaded/t.total;e({progress:a})}}}}).then((function(t){return e({response:t})})).catch((function(t){return e(t)})).finally((function(){return e(ce.a)}));return function(){}}))}var ve=se.a.mark(Oe);function Oe(){return se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ue.b)([ge()]);case 2:case"end":return e.stop()}}),ve)}var je=Object(ce.b)(),Ee=Object(oe.e)(Object(oe.c)({upload:ie.c}),Object(oe.a)(je));je.run(Oe);var xe=Ee;c.a.render(r.a.createElement(re.a,{store:xe},r.a.createElement(ne,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},62:function(e,t,a){"use strict";a.d(t,"c",(function(){return o})),a.d(t,"a",(function(){return i})),a.d(t,"b",(function(){return l})),a.d(t,"d",(function(){return s})),a.d(t,"e",(function(){return u}));var n=a(92),r=a(108),o=a.n(r).a.create({baseURL:"http://localhost:8000/api"}),c=[o];function i(e,t){var a,r=[],o=Object(n.a)(c);try{for(o.s();!(a=o.n()).done;){var i=a.value.interceptors.request.use(e,t);r.push(i)}}catch(l){o.e(l)}finally{o.f()}return r}function l(e,t){var a,r=[],o=Object(n.a)(c);try{for(o.s();!(a=o.n()).done;){var i=a.value.interceptors.response.use(e,t);r.push(i)}}catch(l){o.e(l)}finally{o.f()}return r}function s(e){e.forEach((function(e,t){return c[t].interceptors.request.eject(e)}))}function u(e){e.forEach((function(e,t){return c[t].interceptors.response.eject(e)}))}},70:function(e,t,a){"use strict";a.d(t,"b",(function(){return d})),a.d(t,"a",(function(){return p}));var n,r=a(10),o=a(32),c=a(17),i=a(137),l=a(161),s=a.n(l),u=Object(i.createActions)({addUpload:["payload"],removeUpload:["payload"],updateProgress:["payload"],setUploadError:["payload"]}),d=u.Types,p=u.Creators,m={uploads:[]},f=Object(i.createReducer)(m,(n={},Object(c.a)(n,d.ADD_UPLOAD,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0;if(!t.payload.files.length)return e;var a=h(e,t.payload.video.id);if(-1!==a&&e.uploads[a].progress<1)return e;var n=-1===a?e.uploads:s()(e.uploads,{$splice:[[a,1]]});return{uploads:[].concat(Object(o.a)(n),[{video:t.payload.video,progress:0,files:t.payload.files.map((function(e){return{fileField:e.fileField,filename:e.file.name,progress:0}}))}])}})),Object(c.a)(n,d.REMOVE_UPLOAD,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0,a=e.uploads.filter((function(e){return e.video.id!==t.payload.id}));if(a.length===e.uploads.length)return e;return{uploads:a}})),Object(c.a)(n,d.UPDATE_PROGRESS,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0,a=t.payload.video.id,n=t.payload.fileField,o=g(e,a,n),i=o.indexFile,l=o.indexUpload;if("undefined"===typeof l)return e;var u=e.uploads[l],d=u.files[i];if(d.progress===t.payload.progress)return e;var p=s()(e.uploads,Object(c.a)({},l,{$apply:function(e){var a=s()(e.files,Object(c.a)({},i,{$set:Object(r.a)(Object(r.a)({},d),{},{progress:t.payload.progress})})),n=b(a);return Object(r.a)(Object(r.a)({},e),{},{progress:n,files:a})}}));return{uploads:p}})),Object(c.a)(n,d.SET_UPLOAD_ERROR,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0,a=t.payload.video.id,n=t.payload.fileField,o=g(e,a,n),i=o.indexFile,l=o.indexUpload;if("undefined"===typeof l)return e;var u=e.uploads[l],d=u.files[i],p=s()(e.uploads,Object(c.a)({},l,{files:Object(c.a)({},i,{$set:Object(r.a)(Object(r.a)({},d),{},{error:t.payload.error,progress:1})})}));return{uploads:p}})),n));function g(e,t,a){var n=h(e,t);if(-1===n)return{};var r=function(e,t){return e.findIndex((function(e){return e.fileField===t}))}(e.uploads[n].files,a);return-1===r?{}:{indexUpload:n,indexFile:r}}function b(e){var t=e.length;return t?e.reduce((function(e,t){return e+t.progress}),0)/t:0}function h(e,t){return e.uploads.findIndex((function(e){return e.video.id===t}))}t.c=f},87:function(e,t,a){"use strict";var n=a(100),r=a(62),o=new n.a(r.c,"videos");t.a=o}},[[410,1,2]]]);
//# sourceMappingURL=main.b1801db8.chunk.js.map